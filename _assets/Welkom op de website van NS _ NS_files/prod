_stTracker.insertTags({"tags":[{"markerCondition":"[]","selector":"head","id":144,"version":440,"content":"_st.util.fallbackHeader = function() {\n                _st.util.eraseCookie('herocarousel');\n                _st.util.setCookie('herocarousel','fallback');  \n    var headerImageExists = setInterval(function() {\n    try {\n            i++;\n\t\t\n           if (typeof _st.util.getElement('.hero__loaderContainer') !== 'undefined' && typeof _st.util.getElement('.hero__loaderContainer noscript') !== 'undefined') {\n                var headerNoScript = _st.util.getElement('.hero__loaderContainer noscript');\n                var headerLoader = _st.util.getElement('.hero__loaderContainer');\n\n                // Get content & create new div\n                var headerOriginalText = headerNoScript.textContent || headerNoScript.label;\n            \n                var newDiv = document.createElement('div');\n                newDiv.innerHTML = headerOriginalText;\n\n                // Replace loader with header   \n                var newHeader = newDiv.childNodes;\n\t\t\t\t\n\t\t\t\tif(typeof newHeader === 'object'){\n\t\t\t\tvar nHL = newHeader.length -1;\n\t\t\t\t\n\t\t\t\tif(i > 5) {\n               \t clearInterval(headerImageExists);\n            \t}\n\t\t\t\t\t\n                var a = headerLoader.parentNode;\n\n\t\t\t\t\ta.replaceChild(newHeader[nHL], headerLoader);\t\n                \tclearInterval(headerImageExists);\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n            } else {\n                _st.counter.call('12');\n                clearInterval(headerImageExists);\n            }\n\n            \n    } catch(err) {}\n   \t _st.debug.log('error');\n    \t        }, 400);  \n    };\n\n_st.util.modifyNewHeader = function(item,content,images,key,exp,segment) {\n\n\t\t\n\t\n\tif(window.location.pathname === '/en' || exp === 'ctrl'){\n        _st.util.fallbackHeader();\n\t\t\n\t\t}\n\t\n\t\n\t_st.counter.call('44');\n    \n       // Defaults\n    var defaultContent = {\n        'title': '',\n        'text': '',\n        'priceBeforePrefix': '',\n        'priceBefore': '',\n        'priceAfterPrefix': '',\n        'priceAfter': '',\n        'priceAfterSuffix': '',\n        'readmoreButtonText': '',\n        'readmoreButtonLink': '',\n        'ctaButtonText': '',\n        'ctaButtonLink': '',\n        'colorScheme': 'standard'\n    };\n    \n    var defaultImages = {\n        'imageHighRes': '',\n        'imageMedRes': '',\n        'imageLowRes': ''\n    };\n\t\n    content = content || defaultContent;\n    images = images || defaultImages;\n    key = key || '';\n    exp = exp || '';\n    segment = segment || '';\n\n    try {\n\t\t\n\t\t        \t\t// Click event\n\t\n\t\t    if(exp === '' || exp == 'exp') {\n        \n            var headerImageExists = setInterval(function() {\n\n            i++;\n    if (typeof _st.util.getElement('.hero__loaderContainer noscript') !== 'undefined') {\n                var headerNoScript = _st.util.getElement('.hero__loaderContainer noscript');\n                var headerLoader = _st.util.getElement('.hero__loaderContainer');\n\n                // Get content & create new div\n                var headerOriginalText = headerNoScript.textContent || headerNoScript.label;\n                var newHeader = document.createElement('div');\n                newHeader.innerHTML = headerOriginalText;\n\n                // Replace loader with header   \n                var slide = newHeader.getElementsByClassName('heroflow')[0];\n\n                // Modify Slide + HeroFlow\n                var block = newHeader.getElementsByClassName('grid__unit')[0];\n                var heroflowOverlay = newHeader.getElementsByClassName('heroflow__overlay')[0];\n                \n                // Modify ColorFLow + Text\n                var colorDiv;\n                var colorFlow;\n                var arrowLinkColor = '--white';\n        \n                if(content.colorScheme === 'blue_white'){\n                            colorDiv = '<div class=\"heroflow__content\">';\n                            colorFlow = '<div class=\"heroflow__overlay heroflow__overlay--solidBlue\"> <svg class=\"heroflow__overlay-svg\" preserveAspectRatio=\"xMinYMin meet\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 767 423\"> <defs> <style>.cls-1-1{fill: none;}.cls-1-2{clip-path: url(#clip-path-1);}.cls-1-3{fill: url(#linear-gradient-1);}</style> <clipPath id=\"clip-path-1\" transform=\"translate(-0.331)\"> <path class=\"cls-1-1\" d=\"M0,423.5H4.523c111.477,0,212.584-43.107,289.315-119.838L477.662,119.838C554.393,43.107,655.954,0,766.977,0H0Z\"></path> </clipPath> <linearGradient id=\"linear-gradient-1\" y1=\"211.5\" x2=\"767\" y2=\"211.5\" gradientUnits=\"userSpaceOnUse\"> <stop class=\"heroflow__overlay-start\" offset=\"0\" stop-color=\"currentColor\"></stop> <stop class=\"heroflow__overlay-stop\" offset=\"1\" stop-color=\"currentColor\"></stop> </linearGradient> </defs> <g class=\"cls-1-2\"> <rect class=\"cls-1-3 heroflow__overlay-gradient\" width=\"767\" height=\"423\"></rect> </g> </svg> </div>';\n                    }   else if(content.colorScheme === 'white_white'){\n                            colorDiv = '<div class=\"heroflow__content heroflow__content--white\">';\n                            colorFlow = '<div class=\"heroflow__overlay heroflow__overlay--solidWhite\"> <svg class=\"heroflow__overlay-svg\" preserveAspectRatio=\"xMinYMin meet\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 767 423\"> <defs> <style>.cls-3-1{fill: none;}.cls-3-2{clip-path: url(#clip-path-3);}.cls-3-3{fill: url(#linear-gradient-3);}</style> <clipPath id=\"clip-path-3\" transform=\"translate(-0.331)\"> <path class=\"cls-3-1\" d=\"M0,423.5H4.523c111.477,0,212.584-43.107,289.315-119.838L477.662,119.838C554.393,43.107,655.954,0,766.977,0H0Z\"></path> </clipPath> <linearGradient id=\"linear-gradient-3\" y1=\"211.5\" x2=\"767\" y2=\"211.5\" gradientUnits=\"userSpaceOnUse\"> <stop class=\"heroflow__overlay-start\" offset=\"0\" stop-color=\"currentColor\"></stop> <stop class=\"heroflow__overlay-stop\" offset=\"1\" stop-color=\"currentColor\"></stop> </linearGradient> </defs> <g class=\"cls-3-2\"> <rect class=\"cls-3-3 heroflow__overlay-gradient\" width=\"767\" height=\"423\" opacity=\"0.4\"></rect> </g> </svg> </div>';\n\t\t\t\t\t\t\t_st.inject.css(\".heroflow__overlay--solidWhite:before {opacity:0.1}\");\n                }       else if(content.colorScheme === 'white_blue'){\n                            colorDiv = '<div class=\"heroflow__content heroflow__content--blue\">';\n                            arrowLinkColor = '--blue';\n                            colorFlow = '<div class=\"heroflow__overlay heroflow__overlay--solidWhite\"> <svg class=\"heroflow__overlay-svg\" preserveAspectRatio=\"xMinYMin meet\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 767 423\"> <defs> <style>.cls-3-1{fill: none;}.cls-3-2{clip-path: url(#clip-path-3);}.cls-3-3{fill: url(#linear-gradient-3);}</style> <clipPath id=\"clip-path-3\" transform=\"translate(-0.331)\"> <path class=\"cls-3-1\" d=\"M0,423.5H4.523c111.477,0,212.584-43.107,289.315-119.838L477.662,119.838C554.393,43.107,655.954,0,766.977,0H0Z\"></path> </clipPath> <linearGradient id=\"linear-gradient-3\" y1=\"211.5\" x2=\"767\" y2=\"211.5\" gradientUnits=\"userSpaceOnUse\"> <stop class=\"heroflow__overlay-start\" offset=\"0\" stop-color=\"currentColor\"></stop> <stop class=\"heroflow__overlay-stop\" offset=\"1\" stop-color=\"currentColor\"></stop> </linearGradient> </defs> <g class=\"cls-3-2\"> <rect class=\"cls-3-3 heroflow__overlay-gradient\" width=\"767\" height=\"423\"></rect> </g> </svg> </div>';\n                    }\n        \n\t\t\t\t\t\t\n                // Build PriceDetails\n\t\t\t\tvar priceDetailsBlock = '';\n\t\t\t\tif(content.priceBefore !== '' || content.priceAfter !== ''){\n\t\t\t\t\n\t\t\t\tvar content_l1 = '<span class=\"pricedetails__before\" id=\"l1_priceBeforePrefix\"></span>';  \n                var content_l2 = ' <span class=\"pricedetails__from\" id=\"l2_priceBefore\"><span class=\"alt\"></span></span>';\n                var content_l3 = '<span class=\"pricedetails__price\" id=\"l3_priceAfterPrefix\"><span class=\"pricedetails__before\"></span><span class=\"alt\"></span></span>';\n                var content_l4 = '<span class=\"pricedetails__after\" id=\"l4_priceAfterSuffix\"></span>';\n          \n\t\t\t\tif(content.priceBeforePrefix !== ''){content_l1 = '<span class=\"pricedetails__before\" id=\"l1_priceBeforePrefix\">'+content.priceBeforePrefix+' </span>';}\n\t\t\t\tif(content.priceBefore !== ''){content_l2 = ' <span class=\"pricedetails__from\" id=\"l2_priceBefore\"><span class=\"alt\">van </span>&euro;'+content.priceBefore+'</span>';}\n\t            if(content.priceAfter !== '' && content.priceAfterPrefix !== ''){content_l3 = '<span class=\"pricedetails__price\"><span class=\"pricedetails__before\" id=\"l3_priceAfterPrefix\">'+content.priceAfterPrefix+'</span><span class=\"alt\">voor </span>&euro;'+content.priceAfter+'</span>';}\n\t\t\t\tif(content.priceAfter !== '' && content.priceAfterPrefix === ''){content_l3 = '<span class=\"pricedetails__price\"><span class=\"pricedetails__before\" id=\"l3_priceAfter\"></span><span class=\"alt\">voor </span>&euro;'+content.priceAfter+'</span>';}\n                if(content.priceAfterSuffix !== ''){content_l4 = '<span class=\"pricedetails__after\" id=\"l4_priceAfterSuffix\"> '+content.priceAfterSuffix+'</span>';}\n\n                // PriceDetails\n\t\t\t\t\t\n\t\t        priceDetailsBlock =  '<div class=\"pricedetails heroflow__pricedetails\">'\t+\n\t\t\t\t\t\t\t\t\t\t\t\t'<p>' + \n                                    content_l1\t+\n                                   \tcontent_l2\t+\n\t\t\t\t\t\t\t\t\tcontent_l3\t+\n                                    content_l4\t+\n\t\t\t\t\t\t\t'</p>'+\n\t\t\t\t\t\t'</div>';\n\t\t\t\t\n\t\t\t\t} \t\t\t\n\t\t\n                //End of PriceDetails\n        \n                // Button & Readmore\n                var buttonBlock = '';\n\t\t       \t\n\t\t\tif(content.ctaButtonLink !== ''){\n \t\t\t\tbuttonBlock = '<a href=\"'+content.ctaButtonLink+'\" class=\"button button--nsYellow heroflow__button \" data-type=\"cms-Button\" title=\"'+content.ctaButtonText+'\" data-eventdata=\"{&quot;category&quot;:&quot;userinteractie/clicks/DMP_DynamicHeader&quot;,&quot;data&quot;:{&quot;linkname&quot;:&quot;'+content.ctaButtonText+'&quot;,&quot;linktype&quot;:&quot;link&quot;,&quot;name&quot;:&quot;'+segment+'&quot;,&quot;path&quot;:&quot;'+content.ctaButtonLink+'&quot;,&quot;targetdocumentname&quot;:&quot;index&quot;,&quot;targetdocumentpath&quot;:&quot;'+content.ctaButtonLink+'&quot;,&quot;targettype&quot;:&quot;internal&quot;,&quot;title&quot;:&quot;'+content.title+'&quot;,&quot;key&quot;:&quot;'+key+'&quot;,&quot;segment&quot;:&quot;'+segment+'&quot;,&quot;exp&quot;:&quot;'+exp+'&quot;,&quot;type&quot;:&quot;hero&quot;,&quot;url&quot;:&quot;'+content.ctaButtonLink+'&quot;},&quot;eventname&quot;:&quot;click&quot;}\">'+content.ctaButtonText+'</a>';\n                } else if(content.readmoreButtonLink === '' && content.ctaButtonLink !== ''){\n                buttonBlock = '';\n                } \n\t\t\n                //End of Button & Readmore\n\t\t\t\t\n\t\t\t\tblock.innerHTML = colorDiv + '<h3 class=\"heroflow__heading headingXL\"> '+ content.title +' </h3> <p class=\"heroflow__subheading headingS s-hidden m-visible\"> '+ content.text +' </p>'+priceDetailsBlock+buttonBlock+'</div></div>';\n                heroflowOverlay.outerHTML = colorFlow;\n            \n            if (typeof slide.getElementsByTagName(\"source\") !== 'undefined') {\n\n                    var img = slide.getElementsByTagName(\"source\");\n                    img[0].setAttribute('srcset', images.imageHighRes);\n                    img[1].setAttribute('srcset', images.imageMedRes);\n                    img[2].setAttribute('srcset', images.imageLowRes);\n\n                    var img_b = slide.getElementsByTagName(\"img\")[0].setAttribute('src', images.imageHighRes);\n                    var newDiv = newHeader.childNodes;\n                    var a = headerLoader.parentNode.replaceChild(newDiv[1], headerLoader);\n\t\t\t\t\n\t\t\t\t\n\t\t\t//Display of Elements\n\t\t\t\tif(content.priceBeforePrefix === '' && typeof _st.util.getElement('#l1_priceBeforePrefix') !== 'undefined'){\n\t\t\t\t_st.util.getElement('#l1_priceBeforePrefix').style.display = 'none';\n\t\t\t\t}\n\t\t\t\tif(content.priceBefore === '' && typeof _st.util.getElement('#l2_priceBefore') !== 'undefined'){\n\t\t\t\t_st.util.getElement('#l2_priceBefore').style.display = 'none';\n\t\t\t\t}\n\t\t\t\tif(content.priceAfterPrefix === '' && typeof _st.util.getElement('#l3_priceAfter') !== 'undefined'){\n\t\t\t\t_st.util.getElement('#l3_priceAfter').style.display = 'none';\n\t\t\t\t}\n\t\t\t\tif(typeof _st.util.getElement('.pricedetails__price') !== 'undefined'){\n\t\t\t\t_st.util.getElement('.pricedetails__price').style['margin-right'] = '0px';\n\t\t\t\t}\n\t\t\t\tif(typeof _st.util.getElement('.pricedetails__before') !== 'undefined'){\n\t\t\t\t_st.util.getElement('.pricedetails__before').style['margin-right'] = '0px';\n\t\t\t\t}\t\t\n\t\t\t\t\n\t\t\t\tif(content.colorScheme === 'white_blue'){\n\t\t\t\t_st.util.getElement('.heroflow__gradient').outerHTML = '';\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t clearInterval(headerImageExists);\n\t\t\t\t\n\t\t\t//Include viewcounter in cookie\n\t\t\t\tvar existingCookie = _st.util.getCookie('herocarousel');\n\t\t\t\tvar viewCountCookie = 0;\n\t\t\t\tvar lastSegment;\n\t\t\t\t\n\t\t\t\tif(typeof existingCookie !== 'undefined'){\n\t\t\t\t\t\t\t\t\tviewCountCookie = existingCookie.split('|').slice(-1)[0];\n\t\t\t\t\t\t\t\t\tlastSegment = existingCookie.split('|').slice(-2)[0];\n\t\t\t\t\t\t\t\t}\n\t\t\t\tvar viewCount = parseFloat(viewCountCookie,10);\n\t\t\t\tif(viewCount !== 'NaN' && lastSegment === key){viewCount++;}else{viewCount = 1;}\n                _st.util.setCookie('herocarousel','dmp|'+segment+'|'+key+'|'+viewCount,14);\n               \n\t\t\t\t\n                        }\n            \n            }       if(i > 25) {\n                    clearInterval(headerImageExists);\n                }\n\n            }, 100);  \n        } else {\n            _st.util.fallbackHeader();\n            _st.counter.call('11'); \n}\nif (key !== '') {   \n\t\n\t_st.exec.onload(function() { \n\tif(_st.util.gtagLoaded){\n\t_st.counter.call('43');\n\t\t\n\t\tvar existingCookie = _st.util.getCookie('herocarousel');\n\t\tvar viewCount = 1;\n\t\tif(typeof existingCookie !== 'undefined'){\n\t\t\t\tviewCount = existingCookie.split('|').slice(-1)[0];\n\t\t\t}\n\t\t\n\tgtag('event','view_promotion', {\n\t\t\t'dimension22': segment+'|'+key+'|'+exp,\n\t\t\t'dimension23': segment+'|'+exp,\n\t\t\t'dimension25': segment+'|'+key+'|'+exp,\n\t\t\t'event_label': exp+'|'+viewCount,\n\t\t\t'event_action': 'view|' + segment + '|' + key,\n\t\t\t'event_category': 'DMP_DynamicHeader',\n     \t\t'promotions': [\n\t\t\t\t{\n\t\t\t\t  \t'id': 'dmp|'+segment+'|'+key,\n\t\t\t\t  \t'name': 'dmp|'+segment+'|'+key\n\t\t\t\t\n\t\t\t\t}\n\t\t\t]\n\t\t\t\t\n\t\t});\n\t} else {\n\t_st.counter.call('42');\n\t}\n\t});\n        sessionStorage.setItem('dmpActive', 'true');\n        localStorage.setItem('dmpActive', 'true');\n    \n\t}\n        } catch(err) {\n        _st.counter.call('11'); \n        var params = {\n            'error': err.message\n        };\n}\n\t\n\n\t\n};"},{"markerCondition":"[]","selector":"head","id":298,"version":53,"content":"// Set dimension\n_st.util.setSegmentDimension = function(segment, variant) {\n\tvar activeSegments,\n\t\tsegmentStorageCookie = 'ns_segments';\n\n\tif (typeof segment !== 'undefined' && typeof variant !== 'undefined') {\n\t\tif (segment !== '' && variant !== '') {\n\t\t\tvar segmentCode = segment + ':' + variant;\n\t\t\tif ((typeof sessionStorage !== 'undefined') && (sessionStorage.getItem(segmentStorageCookie) !== null)) {\n\t\t\t\tvar segmentCookie = sessionStorage.getItem(segmentStorageCookie);\n\t\t\t\tactiveSegments = segmentCookie.split(\"|\");\n\t\t\t\tif (activeSegments.indexOf(segmentCode) == -1) {\n\t\t\t\t\tactiveSegments.push(segmentCode);\n\t\t\t\t}\n\t\t\t\tactiveSegments.sort();\n\t\t\t\tsessionStorage.setItem(segmentStorageCookie, activeSegments.join('|'));\n\t\t\t\treturn activeSegments.join('|');\n\t\t\t} else {\n\t\t\t\tactiveSegments = [];\n\t\t\t\tactiveSegments.push(segmentCode);\n\t\t\t\tsessionStorage.setItem(segmentStorageCookie, activeSegments.join('|'));\n\t\t\t\treturn activeSegments.join('|');\n\t\t\t}\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t} else {\n\t\treturn false;\n\t}\n};\n\n// Array max\n_st.util.arrayMax = function(array,separator) {\n\t\n    if (array.length === 0) return null;\n    \n\tvar modeMap = {},\n    \tmaxEl = array[array.length-1].split(separator)[0],\n        maxCount = 1;\n\t\n    for (var i = 0; i < array.length; i++) {\n        var el = array[i].split(separator)[0];\n        if (modeMap[el] === null) modeMap[el] = 1;\n        else modeMap[el]++;\n        if (modeMap[el] > maxCount) {\n            maxEl = el;\n            maxCount = modeMap[el];\n        }\n    }\n    return maxEl;\n};\n\n// Sessionstorage support\n_st.util.sessionStorageSupport = function() {\n\t\n    var test = 'test';\n\t\n    try {\n        localStorage.setItem(test, test);\n        localStorage.removeItem(test);\n        return true;\n    } catch(e) {\n        return false;\n    }\n};\n\n_st.util.browserLanguage = function() {\n\tvar nav = window.navigator,\n\t\tbrowserLanguagePropertyKeys = ['language', 'browserLanguage', 'systemLanguage', 'userLanguage'],\n\t\ti,\n\t\tlanguage;\n\t// support for HTML 5.1 \"navigator.languages\"\n\tif (Array.isArray(nav.languages)) {\n\t\tfor (i = 0; i < nav.languages.length; i++) {\n\t\t\tlanguage = nav.languages[i];\n\t\t\tif (language && language.length) {\n\t\t\t\treturn language;\n\t\t\t}\n\t\t}\n\t}\n\t// support for other well known properties in browsers\n\tfor (i = 0; i < browserLanguagePropertyKeys.length; i++) {\n\t\tlanguage = nav[browserLanguagePropertyKeys[i]];\n\t\tif (language && language.length) {\n\t\t\treturn language;\n\t\t}\n\t}\n\treturn '';\n};\n\n/*Write and Read SessionCookie NS-Settings*/\n_st.util.nsSSW = function(varNS){\n\nvar nsSSO = _st.util.getCookie('nsSS') || '';\n\nif(nsSSO === ''){\n\tnsSSO = '';\n} else {\n\tnsSSO = _st.util.getCookie('nsSS');\n\t_st.util.eraseCookie('nsSS');\n}\n\nvar nsSSOD = nsSSO.split('|');\nnsSSOD.push(varNS);\nvar nsSSN = nsSSOD.join('|');\n_st.util.setCookie('nsSS', nsSSN , 1, 'ns.nl');\n};\n\n\n_st.util.nsSSR = function(varNS){\nvar gCookie = _st.util.getCookie('nsSS') || '';\nvar checkCookie = gCookie.search(varNS) || '';\n\n\t\tif(checkCookie > 0){\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t};\n\nvar pS = _st.core.getPageStructure();\n\n/*Write and Read SessionStorage NS-Settings*/\n_st.util.SS = function(cat,subcat,varx,valx){\n\tif(_st.util.sessionStorageSupport()){\n\tvalx = valx || true;\n\t\n\tif(typeof sessionStorage === 'object'){\n\t\n\tvar ssObjStr = sessionStorage.getItem(cat) || '{}';\n\tvar ssObj = _st.util.decodeJson(ssObjStr);\n\t\t\n\t/*Write*/\n\t\tif(typeof ssObj[subcat] === \"undefined\" && varx){\n\t\t\t//console.log('Write with subcat');\n\t\t\tssObj[subcat] = {};\n\t\t\tssObj[subcat][varx] = valx;\n\t\t\t//console.log(ssObj);\n\t\t\tsessionStorage.setItem(cat,_st.util.encodeJson(ssObj));\n\t\t\t\n\t\t} else if(typeof ssObj[subcat] !== \"undefined\" && varx){\n\t\t\t//console.log('Write without subcat');\n\t\t\tssObj[subcat][varx] = valx;\n\t\t\t//console.log(ssObj);\n\t\t\tsessionStorage.setItem(cat,_st.util.encodeJson(ssObj));\n\t\t\t} \n\t\t\n\t/*Read*/\n\t\telse if(cat && !varx){\n\t\t\t//console.log('READ');\n\t\t\tvar returnObj = sessionStorage.getItem(cat);\n\t\t\tvar decodedObj = _st.util.decodeJson(returnObj);\n\t\t\treturn decodedObj;\n\t\t} \n\t}\n\t}\n};\n\n_st.util.getGAID = function(){\n\n//Return Tracking ID\n\nvar checkSDW = document.location.href.indexOf('spoordeel');\nvar ua;\nvar uaProd = 'UA-18074777-1';\nvar uaTest = 'UA-18074777-22';\nvar uaAcc = 'UA-18074777-23';\nvar uaNSInsite = 'UA-18074777-25';\nvar uaSDWProd = \"UA-18074777-13\";\nvar uaSDWAcc = \"UA-18074777-28\";\nvar uaSDWTest = \"UA-18074777-20\";\n\n\n// Detect environment (switch on hostname)\nvar environmentCheck = document.domain;\nswitch (environmentCheck) {\n\t\tcase 'www.ns.nl':\n\t\t\tua = uaProd;\n\t\t\tif(checkSDW > 0){ua = uaSDWProd;}\n\t\t\tbreak;\n\t\tcase 'www.test.ns.nl':\n\t\tcase 'intershop76.test.ns.nl':\n\t\tcase 'logintest.ns.nl':\t\n\t\tcase 'wwwtestaut.test.ns.nl':\t\n\t\t\tua = uaTest;\n\t\t\tif(checkSDW > 0){ua = uaSDWTest;}\n\t\t\tbreak;\n\t\tcase 'acc.ns.nl':\t\n\t\t\tua = uaAcc;\n\t\t\tif(checkSDW > 0){ua = uaSDWAcc;}\n\t\t\tbreak;\n\t\tcase 'nsdigitaal.sharepoint.com':\t\n\t\t\tua = uaNSInsite;\n\t\t\tbreak;\t\n\t\tdefault:\n\t\t\tua = uaProd;\n\t\t\tif(checkSDW > 0){ua = uaSDWProd;}\n\t\t\t}\t\n\t\n\treturn ua;\n};\n\n_st.util.SHA256 = function(s) {\n    var chrsz = 8;\n    var hexcase = 0;\n\n    function safe_add(x, y) {\n        var lsw = (x & 0xFFFF) + (y & 0xFFFF);\n        var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n        return (msw << 16) | (lsw & 0xFFFF);\n    }\n\n    function S(X, n) {\n        return (X >>> n) | (X << (32 - n));\n    }\n\n    function R(X, n) {\n        return (X >>> n);\n    }\n\n    function Ch(x, y, z) {\n        return ((x & y) ^ ((~x) & z));\n    }\n\n    function Maj(x, y, z) {\n        return ((x & y) ^ (x & z) ^ (y & z));\n    }\n\n    function Sigma0256(x) {\n        return (S(x, 2) ^ S(x, 13) ^ S(x, 22));\n    }\n\n    function Sigma1256(x) {\n        return (S(x, 6) ^ S(x, 11) ^ S(x, 25));\n    }\n\n    function Gamma0256(x) {\n        return (S(x, 7) ^ S(x, 18) ^ R(x, 3));\n    }\n\n    function Gamma1256(x) {\n        return (S(x, 17) ^ S(x, 19) ^ R(x, 10));\n    }\n\n    function core_sha256(m, l) {\n        var K = new Array(0x428A2F98, 0x71374491, 0xB5C0FBCF,\n            0xE9B5DBA5, 0x3956C25B, 0x59F111F1, 0x923F82A4,\n            0xAB1C5ED5, 0xD807AA98, 0x12835B01, 0x243185BE,\n            0x550C7DC3, 0x72BE5D74, 0x80DEB1FE, 0x9BDC06A7,\n            0xC19BF174, 0xE49B69C1, 0xEFBE4786, 0xFC19DC6,\n            0x240CA1CC, 0x2DE92C6F, 0x4A7484AA, 0x5CB0A9DC,\n            0x76F988DA, 0x983E5152, 0xA831C66D, 0xB00327C8,\n            0xBF597FC7, 0xC6E00BF3, 0xD5A79147, 0x6CA6351,\n            0x14292967, 0x27B70A85, 0x2E1B2138, 0x4D2C6DFC,\n            0x53380D13, 0x650A7354, 0x766A0ABB, 0x81C2C92E,\n            0x92722C85, 0xA2BFE8A1, 0xA81A664B, 0xC24B8B70,\n            0xC76C51A3, 0xD192E819, 0xD6990624, 0xF40E3585,\n            0x106AA070, 0x19A4C116, 0x1E376C08, 0x2748774C,\n            0x34B0BCB5, 0x391C0CB3, 0x4ED8AA4A, 0x5B9CCA4F,\n            0x682E6FF3, 0x748F82EE, 0x78A5636F, 0x84C87814,\n            0x8CC70208, 0x90BEFFFA, 0xA4506CEB, 0xBEF9A3F7,\n            0xC67178F2);\n        var HASH = new Array(0x6A09E667, 0xBB67AE85, 0x3C6EF372,\n            0xA54FF53A, 0x510E527F, 0x9B05688C, 0x1F83D9AB,\n            0x5BE0CD19);\n        var W = new Array(64);\n        var a, b, c, d, e, f, g, h, i, j;\n        var T1, T2;\n        m[l >> 5] |= 0x80 << (24 - l % 32);\n        m[((l + 64 >> 9) << 4) + 15] = l;\n        for (var i = 0; i < m.length; i += 16) {\n            a = HASH[0];\n            b = HASH[1];\n            c = HASH[2];\n            d = HASH[3];\n            e = HASH[4];\n            f = HASH[5];\n            g = HASH[6];\n            h = HASH[7];\n            for (var j = 0; j < 64; j++) {\n                if (j < 16) W[j] = m[j + i];\n                else W[j] = safe_add(safe_add(safe_add(Gamma1256(W[j -\n                    2]), W[j - 7]), Gamma0256(W[j - 15])), W[j -\n                    16]);\n                T1 = safe_add(safe_add(safe_add(safe_add(h, Sigma1256(e)),\n                    Ch(e, f, g)), K[j]), W[j]);\n                T2 = safe_add(Sigma0256(a), Maj(a, b, c));\n                h = g;\n                g = f;\n                f = e;\n                e = safe_add(d, T1);\n                d = c;\n                c = b;\n                b = a;\n                a = safe_add(T1, T2);\n            }\n            HASH[0] = safe_add(a, HASH[0]);\n            HASH[1] = safe_add(b, HASH[1]);\n            HASH[2] = safe_add(c, HASH[2]);\n            HASH[3] = safe_add(d, HASH[3]);\n            HASH[4] = safe_add(e, HASH[4]);\n            HASH[5] = safe_add(f, HASH[5]);\n            HASH[6] = safe_add(g, HASH[6]);\n            HASH[7] = safe_add(h, HASH[7]);\n        }\n        return HASH;\n    }\n\n    function str2binb(str) {\n        var bin = Array();\n        var mask = (1 << chrsz) - 1;\n        for (var i = 0; i < str.length * chrsz; i += chrsz) {\n            bin[i >> 5] |= (str.charCodeAt(i / chrsz) & mask) << (24 -\n                i % 32);\n        }\n        return bin;\n    }\n\n    function Utf8Encode(string) {\n        string = string.replace(/\\r\\n/g, \"\\n\");\n        var utftext = \"\";\n        for (var n = 0; n < string.length; n++) {\n            var c = string.charCodeAt(n);\n            if (c < 128) {\n                utftext += String.fromCharCode(c);\n            } else if ((c > 127) && (c < 2048)) {\n                utftext += String.fromCharCode((c >> 6) | 192);\n                utftext += String.fromCharCode((c & 63) | 128);\n            } else {\n                utftext += String.fromCharCode((c >> 12) | 224);\n                utftext += String.fromCharCode(((c >> 6) & 63) | 128);\n                utftext += String.fromCharCode((c & 63) | 128);\n            }\n        }\n        return utftext;\n    }\n\n    function binb2hex(binarray) {\n        var hex_tab = hexcase ? \"0123456789ABCDEF\" : \"0123456789abcdef\";\n        var str = \"\";\n        for (var i = 0; i < binarray.length * 4; i++) {\n            str += hex_tab.charAt((binarray[i >> 2] >> ((3 - i % 4) * 8 +\n                4)) & 0xF) + hex_tab.charAt((binarray[i >> 2] >> ((\n                3 - i % 4) * 8)) & 0xF);\n        }\n        return str;\n    }\n    s = Utf8Encode(s);\n    return binb2hex(core_sha256(str2binb(s), s.length * chrsz));\n};\n\n_st.util.setNotification = function(notificationNL,notificationEN) {\n\n\tvar language = _st.data.getProperty(\"language\");\n\n\tif( language === \"nl\") {\n\t\tnotification = notificationNL;\n\t}\n\telse if (language === \"en\") {\n\t\tnotification = notificationEN;\n\t}\n\n\tvar banner = $(\n\t'<div class=\"headerMessage__container notificationBar\">'+\n\t'\t<div class=\"container\">'+\n\t'\t\t<div class=\"notificationBar \">'+\n\t'\t\t\t<span class=\"notificationBar__icon icon icon--info icon--nsWhite \"></span>'+\n\t'\t\t\t<span class=\"notificationBar__text\">'+notification+'</span>'+\n\t'\t\t</a>'+\n\t'\t\t</div>'+\n\t'\t</div>'+\n\t'</div>'\n\t);\t\n\t$('.content').prepend(banner);\n\t\n};\n\n_st.util.removeDuplicatesArray = function(originalArray, prop) {\n     var newArray = [];\n     var lookupObject  = {};\n\n     for(var i in originalArray) {\n        lookupObject[originalArray[i][prop]] = originalArray[i];\n     }\n\n     for(i in lookupObject) {\n         newArray.push(lookupObject[i]);\n     }\n      return newArray;\n };"},{"markerCondition":"[]","selector":"head","id":916,"version":72,"content":"_st.util.gtagPush = function(label,gtagParams){\n\t\n\tgtagCount = 0;\n\tvar gtagInt = window.setInterval(gtagCallback, 300, label, gtagParams);\n\t\n\t\t\t\tfunction gtagCallback(label) {\n\t\t\t\t\tif(gtagCount > 20){\n\t\t\t\t\t\tclearInterval(gtagInt);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tgtagCount++;\n\t\t\t\t\t\t\tif(typeof gtagParams !== 'object'){\n\t\t\t\t\t\t\t\t\tgtagParams = {};\n\t\t\t\t\t\t\t\t} \n\n\t\t\t\t\t\t\tif(label === 'ga'){\n\t\t\t\t\t\t\t\tlabel = _st.data.getProperty('ua_id');\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif(_st.util.gtagLoaded === true){\n\t\t\t\t\t\t\t\t\t\t\tgtagParams.send_to = label;\n\t\t\t\t\t\t\t\t\t\t\tgtagParams.allow_custom_scripts = true;\n\t\t\t\t\t\t\t\t\t\t\tvar event_action = gtagParams.event_action || 'conversion';\n\n\t\t\t\t\t\t\t\t\t\t\t\tgtag('event', event_action, gtagParams);\t\t\n\t\t\t\t\t\t\t\t\t\t\t\tclearInterval(gtagInt);\n\t\t\t\t\t\t\t\t\t }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n};\n\n_st.util.gtagPushPageview = function(pagename,property){\n\t\n\tif(typeof property === \"undefined\"){\n\t\n\t\tproperty = _st.util.getGAID() || 'UA-18074777-1';\n\t\t\n\t\t}\n\t\n\tgtagCount = 0;\n\tvar gtagInt = window.setInterval(gtagCallback, 300, pagename, property);\n\t\n\t\t\t\tfunction gtagCallback(pagename, property) {\n\t\t\t\t\tif(gtagCount > 20){\n\t\t\t\t\t\tclearInterval(gtagInt);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tgtagCount++;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(_st.util.gtagLoaded === true && typeof property === \"object\"){\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tfor (var i = 0; i < property.length; i++) { \n\t\t\t\t\t\t\t\t gtag('config',property[i], {\n\t\t\t\t\t\t\t\t  'page_path': pagename\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tclearInterval(gtagInt);\n\n\t\t\t\t\t\t\t\t\t } else if(_st.util.gtagLoaded === true && typeof property === \"string\") {\n\t\t\t\t\t\t\t\t\t\tgtag('config',property, {\n\t\t\t\t\t\t\t\t  \t\t\t\t\t\t\t'page_path': pagename\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tclearInterval(gtagInt);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n};\n\n_st.util.getGAID = function(){\n\n//Return Tracking ID\n\nvar checkSDW = document.location.href.indexOf('spoordeel');\nvar ua;\nvar uaProd = 'UA-18074777-1';\nvar uaTest = 'UA-18074777-22';\nvar uaAcc = 'UA-18074777-23';\nvar uaNSInsite = 'UA-18074777-25';\nvar uaSDWProd = \"UA-18074777-13\";\nvar uaSDWAcc = \"UA-18074777-28\";\nvar uaSDWTest = \"UA-18074777-20\";\n\n\n// Detect environment (switch on hostname)\nvar environmentCheck = document.domain;\nswitch (environmentCheck) {\n\t\tcase 'www.ns.nl':\n\t\t\tua = uaProd;\n\t\t\tif(checkSDW > 0){ua = uaSDWProd;}\n\t\t\tbreak;\n\t\tcase 'www.test.ns.nl':\n\t\tcase 'intershop76.test.ns.nl':\n\t\tcase 'logintest.ns.nl':\t\n\t\tcase 'wwwtestaut.test.ns.nl':\t\n\t\t\tua = uaTest;\n\t\t\tif(checkSDW > 0){ua = uaSDWTest;}\n\t\t\tbreak;\n\t\tcase 'acc.ns.nl':\t\n\t\t\tua = uaAcc;\n\t\t\tif(checkSDW > 0){ua = uaSDWAcc;}\n\t\t\tbreak;\n\t\tcase 'nsdigitaal.sharepoint.com':\t\n\t\t\tua = uaNSInsite;\n\t\t\tbreak;\t\n\t\tdefault:\n\t\t\tua = uaProd;\n\t\t\tif(checkSDW > 0){ua = uaSDWProd;}\n\t\t\t}\n\t\n\t_st.data.setLocalProperty('ua_id',ua);\t\n\treturn ua;\n};\n\n_st.util.getCID = function(){\n    // Set ga_cid cookie on gtagLoaded\n\tvar gaC = _st.util.getCookie('_ga') || '';\n\tif(gaC !== ''){\n\t\t\n\tvar gaCF = gaC.split('.').slice(-2).join('.');\n\t\treturn gaCF;\n\t}\n};\n\n_st.util.resetCM = function(){\n\t\n\n\tvar cm_object = {\n\t\n\t\t'metric35': undefined,\n\t\t'metric36': undefined,\n\t\t'metric37': undefined,\n\t\t'metric38': undefined,\n\t\t'metric39': undefined,\n\t\t'metric40': undefined,\n\t\t'metric41': undefined,\n\t\t'metric42': undefined,\n\t\t'metric43': undefined,\n\t\t'metric44': undefined,\n\t\t'metric45': undefined,\n\t\t'metric46': undefined,\n\t\t'metric47': undefined,\n\t\t'metric48': undefined,\n\t\t'metric49': undefined,\n\t\t'metric50': undefined,\n\t\t'metric51': undefined\n\t\n\t};\n\n\tif(typeof gtag === 'function'){\n\t\tgtag('set',cm_object);\t\n\t}\n\t\n\tif(typeof ga === 'function'){\n\t\tga('set',cm_object);\t\n\t}\n\n};\n      \n_st.util.getHitTimeStamp = function(){\n\ttry{\n\t\tvar now = new Date();\n\t\tvar tzo = -now.getTimezoneOffset();\n\t\tvar dif = tzo >= 0 ? '+' : '-';\n\t\tvar pad = function(num) { var norm = Math.abs(Math.floor(num)); return (norm < 10 ? '0' : '') + norm;};\n\t\treturn now.getFullYear()+'-'+pad(now.getMonth()+1)+'-'+pad(now.getDate())+'T'+pad(now.getHours())+':'+pad(now.getMinutes())+':'+pad(now.getSeconds())+'.'+pad(now.getMilliseconds())+dif+pad(tzo/60)+':'+pad(tzo%60);\n\t}catch(e){}\n\treturn undefined;\n};\n\n_st.util.getContentGroup = function(contentGroup){\n\n\t/* R42cpageStructure to GA ContentGroup */\nvar pS = _st.core.getPageStructure();\nvar lenPS = Math.min(pS.length,3);\nvar cG1 = [];\n\nfor(var i=0;(i<lenPS);i++){\n\tvar cleanedpS = pS[i].split(\"?\")[0];\n \tcG1.push(cleanedpS);\n}\n\ncontentGroup1 = cG1.join(\"/\");\ncontentGroup1 = contentGroup1.replace(/\\/\\//g, \"/\");\nvar pSString = _st.core.getPageStructureString();\nvar cleanedPSString_0 = pSString.split(\"?\")[0];\nvar cleanedPSString_1 = cleanedPSString_0.replace(/ \\/ /g, \"_\");\nvar cleanedPSString_2 = cleanedPSString_1.replace(/\\|/g, \"/\");\nvar cleanedPSString_3 = cleanedPSString_2.replace(/\\/\\//g, \"/\")+\"/\";\ncontentGroup2 = cleanedPSString_3;\n\nif(contentGroup ==='cg1'){\nreturn contentGroup1;\n} else if(contentGroup ==='cg2'){\nreturn contentGroup2;\n}\n/* END R42cpageStructure to GA ContentGroup */\n\t\n};\n\n_st.util.setGACustomDimensions = function(){\n\n\t\tvar cd_object = {\n\t\n\t\t'dimension1': _st.settings.environment,\n\t\t'dimension2': _st.data.getProperty('language'),\n\t\t'dimension3': _st.util.getCID(),\n\t\t'dimension4': new Date().getTime() + '.' + Math.random().toString(36).substring(5),\n\t\t'dimension5': _st.util.getHitTimeStamp(),\n\t\t'dimension29': _st.util.getCID(),\n\t\t'dimension39': _st.util.getCookie(\"iSPC\"),\n\t\t'dimension48': _st.util.getCookie(\"expPN\"),\n\t\t'dimension52': _st.util.getCookie(\"nsr\"),\n\t\t'dimension54': 'UserUnknown',\n\t\t'dimension53': _st.util.getCookie(\"idplogin\"),\n\t\t'dimension82': _st.data.getProperty('ip_check') || 'extern',\n\t\t'dimension76': Math.floor(Math.random() * 100)+1\n\t};\n\t\n\tif(_st.util.getUrlParam(\"ESI\") !== ''){\n   \t\tcd_object.dimension31 = _st.util.getUrlParam(\"ESI\");\n   \t}\n\t\n\tif(_st.util.getElement('.tel')){\n\t\tcd_object.dimension48 = _st.util.getCookie(\"expPN\") + '|'+_st.util.getElement('.tel').innerText;\n\t} else {\n\t\tcd_object.dimension48 = _st.util.getCookie(\"expPN\");\n\t}\n\t\n\tif(typeof _st.util.getCookie(\"idplogin\") === 'string' || _st.util.getCookie(\"nsr\") !== 'false'){\n\tcd_object.dimension54 = 'UserKnown';\n\t}\n\t\n\tif(typeof sessionStorage === 'object'){\n\t\tif(typeof sessionStorage[\"recommenderobject\"] === 'string' && _st.core.getPageStructureString() === 'flex-designsprint|reisdata-advies'){\n\t\t\t\tvar rObj = _st.util.decodeJson(sessionStorage[\"recommenderobject\"]);\n\t\t\t\tvar curSub = rObj.currentFactual.subscriptionName;\n\t\t\t\tvar recSub = rObj.recommendation.subscriptionName;\n\t\t\t\tvar recCurDelta = (rObj.currentFactual.overallCost-rObj.recommendation.overallCost)/100;\n\t\t\t\n\t\t\t\n\t\t\t\tcd_object.dimension83 = curSub +' | '+recSub;\n\t\t\t\tcd_object.dimension84 = recCurDelta;\n\t\t}\n}\n\t\n\tvar cg1 = _st.util.getContentGroup('cg1');\n\tvar cg2 = _st.util.getContentGroup('cg2');\n\t\n\tif(typeof gtag === 'function'){\n\t\tgtag('set','content_group1', cg1);\n\t\tgtag('set','content_group2', cg2);\n\t\tgtag('set',cd_object);\t\n\t}\n\t\n\tif(typeof ga === 'function'){\n\t\tga('set',cd_object);\t\n\t}\n\n};\n\n_st.util.gtagSetEcommerce = function(){\n\n\tvar event_action;\n\tvar products = _st.data.getProperty('products');\n\tvar ga_items = [];\n\t\tfor (var i=0; i<products.length; i++){\n\t\t\t\t\t\t\tga_items.push({\n\t\t\t\t\t\t\t\t  'id': products[i].product_id,\n\t\t\t\t\t\t\t\t  'name': products[i].product_name,\n\t\t\t\t\t\t\t\t  'list_name': products[i].product_id,\n\t\t\t\t\t\t\t\t  'brand': products[i].product_id,\n\t\t\t\t\t\t\t\t  'category': products[i].product_category,\n\t\t\t\t\t\t\t\t  'variant': products[i].product_variant,\n\t\t\t\t\t\t\t\t  'list_position': products[i].product_position || i+1,\n\t\t\t\t\t\t\t\t  'quantity': products[i].product_quantity || '1',\n\t\t\t\t\t\t\t\t  'price': (products[i].product_price / 100) || '00.00'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\n\tvar ga_object = {};\n\t\n\t\tswitch(_st.data.getProperty('page_type')) {\n\t\t  \tcase 'product_overview_page':\n\t\t\t\tevent_action = 'view_item_list';\n\t\t\t\tbreak;\n\t\t  \tcase 'check_out_page':\n\t\t\t\tevent_action = 'checkout_progress';\n\t\t\t\tga_object.check_out_step = _st.data.getProperty('funnel_step') || '';\n\t\t\t\tbreak;\n\t\t  \tcase 'thank_you_page':\n\t\t\t\tevent_action = 'purchase';\n\t\t\t\tga_object.check_out_step = _st.data.getProperty('funnel_step') || '';\n\t\t\t\tga_object.transaction_id = _st.data.getProperty('order_id');\n\t\t\t\tga_object.affiliation = _st.data.getProperty('ns_shop');\n\t\t\t\tga_object.value = (_st.data.getProperty('order_total') / 100) || '0.00';\n\t\t\t\tga_object.currency = 'EUR';\n\t\t\t\tga_object.tax = _st.data.getProperty('order_total_tax') || '0.00';\n\t\t\t\tga_object.shipping = '0.00';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\n\t\t}\n\t\n\t\n\n\tif(event_action !== '' || typeof gtag !== 'function'){\n\t\t\n\t\tga_object.items = ga_items;\n\t\tga_object.event_category = 'Ecommerce';\n\t\tga_object.event_action = event_action+'|'+ _st.data.getProperty('ns_shop');\n\t\tga_object.event_label = _st.data.getProperty('funnel_name') +'|'+ _st.data.getProperty('funnel_step_name') +'|'+ _st.data.getProperty('funnel_step')+'/'+_st.data.getProperty('funnel_step_length');\n\t\tga_object.non_interaction = true;\n\n\t\t\n\t\tgtag('event', event_action, ga_object);\n\t}\n};"},{"markerCondition":"[]","selector":"head","id":1096,"version":68,"content":"window.croData = {};\n\nwindow.croData.experimentMap = [\n\t{\n\t\tid: 137,\n\t\tdescription: \"flex hybride test\",\n\t\tname: \"flexhybrid\",\n\t\tvariants: [{\n\t\t\t\tid: 138,\n\t\t\t\tname: \"control\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 139,\n\t\t\t\tname: \"redirect\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 140,\n\t\t\t\tname: \"hybrid\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tid: 133,\n\t\tdescription: \"NS International\",\n\t\tname: \"nsinternationaloverlay\",\n\t\tvariants: [{\n\t\t\t\tid: 134,\n\t\t\t\tname: \"control\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 135,\n\t\t\t\tname: \"modal\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 136,\n\t\t\t\tname: \"inline\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tid: 148,\n\t\tdescription: \"Drukte melder in de reisplanner\",\n\t\tname: \"reisplannerdruktemelder\",\n\t\tvariants: [{\n\t\t\t\tid: 149,\n\t\t\t\tname: \"base\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 150,\n\t\t\t\tname: \"text\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 151,\n\t\t\t\tname: \"icon\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 152,\n\t\t\t\tname: \"control\"\n\t\t\t}\n\t\t]\n\t},\n];\n\n(function () {\n\t\n\tvar croExperimentMap = window.croData.experimentMap;\n    // check if url parameter is set\n    var urlExperimentData = checkUrlParameter(window.location.href);\n\tif(typeof urlExperimentData === 'object') {\n        var experimentNumbers = extractExperimentNumbers(urlExperimentData);\n        if(typeof experimentNumbers === 'object') {\n            writeCookieData(urlExperimentData);\n            setUserData(experimentNumbers);\n        }\n\t}\n\t// if url parameter is not set, check if sessioncookie is present\n\telse {\n        var cookieData = readCookieData();\n        if(typeof cookieData === 'object') {\n            var experimentNumbers = extractExperimentNumbers(cookieData);\n            if(typeof experimentNumbers === 'object') {\n                setUserData(experimentNumbers);\n            }\n        }  \n    }\n\t\n\tvar r42ExperimentMap = _st.data.getUserData().e;\n\tif(typeof r42ExperimentMap === 'object') {\n\t\tmarkActiveExperiments(r42ExperimentMap);\n\t}\n \n \tfunction checkUrlParameter(url) {\n\t\tvar regex = /(\\?|&)exp-(\\D*)=(\\D*)/;\n\t\tvar found = url.match(regex) || [];\n\n\t\t// check if url parameter and value is provided\n\t\tif (found.length === 4) {\n\t\t\t// create experimentDataObject and save to cookie\n\t\t\tvar urlExperimentData = {\n\t\t\t\texperimentGroup: found[2],\n\t\t\t\texperimentVariant: found[3]\n            };\n\t\t\treturn urlExperimentData;\n\t\t}\n\t\telse {\n\t\t\treturn;\n\t\t}\n    }\n    \n    function newExperimentVariables(urlExperimentData) {\n        var cookieDoesNotMatch = _st.util.getCookie('expvar') !== JSON.stringify(urlExperimentData);\n        if (cookieDoesNotMatch) {\n            _st.util.setCookie(\"expvar\", JSON.stringify(urlExperimentData));\n            return true;\n       }\n       else return false;\n    }\n\t\n\tfunction writeCookieData(urlExperimentData) {\n        _st.util.setCookie(\"expvar\", JSON.stringify(urlExperimentData));\n\t}\n\t\n\tfunction readCookieData() {\n\t\tif (typeof _st.util.getCookie(\"expvar\") !== \"undefined\") {\n            var cookieExperimentVariable = _st.util.getCookie(\"expvar\");\n            if (IsJsonString(cookieExperimentVariable)) {\n                var experimentData = JSON.parse(cookieExperimentVariable);\n                if ('experimentGroup' in experimentData && 'experimentVariant' in experimentData) {\n                    return experimentData;\n                }\n            }\n            else return;\n        }\n\t\telse {\n\t\t\treturn;\n\t\t}\n    }\n\n    function extractExperimentNumbers(experimentData) {\n        // check if experimentGroup is defined\n        var selectedExperimentGroup = croExperimentMap.filter(function (group) {\n            return group.name === experimentData.experimentGroup;\n        });\n        if (selectedExperimentGroup.length !== 0) {\n            // check if variant is defined\n            var variantData = selectedExperimentGroup[0].variants.filter(function (variant) {\n                return variant.name === experimentData.experimentVariant;\n            });\n            if (variantData.length !== 0) {\n                var experimentNumbers = {}\n                experimentNumbers.groupNumber = selectedExperimentGroup[0].id;\n                experimentNumbers.variantNumber = variantData[0].id;\n                return experimentNumbers;\n            }\n            else return;\n        }\n        else return;\n    }\n\n\tfunction setUserData(experimentNumbers) {\n        // change experiment group\n        _st.data._userData.e[experimentNumbers.groupNumber] = {\n            group: experimentNumbers.variantNumber,\n            sent: true\n        };\n        _st.data.saveUserData();\n\t}\n\t\n\tfunction refreshPage() {\n\t\tlocation.reload();\n    }\n\n    function IsJsonString(str) {\n        try {\n            JSON.parse(str);\n        } catch (e) {\n            return false;\n        }\n        return true;\n    }\n\t\n\tfunction markActiveExperiments(r42ExperimentMap) {\n        croExperimentMap.forEach(function (experimentMapEntry, index) {\n            var experimentNumberObject = extractR42ExperimentNumbers(experimentMapEntry, r42ExperimentMap );\n            if(typeof experimentNumberObject === 'object') {\n                var activeVariant = croExperimentMap[index].variants.filter(function (variants) {\n                    return variants.id === experimentNumberObject.experimentVariantNumber;\n                });\n                if(typeof activeVariant === 'object') {\n                    window.croData.experimentMap[index].active = true;\n                    window.croData.experimentMap[index].activeVariant = activeVariant[0];\n                }\n            }\n        });\n    }\n\n    function extractR42ExperimentNumbers(experimentMapEntry, r42ExperimentMap) {\n        if (typeof experimentMapEntry.id === 'number' && typeof r42ExperimentMap === 'object') {\n            var experimentGroupNumber = experimentMapEntry.id;\n            if (experimentGroupNumber in r42ExperimentMap) {\n                var experimentVariantNumber = r42ExperimentMap[experimentGroupNumber].group;\n                var experimentNumberObject = {\n                    experimentGroupNumber: experimentGroupNumber,\n                    experimentVariantNumber: experimentVariantNumber\n                };\n                return experimentNumberObject;\n            }\n            else return;\n        }\n        else return;\n    }\n    \n})();"},{"execValue2":"object available","markerCondition":"[]","selector":"head","id":1106,"execValue":"exp_groups","version":15,"content":"(function() {\n    _st.counter.call('54');\n\tvar r42ExperimentMap = this.data;\n\tif(typeof r42ExperimentMap === 'object') {\n\t\t_st.counter.call('55');\n\t}\n\t\n\tvar r42ExperimentMapOriginal = _st.data.getUserData().e;\n\tif(typeof r42ExperimentMapOriginal === 'object') {\n\t\t_st.counter.call('56');\n\t}\n})();\n        \n        ","exec":"event"},{"experimentGroupId":116,"markerCondition":"[]","selector":"head","experimentId":115,"id":1117,"version":11,"content":"(function() {\n\n\tvar exp_data = _st.data._userData.e;\n\t\t_st.data.setLocalProperty('exp_groups',exp_data);\n\t\n\tif(typeof exp_data !== 'undefined'){\n\t\t _st.event.publish('exp_groups', 'object available', exp_data);\n\t}\n\t _st.counter.call('53');\n\t})();\n        "},{"experimentGroupId":117,"markerCondition":"[]","selector":"head","experimentId":115,"id":1118,"version":6,"content":"(function() {\n\n\tvar exp_data = _st.data._userData.e;\n\t\t_st.data.setLocalProperty('exp_groups',exp_data);\n\t\n\tif(typeof exp_data !== 'undefined'){\n\t\t _st.event.publish('exp_groups', 'object available', exp_data);\n\t}\n\t _st.counter.call('53');\n\t})();\n        "},{"markerCondition":"[]","selector":"head","id":1119,"version":3,"content":"(function() {\n\n\n\t _st.counter.call('52');\n\t})();\n        "},{"markerCondition":"[]","selector":"head","id":10,"version":303,"content":"(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n(i[r].q=i[r].q||[]).push(arguments);};i[r].l=1*new Date();a=s.createElement(o);\nm=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m);\n})(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n\n/*Select Property ID & Enable Enhanced Ecommerce*/\nvar ua;\nvar uaProd = \"UA-18074777-1\";\nvar uaTest = \"UA-18074777-22\";\nvar uaAcc = \"UA-18074777-23\";\nvar uaProdSDW = \"UA-18074777-13\";\nvar uaNSInsite = \"UA-18074777-25\";\n\n\n// Detect environment (switch on hostname)\nvar environmentCheck = document.domain;\nswitch (environmentCheck) {\n\t\tcase \"www.ns.nl\":\n\t\t\tua = uaProd;\n\t\t\tbreak;\n\t\tcase \"www.test.ns.nl\":\n\t\tcase \"intershop76.test.ns.nl\":\n\t\tcase \"logintest.ns.nl\":\t\n\t\tcase \"wwwtestaut.test.ns.nl\":\t\n\t\t\tua = uaTest;\n\t\t\tbreak;\n\t\tcase \"acc.ns.nl\":\t\n\t\t\tua = uaAcc;\n\t\t\tbreak;\n\t\tcase \"\":\t\n\t\t\tua = uaNSInsite;\n\t\t\tbreak;\t\n\t\tcase \"www.spoordeel.ns.nl\":\t\n\t\t\tua = uaProdSDW;\n\t\t\tbreak;\t\n\t\tdefault:\n\t\t\tua = uaProd;\n\t\t\t}\n\nga('create', ua, 'auto', {allowLinker: true});\nga('require', 'linker');\nga('linker:autoLink', ['ns.nl', 'login.ns.nl','tripolis.com']);\nga('require', 'ec');\n\n/* Privacy Settings */\nif(_st.cookiepermission.getCookiePreferences()[3]) {\n\tga('require', 'displayfeatures');\n} else {\n\tga('set', 'displayFeaturesTask', null);\n\tga('set', 'allowAdFeatures', false);\n}\n\n/*END Select Property ID & Enable Enhanced Ecommerce */\n\n/*Campaign information to Property */\nif(typeof _st.util.getCookie('NScC') === 'undefined' ||  !_st.util.getCookie('NScC')){\n   } else {\n   _st.data.setProperty('campaignInfo', _st.util.decodeJson(_st.util.getCookie('NScC')));\n   }\n/*Get Hit Timestamp */\nfunction getHitTimeStamp(){\n\ttry{\n\t\tvar now = new Date();\n\t\tvar tzo = -now.getTimezoneOffset();\n\t\tvar dif = tzo >= 0 ? '+' : '-';\n\t\tvar pad = function(num) { var norm = Math.abs(Math.floor(num)); return (norm < 10 ? '0' : '') + norm;};\n\t\treturn now.getFullYear()+'-'+pad(now.getMonth()+1)+'-'+pad(now.getDate())+'T'+pad(now.getHours())+':'+pad(now.getMinutes())+':'+pad(now.getSeconds())+'.'+pad(now.getMilliseconds())+dif+pad(tzo/60)+':'+pad(tzo%60);\n\t}catch(e){}\n\treturn undefined;\n}\n/*END Get Hit Timestamp */\nga('set', 'contentGroup1', _st.util.getContentGroup('cg1'));\nga('set', 'contentGroup2', _st.util.getContentGroup('cg2'));\n/* END R42cpageStructure to GA ContentGroup */\n\n/*Extra Settings, Custom Dimensions & Metrics*/\n\n// Nicolas Oogst (added 23/8/2018)\nvar rand_sample = Math.floor(Math.random() * 100)+1;\nga('set', 'dimension76', rand_sample);\n\nga('set', 'forceSSL', true);\n/*\n\nvar pS = _st.core.getPageStructure();\nvar lenPS = Math.min(pS.length,3);\nvar cG1 = [];\n\nfor(var i=0;(i<lenPS);i++){\n\tvar cleanedpS = pS[i].split(\"?\")[0];\n \tcG1.push(cleanedpS);\n}\n\ncontentGroup1 = cG1.join(\"/\");\ncontentGroup1 = contentGroup1.replace(/\\/\\//g, \"/\");\nvar pSString = _st.core.getPageStructureString();\nvar cleanedPSString_0 = pSString.split(\"?\")[0];\nvar cleanedPSString_1 = cleanedPSString_0.replace(/ \\/ /g, \"_\");\nvar cleanedPSString_2 = cleanedPSString_1.replace(/\\|/g, \"/\");\nvar cleanedPSString_3 = cleanedPSString_2.replace(/\\/\\//g, \"/\")+\"/\";\ncontentGroup2 = cleanedPSString_3;\n\n\nga(function(tracker) {\nvar cId = tracker.get('clientId');\n\tga('set', 'dimension3', cId);\t\n \tga('set', 'dimension29',cId);\n});\n\nga(\"set\", \"dimension1\", _st.settings.environment);\nga(\"set\", \"dimension2\", _st.data.getProperty('language'));\nga('set', 'dimension5', getHitTimeStamp());\nga('set', 'dimension4', new Date().getTime() + '.' + Math.random().toString(36).substring(5)); // set custom dimension User ID\nga('set', 'dimension39', _st.util.getCookie(\"iSPC\"));\nga('set', 'dimension52', _st.util.getCookie(\"nsr\"));\nga('set', 'dimension53', _st.util.getCookie(\"idplogin\"));\n\nif(typeof _st.util.getCookie(\"idplogin\") === 'string' || _st.util.getCookie(\"nsr\") !== 'false'){\n   ga('set', 'dimension54', 'UserKnown');\n   } else {\n   ga('set', 'dimension54', 'UserUnknown');\n   }\n\nif (_st.util.sessionStorageSupport() === true) {\n\tvar sessionString = sessionStorage.getItem('ns_segments');\n\tif (sessionString !== '' || sessionString !== 'null') {\n\t\tga('set', 'dimension37', sessionString);\n\t}\n}\n\nga('set', 'anonymizeIp', true);*/\n\nif(!_st.util.gtagLoaded){\n\t_st.util.setGACustomDimensions();\n}\n\n\n/*END Extra Settings, Custom Dimensions & Metrics*/"},{"markerCondition":"[]","selector":"head","id":641,"version":10,"content":"(function() {\n\ttry {\n\t\tif (typeof Raven !== 'undefined') {\n\t\t\tvar userId = _st.tracking.getUserIdentifier();\n\t\t\tRaven.setUserContext({\n\t\t\t\tid: userId\n\t\t\t});\n\t\t}\n\t} catch (e) {\n\t\t//ignore\n\t}\n})();"},{"markerCondition":"[]","selector":"head","id":728,"version":28,"content":"function oogstDebugger() {\n\treturn function(tagName, text) {\n\t\tif (checkCookie('oogst_debug') != false||null) {\n\t\tconsole.log(tagName + ': ' + text);\n\t\t}\n\t\telse{}\n\t};\n}"},{"markerCondition":"[]","selector":"head","id":868,"version":13,"content":"_st.inject.css(\".r42CookieBar{position:fixed;top:20px;right:0;left:0;-webkit-transition:top ease-in-out 300ms;transition:top ease-in-out 300ms;z-index:7777777;overflow:auto;width:calc(100vw - 40px);height:calc(80vh - 40px);min-height:220px;margin-left:auto;margin-right:auto;border:0}@media screen and (min-width: 640px){.r42CookieBar{width:600px;max-height:380px}}@media screen and (min-width: 1024px) and (min-height: 520px){.r42CookieBar{top:100px}}#r42CookieBg{position:fixed;top:0;left:0;height:100%;width:100%;z-index:620;background-color:rgba(0,0,0,0.8)}\");\n","exec":"onready"},{"markerCondition":"[]","selector":"head","id":915,"version":33,"content":"(function(){\nif (typeof gtag === 'undefined') {\n\t\t\t\n\t\tvar uaId = _st.util.getGAID();\n\t\tgtmString = 'https://www.googletagmanager.com/gtag/js?id='+uaId;\n        _st.inject.script(gtmString);\n\n        window.dataLayer = window.dataLayer || [];\n        window.gtag = function() {\n            dataLayer.push(arguments);\n        };\n        gtag('js', new Date());\n    \n   \t\tgtag('config',uaId, { \n\t\t\t\t'send_page_view': false,\n\t\t\t\t'anonymize_ip': true,\n\t\t\t\t'allow_display_features': _st.cookiepermission.getCookiePreferences()[3],\n\t\t\t\t'forceSSL': true,\n\t\t\t\t'custom_map': {\n\t\t\t\t\t'dimension1': _st.settings.environment, //Environment\n\t\t\t\t\t'dimension2': 'language', //Site language\n\t\t\t\t\t'dimension3': 'clientId', //Visitor ID\n\t\t\t\t\t'dimension4': 'sessionId', //Session ID\n\t\t\t\t\t'dimension5': 'hitTimeStamp', //HitTimeStamp\n\t\t\t\t\t'dimension6': 'productVertrekstation', //Vertrekstation\n\t\t\t\t\t'dimension7': 'productEindstation', //Eindstation\n\t\t\t\t\t'dimension8': 'rpTraject', //(RP) - Traject\n\t\t\t\t\t'dimension9': 'productTraject', //Traject\n\t\t\t\t\t'dimension10': 'productReisdatum', //Reisdatum\n\t\t\t\t\t'dimension11': 'productKlasse', //Klasse\n\t\t\t\t\t'dimension12': 'rpVertrekstation', //(RP) - Vertrekstation\n\t\t\t\t\t'dimension13': 'rpEindstation', //(RP) - Eindstation\n\t\t\t\t\t'dimension14': '', //(RP) - Dagen tot vertrek\n\t\t\t\t\t'dimension15': '', //(RP) - Uur van de dag\n\t\t\t\t\t'dimension16': '', //(RP) - Vertrek of Aankomst\n\t\t\t\t\t'dimension17': '', //(RP) - Via station\n\t\t\t\t\t'dimension18': '', //(RP) - Gekozen suggestie\n\t\t\t\t\t'dimension19': '', //Hostname\n\t\t\t\t\t'dimension20': '', //(RP) - Application Version\n\t\t\t\t\t'dimension21': '', //Cookie-status\n\t\t\t\t\t'dimension22': '', //DMP-segment-variant\n\t\t\t\t\t'dimension23': '', //DMP-segment\n\t\t\t\t\t'dimension24': '', //Experiment\n\t\t\t\t\t'dimension25': '', //DMP-Session\n\t\t\t\t\t'dimension26': '', //Branded SEA test\n\t\t\t\t\t'dimension27': '', //Kredietcheck\n\t\t\t\t\t'dimension28': '', //Kredietcheck\n\t\t\t\t\t'dimension29': 'clientId', //cid\n\t\t\t\t\t'dimension30': '', //Upsell-status\n\t\t\t\t\t'dimension31': '', //Upsell-naam\n\t\t\t\t\t'dimension32': '', //Upsell-Id\n\t\t\t\t\t'dimension33': '', //Order-regel\n\t\t\t\t\t'dimension34': '', //(RP) - Type Reis\n\t\t\t\t\t'dimension35': '', //Mediasynced-Commercial-ID\n\t\t\t\t\t'dimension36': 'sessionStorage', //DMP-mediasynced\n\t\t\t\t\t'dimension37': '', //Segment\n\t\t\t\t\t'dimension38': '', //Filteractie\n\t\t\t\t\t'dimension39': 'iSPC', //ISPcheck\n\t\t\t\t\t'dimension40': '', //(RP) Plantijd afgerond\n\t\t\t\t\t'dimension41': '', //(RP) Plantijd uur (enkel)\n\t\t\t\t\t'dimension42': '', //(RP) - Voortransport\n\t\t\t\t\t'dimension43': '', //(RP) - Natransport\n\t\t\t\t\t'dimension44': '', //verkooptype\n\t\t\t\t\t'dimension45': '', //[R42] ExperimentGroup\n\t\t\t\t\t'dimension46': '', //Verkooptype (Measurement Protocol)\n\t\t\t\t\t'dimension47': '', //[AB] Abo block (mobile)\n\t\t\t\t\t'dimension48': '', //[AB] UserDefined V2\n\t\t\t\t\t'dimension49': '', //[AB] UserDefined\n\t\t\t\t\t'dimension50': '', //[AB] Optimizely - Generiek #1\n\t\t\t\t\t'dimension51': '', //Couponcode\n\t\t\t\t\t'dimension52': 'nsrId', //NSR-Id\n\t\t\t\t\t'dimension53': 'idpLogin', //Login-status\n\t\t\t\t\t'dimension54': 'userDetect', //Herkend\n\t\t\t\t\t'dimension55': '', //[AB] Optimizely - Generiek #2\n\t\t\t\t\t'dimension56': '', //[AB] Optimizely - Generiek #3\n\t\t\t\t\t'dimension57': '', //PaymentMethod (MP)\n\t\t\t\t\t'dimension58': '', //[AB] Optimizely - Generiek #4\n\t\t\t\t\t'dimension59': '', //[AB] Optimizely - Generiek #5\n\t\t\t\t\t'dimension60': '', //[AB] Optimizely - Generiek #6\n\t\t\t\t\t'dimension61': '', //[AB] UserDefined V3\n\t\t\t\t\t'dimension62': '', //(RP) - Reistijd (min)\n\t\t\t\t\t'dimension63': '', //[AB] Optimizely - Generiek #7\n\t\t\t\t\t'dimension64': '', //[AB] Optimizely - Generiek #8\n\t\t\t\t\t'dimension65': '', //detectMobile\n\t\t\t\t\t'dimension66': '', //detectSourceMedium\n\t\t\t\t\t'dimension67': '', //checkPrediction\n\t\t\t\t\t'dimension68': '', //predictionString\n\t\t\t\t\t'dimension69': '', //Relay42 Custom Dimension\n\t\t\t\t\t'dimension70': '', //DalVoordeelCalculator\n\t\t\t\t\t'dimension71': '', //Saleswizard Type\n\t\t\t\t\t'dimension72': '', //DalVoordeelCalculator_leeftijd\n\t\t\t\t\t'dimension73': '', //DalVoordeelCalculator_besparing\n\t\t\t\t\t'dimension74': '', //Verkoopbron\n\t\t\t\t\t'dimension75': '', //productProfit\n\t\t\t\t\t'dimension76': '', //sampleSize\n\t\t\t\t\t'metric1': ''\n\t\t\t\t}\n\t\t});\n\t\t\n\n\t\t_st.data.setLocalProperty('ua_id', uaId);\n\t\t_st.data.setLocalProperty('dc_id','DC-8893231');\n\t\t_st.data.setLocalProperty('aw_id','AW-870396615');\n\t\n\t\t\t\t// SETTINGS - DoubleClick+Google Ads\n\t\t\tif (_st.cookiepermission.getCookiePreferences()[3]) {\n\t\t\t\tgtag('config', _st.data.getProperty('dc_id')); // DoubleClick Account\n\t\t\t\tgtag('config', _st.data.getProperty('aw_id'), {'send_page_view': false}); // AdWords Accounts\n\t\t\t}\n\t\t_st.util.gtagLoaded = true;\n\t\t_st('publishEvent', 'relay42', 'init_gtag');\n\t\t_st.util.setGACustomDimensions();\n}\n})();"},{"markerCondition":"[]","selector":"head","id":1104,"version":16,"content":"window.starttest137 = true;"},{"markerCondition":"[]","selector":"head","id":1120,"version":6,"content":"(function() {\n    _st.counter.call('59');\n\t\n\tif(typeof _st.data === 'object' && typeof _st.data._userData === 'object' && typeof _st.data._userData.e === 'object') {\n\t\t_st.counter.call('60');\n\t}\n})();\n        \n        ","exec":"onload"},{"experimentGroupId":145,"markerCondition":"[]","selector":"head","experimentId":144,"id":1093,"version":9,"content":"(function() {\n\t// intentionally left blank (to make Relay assign user to experiment group)\n})();\n        "},{"markerCondition":"[]","selector":"head","id":837,"version":9,"content":"(function() {\n\n\t_st.data.setLocalProperty('device_category','desktop');\n\t\n})();\n        "},{"markerCondition":"[]","selector":"head","id":996,"version":5,"content":"(function() {\n\n\t_st.data.setLocalProperty('browser_type','chrome');\n\t\n})();\n        "},{"markerCondition":"[]","selector":"head","id":1030,"version":6,"content":"(function() {\n\n\t_st.util.window_loaded = true;\n\t_st.data.setLocalProperty('window_loaded',true);\n\t\n})();\n        ","exec":"onload"},{"experimentGroupId":12,"markerCondition":"[]","selector":"head","experimentId":10,"id":176,"version":105,"content":"(function(){\n\t\n\t\t//View Slot 01 = 59\n\t\t//View Slot 02 = 135\n\t\n\tvar exp = 'exp';\n\t\n\t\t\t\tvar existingCookie = _st.util.getCookie('herocarousel');\n\t\t\t\tvar viewSlot = 59;\n\t\t\t\tvar noTest = _st.util.getUrlParam('dmptest');\n\n\t\t\t\t\n\t\t\t\tif(typeof existingCookie !== 'undefined' && noTest === ''){\n\t\t\t\t\t\t\t\t\tviewCountCookie = existingCookie.split('|').slice(-1)[0];\n\t\t\t\t\t\t\t\t\tvar viewCount = parseFloat(viewCountCookie,10);\n\t\t\t\t\t\t\t\t\tif(viewCount > 2){viewSlot = 135;}\n\t\t\t\t\t\t\t\t}\n\n\t//NS-Extra Test\n\tvar nsEvariant = '';\n\tvar userData = _st.data.getUserData();\n\t  if (typeof (userData.e) == 'object') {\n        if (typeof (userData.e['144']) != 'undefined') {\n            switch (userData.e['144'].group) {\n                case 145:\n\t\t\t\t\t// control group code\n                    nsEvariant = 'ns-extra-aanmeld-v1';\n                    break;\n                case 146:\n                    // variation 1 code\n                    nsEvariant = 'ns-extra-aanmeld-v2';\n                    break;\n                case 147:\n                    // variation 2 code\n                     nsEvariant = 'ns-extra-aanmeld-v3';\n                    break;\n            }\n        }\n    }\n\t\n\t\n\t\nvar siteId = _st.settings.siteId;\n_st.inject.script(\"//a.svtrd.com/s/\" + siteId + \"/p/\" + viewSlot + \"?stRequestProtocol=\" + encodeURIComponent(document.location.protocol) + \"&experiment=\"+exp+\"&ns-flex-lossetickets=ns-flex-lossetickets&ns-flex-overig=ns-flex-overig&nsextra=nsextra&sdw=sdw-all&studenten=studenten&studentennsextra=studentennsextra&nsi=nsi-all&nsextrapromotion=\"+nsEvariant+\"&dmptest=\"+_st.util.getUrlParam('dmptest'));\n})();"},{"experimentGroupId":11,"markerCondition":"[]","selector":"head","experimentId":10,"id":177,"version":54,"content":"(function(){\n\t\n\t\t//View Slot 01 = 59\n\t\t//View Slot 02 = 135\n\t\n\tvar exp = 'ctrl';\n\t\n\t\t\t\tvar existingCookie = _st.util.getCookie('herocarousel');\n\t\t\t\tvar viewSlot = 59;\n\t\t\t\tvar noTest = _st.util.getUrlParam('dmptest');\n\n\t\t\t\t\n\t\t\t\tif(typeof existingCookie !== 'undefined' && noTest === ''){\n\t\t\t\t\t\t\t\t\tviewCountCookie = existingCookie.split('|').slice(-1)[0];\n\t\t\t\t\t\t\t\t\tvar viewCount = parseFloat(viewCountCookie,10);\n\t\t\t\t\t\t\t\t\tif(viewCount > 2){viewSlot = 135;}\n\t\t\t\t\t\t\t\t}\n\n\t\nvar siteId = _st.settings.siteId;\n_st.inject.script(\"//a.svtrd.com/s/\" + siteId + \"/p/\" + viewSlot + \"?stRequestProtocol=\" + encodeURIComponent(document.location.protocol) + \"&experiment=\"+exp+\"&ns-flex-lossetickets=ns-flex-lossetickets&ns-flex-overig=ns-flex-overig&nsextra=nsextra&sdw=sdw-all&studenten=studenten&studentennsextra=studentennsextra&nsi=nsi-all&dmptest=\"+_st.util.getUrlParam('dmptest'));\n})();"},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":220,"version":54,"content":"/* jshint ignore:start */\t\nwindow.lightningjs || function(c) {\n    function g(b, d) {\n        d && (d += (/\\?/.test(d) ? \"&\" : \"?\") + \"lv=1\");\n        c[b] || function() {\n            var i = window,\n                h = document,\n                j = b,\n                g = h.location.protocol,\n                l = \"load\",\n                k = 0;\n            (function() {\n                function b() {\n                    a.P(l);\n                    a.w = 1;\n                    c[j](\"_load\")\n                }\n                c[j] = function() {\n                    function m() {\n                        m.id = e;\n                        return c[j].apply(m, arguments)\n                    }\n                    var b, e = ++k;\n                    b = this && this != i ? this.id || 0 : 0;\n                    (a.s = a.s || []).push([e, b, arguments]);\n                    m.then = function(b, c, h) {\n                        var d = a.fh[e] = a.fh[e] || [],\n                            j = a.eh[e] = a.eh[e] || [],\n                            f = a.ph[e] = a.ph[e] || [];\n                        b && d.push(b);\n                        c && j.push(c);\n                        h && f.push(h);\n                        return m\n                    };\n                    return m\n                };\n                var a = c[j]._ = {};\n                a.fh = {};\n                a.eh = {};\n                a.ph = {};\n                a.l = d ? d.replace(/^\\/\\//, (g == \"https:\" ? g : \"http:\") + \"//\") : d;\n                a.p = {\n                    0: +new Date\n                };\n                a.P = function(b) {\n                    a.p[b] = new Date - a.p[0]\n                };\n                a.w && b();\n                i.addEventListener ? i.addEventListener(l, b, !1) : i.attachEvent(\"on\" + l, b);\n                var q = function() {\n                    function b() {\n                        return [\"<head></head><\", c, ' onload=\"var d=', n, \";d.getElementsByTagName('head')[0].\", d, \"(d.\", g, \"('script')).\", i, \"='\", a.l, \"'\\\"></\", c, \">\"].join(\"\")\n                    }\n                    var c = \"body\",\n                        e = h[c];\n                    if (!e) return setTimeout(q, 100);\n                    a.P(1);\n                    var d = \"appendChild\",\n                        g = \"createElement\",\n                        i = \"src\",\n                        k = h[g](\"div\"),\n                        l = k[d](h[g](\"div\")),\n                        f = h[g](\"iframe\"),\n                        n = \"document\",\n                        p;\n                    k.style.display = \"none\";\n                    e.insertBefore(k, e.firstChild).id = o + \"-\" + j;\n                    f.frameBorder = \"0\";\n                    f.id = o + \"-frame-\" + j;\n                    /MSIE[ ]+6/.test(navigator.userAgent) && (f[i] = \"javascript:false\");\n                    f.allowTransparency = \"true\";\n                    l[d](f);\n                    try {\n                        f.contentWindow[n].open()\n                    } catch (s) {\n                        a.domain = h.domain, p = \"javascript:var d=\" + n + \".open();d.domain='\" + h.domain + \"';\", f[i] = p + \"void(0);\"\n                    }\n                    try {\n                        var r = f.contentWindow[n];\n                        r.write(b());\n                        r.close()\n                    } catch (t) {\n                        f[i] = p + 'd.write(\"' + b().replace(/\"/g, String.fromCharCode(92) + '\"') + '\");d.close();'\n                    }\n                    a.P(2)\n                };\n                a.l && setTimeout(q, 0)\n            })()\n        }();\n        c[b].lv = \"1\";\n        return c[b]\n    }\n    var o = \"lightningjs\",\n        k = window[o] = g(o);\n    k.require = g;\n    k.modules = c\n}({});\nvar w = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\nvar h = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\nif (w > 460 && h > 600) {\n    window.usabilla_live = lightningjs.require(\"usabilla_live\", \"//w.usabilla.com/95fa791eb314.js\");\n} else {\n    window.usabilla_live = lightningjs.require(\"usabilla_live\", \"//w.usabilla.com/95fa791eb314.js\");\n}\n/* jshint ignore:end */","group":1},{"markerCondition":"[]","selector":"head","id":726,"version":34,"content":"\nvar setCookie = function setCookie() {\nvar date = new Date();\ndate.setTime(date.getTime() + 365 * 86400000);\nvar expires = '; expires=' + date.toGMTString();\ndocument.cookie = 'oogst_debug=true' + expires + '; path=/';\n};\n\nvar checkCookie = function checkCookie(name) {\nca = document.cookie.split(';');\n\nfor (var i = 0; i < ca.length; i++) {\nvar c = ca[i];\nwhile (c.charAt(0) === ' ') {\nc = c.substring(1, c.length);\n}\nif (c.indexOf(name) > -1) return true;\n}\nreturn false;\n};\n\nvar removeCookie = function removeCookie(name) {\nif (checkCookie(name)) {\ndocument.cookie = name + \"=; expires=Thu, 18 Dec 2013 12:00:00 UTC; path=/\";\nreturn true;\n} else {\nreturn false;\n}\n};\n\nvar readCookie = function readCookie(name) {\nvar nameEQ = name + '=',\nca = document.cookie.split(';');\n\nfor (var i = 0; i < ca.length; i++) {\nvar c = ca[i];\nwhile (c.charAt(0) == ' ') {\nc = c.substring(1, c.length);\n}\nif (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);\n}\nreturn null;\n};\n\nvar getParameterByName = function getParameterByName(name) {\nname = name.replace(/[\\[]/, \"\\\\\\[\").replace(/[\\]]/, \"\\\\\\]\");\nvar regexS = \"[\\\\?&]\" + name + \"=([^&#]*)\";\nvar regex = new RegExp(regexS);\nvar results = regex.exec(window.location.search);\nif (results === null) {\nreturn \"\";\n} else {\nreturn decodeURIComponent(results[1].replace(/\\+/g, \" \"));\n}\n};\n\nswitch (getParameterByName('oogst_debug')) {\ncase \"drop\":\nsetCookie();\nalert('oogst_debug cookie dropped!');\nbreak;\ncase \"test\":\nif (!checkCookie('oogst_debug') == \"\") {\nsetCookie();\nlocation.reload();\n}\nbreak;\ncase \"delete\":\nif (removeCookie('oogst_debug')) {\nalert('oogst_debug cookie deleted');\n}\nbreak;\ncase \"check\":\nvar cookievalue = readCookie(\"oogst_debug\");\nalert('oogst_debug cookie value: ' + cookievalue);\nbreak;\n}\n"},{"markerCondition":"[]","selector":"head","id":258,"version":55,"content":"var optimizelyId = '8334291602';\nvar pageStructure = _st.core.getPageStructure()[0] || \"\";\npageStructure = pageStructure.toLowerCase();\nif (pageStructure == 'spoordeelwinkel.nl') {\n\tvar optimizelyId = '8176752240';\n}\n_st.inject.script('//cdn.optimizely.com/js/' + optimizelyId + '.js' \n\t\n);\nsetTimeout(function(){\n  window.optimizely = window.optimizely || [];\n  if(!window.optimizely.data) {\n    window.optimizely.push(\"timeout\");\n\t  _st.debug.log('Optimizely timeout triggered');\n  }\n}, 200);","exec":"onready"},{"experimentGroupId":112,"markerCondition":"[]","selector":"head","experimentId":111,"id":1108,"version":3,"content":"(function() {\n    // private function scope, add your code here\n})();\n        "},{"execValue2":"userknown","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":384,"execValue":"authentication","version":26,"content":"if (typeof this.data.nsr != 'undefined') {\n\tvar userId = this.data.nsr;\n\t\n\tvar userIdSHA256 = '';\n\t\n\tif(typeof _st.util.SHA256 === 'function'){userIdSHA256 = _st.util.SHA256(userId);}\n\t\n\tvar slot = 2001; // partnerType\n\tvar markerName = 'syncTRNSC_GSSP';\n\tvar reg = new RegExp('^[0-9]+$');\n\n\tif (!!userId && reg.test(userId) === true && userId.length > 4) {\n\n\t\tvar markers = _st.data.getMarkers(markerName) || {};\n\n\t\tif (typeof markers[userId] === 'undefined' && Object.keys(markers).length === 0) {\n\n\t\t\tvar params = {\n\t\t\t\t'platform': 'ns',\n\t\t\t\t'partnerId': userId,\n\t\t\t\t'slot': '2001',\n\t\t\t\t'type': 'GSSP'\n\t\t\t};\n\n\t\t\t_st.tracking.sendEngagement('Storemapping', params);\n\t\t\t_st.tracking.storeMapping(slot, userId, 2);\n\t\t\t_st.debug.log('Customer-ID (GSSP) mapping successfull: ' + userId);\n\t\t\t_st.counter.call('2');\n\t\t\t_st('addTagProperty','NSR-ID',userId);\n\t\t\t_st.util.setCookie('nsr',userId,90,'.ns.nl');\n\t\t\t//gtag('set', 'userId', userId);\n\t\t}\n\n\t\t_st.data.setMarker(markerName, userId, new Date().getTime() + 7 * 24 * 60 * 60 * 1000);\n\t}\n}","exec":"event","group":3},{"execValue2":"","markerCondition":"[]","selector":"head","id":906,"execValue":"userinteractie/clicks/DMP_DynamicHeader/","version":24,"content":"var eventObject = this.data;\n\nvar segment = eventObject.segment;\nvar exp = eventObject.exp;\nvar key = eventObject.key;\n\n\n\tif(_st.util.gtagLoaded){\n\tgtag('event','select_content', {\n\t\t\t'dimension22': segment+'|'+key+'|'+exp,\n\t\t\t'dimension23': segment+'|'+exp,\n\t\t\t'dimension25': segment+'|'+key+'|'+exp,\n\t\t\t'event_label': exp,\n\t\t\t'event_action': 'click|' + segment + '|' + key,\n\t\t\t'event_category': 'DMP_DynamicHeader',\n     \t\t'promotions': [\n\t\t\t\t{\n\t\t\t\t  \t'id': 'dmp|'+segment+'|'+key,\n\t\t\t\t  \t'name': 'dmp|'+segment+'|'+key\n\t\t\t\t\n\t\t\t\t}\n\t\t\t]\n\t\t\t\t\n\t\t});\n\t\n}","exec":"event"},{"execValue2":"init_gtag","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":233,"execValue":"relay42","version":39,"content":"gtag('event', 'page_view', {'allow_custom_scripts':true, 'send_to': _st.data.getProperty('aw_id'), 'user_id': 'noUser-id available' });\ngtag('event', 'page_view', {\n\t\t\t\t\t'allow_custom_scripts':true, \n\t\t\t\t\t'send_to': _st.data.getProperty('dc_id')+\"/ns_ma0/ns_ma0+standard\",\n \t\t\t\t\t'u1': document.location.hostname,\n\t\t\t\t\t'u2': document.location.pathname,\n\t\t\t\t\t'u3': _st.core.getPageStructureString(),\n\t\t\t\t\t'u6': _st.data.getProperty('deviceCategory'),\n\t\t\t\t\t'u8': _st.data.getProperty('language')\n\t\t});","exec":"event","group":3},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"r42.conditions":{"condition":{"nodeType":"AND","nodes":[{"nodeType":"AND","nodes":[{"nodeType":"CONCRETE","selectionName":"1062_49"}]}]},"cacheSeconds":1200},"selector":"head","id":235,"version":26,"content":"(function() {\n    try {\n\t\tif (!sessionStorage.awCustom) {\n\n\t\t\tif (typeof _st.segmenting.data['1062_49'] != 'undefined') {\n\t\t\t\tvar base = _st.segmenting.data['1062_49'];\n\n\t\t\t\tvar ms = base.ms || '';\n\t\t\t\tvar abo = base.abo || '';\n\n\t\t\t\t_st.inject.script(\"//www.googleadservices.com/pagead/conversion_async.js\", { callback: function() {\n\n\t\t\t\t\tif (window.google_trackConversion) {\n\n\t\t\t\t\t\tvar params = window.google_tag_params || {};\n\t\t\t\t\t\tparams['ms'] = ms;\n\t\t\t\t\t\tparams['abo'] = abo;\n\t\t\t\t\t\twindow.google_trackConversion({\n\t\t\t\t\t\t\tgoogle_conversion_id: parseInt('1013163330', 10),\n\t\t\t\t\t\t\tgoogle_conversion_label: 'remarketing',\n\t\t\t\t\t\t\tgoogle_remarketing_only: true,\n\t\t\t\t\t\t\tgoogle_custom_params: params\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}});\n\n\t\t\t}\n\t\t\tsessionStorage.awCustom = 1;\n\t\t}\n\t} catch(e) {}\n\t\n})();\n        ","group":3},{"execValue2":"on","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":264,"execValue":"mediaSynced","version":21,"content":"if (typeof this.data !== 'undefined' && this.data.id !== 'undefined' && typeof fbq !== 'function') {\n\tvar id = '272912236445090';\n\tvar commercial = this.data[0];\n\tvar initRequired = true;\n\n\t(function(f, b, e, v, n, t, s) {\n\t\tif (f.fbq){initRequired = false; return;}\n\t\tn = f.fbq = function() {\n\t\t\tif (!n.callMethod){\n\t\t\t\tn.queue.push(arguments);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tn.callMethod.apply(n, arguments);\n\t\t\t}\n\t\t};\n\t\tif (!f._fbq) f._fbq = n;\n\t\tn.push = n;\n\t\tn.loaded = !0;\n\t\tn.version = '2.0';\n\t\tn.queue = [];\n\t\tt = b.createElement(e);\n\t\tt.async = !0;\n\t\tt.src = v;\n\t\ts = b.getElementsByTagName(e)[0];\n\t\ts.parentNode.insertBefore(t, s);\n\t})(window,document, 'script', '//connect.facebook.net/en_US/fbevents.js');\n\n\tif(initRequired){\n\t\tfbq('init', id);\n\t} else {\n\t\t_st.debug.log('Potential duplicate FB pixel: '+ id + ' (this message can be ignored in a single page application)');\n\t}\n\t\n}\n\nif(typeof fbq === 'function'){\n\tfbq('trackCustom', 'Campaign', {\n\t  campaign: 'DVD',\n\t  ev: 'doelgroepmediasynced',\n\t  commercialId: commercial.commercialId,\n\t  commercialName: commercial.commercialName\n\t});\n\t\n\t\n\tvar gaObject = {\n\t  event_category: \"mediasynced\",\n\t  event_action: commercial.commercialName,\n\t  event_label: commercial.commercialId,\n\t  non_interaction: true,\n\t  dimension35: commercial.commercialId\n\t};\n\t_st.util.gtagPush('ga',gaObject);\n\t\n}\n","exec":"event","group":3},{"markerCondition":"[]","selector":"head","id":273,"version":86,"content":"try {\n \n// GA Set Event Category\n\n//Check pageStructureString\nvar\tpSString = _st.core.getPageStructureString();\n\t\n// Mapping Variables\nvar gaEventCategory = 'Reisplanner Overig';\n\t\n\tif(pSString === \"Home\"){\n\t\t\tgaEventCategory = 'Reisplanner Home';\t\n\t} else if (pSString === \"Landing|reisinfo\"){\t\n\t\t\tgaEventCategory = 'Reisplanner Reisinfo';\n\t} else if (pSString === \"Applicatie|reisplanner|reisadvies-view\"){\n\t\t\tgaEventCategory = 'Reisplanner Adviespagina';\n\t} else if (pSString === \"Applicatie|reisplanner|reisvraag-view\"){\n\t\t\tgaEventCategory = 'Reisplanner Reisvraag';\n\t} else if (pSString === \"Applicatie|actuele-situatie-op-het-spoor\"){\n\t\t\tgaEventCategory = 'Reisplanner Actueel';\n}\n\nif (typeof sessionStorage === 'object') {\n//Check Aantal Planacties \n\tvar checkReisAdvies = parseInt(sessionStorage.getItem(\"Reisplanner:reisadvies\"),10);\n\n\tif(isNaN(checkReisAdvies) === true ){\n\tcheckReisAdvies = 1;\t\n\tsessionStorage.setItem(\"Reisplanner:reisadvies\", checkReisAdvies);\n\t\t\t\t}else if (checkReisAdvies > 0){\n\tcheckReisAdvies++;\t\n\tsessionStorage.setItem(\"Reisplanner:reisadvies\", checkReisAdvies);\n\t\t}\n} else if (typeof sessionStorage !== 'object') {\n\t_st.event.subscribe('ReisadviesClick', '', function(category, name, data) {\n\n\t\t\n\t\tif(!_st.util.gtagLoaded){\t\n\tga('send', {\n\t\t\thitType: 'event',\n\t\t\teventCategory: gaEventCategory,\n\t\t\teventAction: data.gebruikersactie,\n\t\t\teventLabel: \"error_sessionStorage\",\n\t\t\tdimension81: 'ga'\n\t\t});\n\t\t\t} else if(_st.util.gtagLoaded) {\n\n\t\t\t\t\t\tgtag('event','select_content', {\n\t\t\t\t\t\t\t\t'event_label': 'error_sessionStorage',\n\t\t\t\t\t\t\t\t'event_action': data.gebruikersactie,\n\t\t\t\t\t\t\t\t'event_category': gaEventCategory,\n\t\t\t\t\t\t\t\t'dimension81': 'gtag',\n\t\t\t\t\t\t\t\t'send_to': _st.util.getGAID()\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\n\t\t\n});\n}\n\t\n\t}\n\n\n\ncatch(err) {\nconsole.error(err);\n}\n\n//Reset Reisplanner variables\n\tfunction resetRPVars(){\n\tvar triggerArray = [\"RP1\",\"RP3\",\"RP4\",\"RP5\",\"RP6\",\"RP7\",\"RP8\",\"RP9\",\"RP10\",\"RP11\",\"RP12\",\"RP13\",\"RP14\",\"RP15\",\"RP16\",\"RP17\",\"RP18\",\"RP21\",\"RP22\", \"RP30\", \"RP31\"];\n\n\t\tfor (i = 0; i < triggerArray.length; i++) { \n\t\t\t\tsessionStorage.setItem(triggerArray[i], \"0\");    \n\t\t}\n\t}\n\n//Send GA Event\nfunction sendRPEvent(){\n\tvar gaEventCategory = gaEventCategory;\n\tvar gaEventAction = sessionStorage.getItem(\"RPA\");\n\tvar gaEventLabel = \"Planadvies:\" + checkReisAdvies;\n\tvar gaEventValue;\n\t\nif(!_st.util.gtagLoaded){\t\n\t\t\t\tga('send', {\n\t\t\t\t  hitType: 'event',\n\t\t\t\t  eventCategory: gaEventCategory,\n\t\t\t\t  eventAction: gaEventAction,\n\t\t\t\t  eventLabel: gaEventLabel,\n\t\t\t\t  dimension81: 'ga'\n\t\t\t\t});\n\t} else if(_st.util.gtagLoaded) {\n\t\t\t\t\t\n\t\t\t\tgtag('event','select_content', {\n\t\t\t\t\t\t'event_label': gaEventLabel,\n\t\t\t\t\t\t'event_action': gaEventAction,\n\t\t\t\t\t\t'event_category': gaEventCategory,\n\t\t\t\t\t\t'dimension81': 'gtag',\n\t\t\t\t\t\t'send_to': _st.util.getGAID()\n\t\t\t\t\t});\n\t\t\t\t}\n}"},{"markerCondition":"[]","selector":"head","id":380,"version":28,"content":"(function(){\n\tvar pageStructure = _st.core.getPageStructureString();\n\tvar userLanguage = _st.util.browserLanguage();\n\tvar params = {};\n\tparams.platform = '';\n\t\n\tif (_st.core.getPageStructure()[0] == 'spoordeelwinkel.nl') params.platform = 'sdw';\n\telse params.platform = 'ns';\n\t\n\tparams.pagePath = location.pathname;\n\tparams.hostname = location.hostname;\n\tparams.pageType = pageStructure.toLowerCase();\n\tparams.userAgent = window.navigator.userAgent;\n\tparams.timestamp = Math.floor(Date.now() / 1000);\n\t\n\tif (userLanguage !== '') { params.userLanguage = userLanguage; }\n\tif (_st.util.getUrlParam('utm_source') !== '') { params.utmSource = _st.util.getUrlParam('utm_source').toLowerCase(); }\n\tif (_st.util.getUrlParam('utm_medium') !== '') { params.utmMedium = _st.util.getUrlParam('utm_medium').toLowerCase(); }\n\tif (_st.util.getUrlParam('utm_campaign') !== '') { params.utmCampaign = _st.util.getUrlParam('utm_campaign').toLowerCase(); }\n\tif (_st.util.getUrlParam('utm_content') !== '') { params.utmContent = _st.util.getUrlParam('utm_content').toLowerCase(); }\n\tif (_st.util.getUrlParam('utm_term') !== '') { params.utmTerm = _st.util.getUrlParam('utm_term').toLowerCase(); }\n\tif (_st.util.getUrlParam('gclid') !== '') { params.gclid = _st.util.getUrlParam('gclid'); }\n\tif (_st.util.getUrlParam('q') !== '') { params.search = _st.util.getUrlParam('q'); }\n\tif (_st.data.getProperty('didYouMean') !== '') { params.search_correction = _st.data.getProperty('didYouMean'); }\n\t\n\tif (_st.core.getPageStructure()[2] === 'voordelig-reizen') {\n\t\tvar voordelig_reizen = _st.core.getPageStructure()[3]; \n\t\tparams.voordelig_reizen = 'dagretour-dal-'+ voordelig_reizen; \n\t}\n\t\n\t_st.tracking.sendEngagement('PageView', params);\n\n})();"},{"markerCondition":"[]","selector":"head","id":523,"version":119,"content":"/*Google Analytics script op Relay42 Purchase Event */\n_st.event.subscribe('Purchase', '', (function(category, name, data) {\n\t\n\tvar eventName = name;\n\tvar ecom = data;\n\tvar orderId;\n\tvar orderRevenue;\n\tvar productProfit;\n\tvar platformId;\n\tvar productName;\n\tvar productId;\n\tvar productVariant;\n\tvar productCategory;\n\tvar pCat;\n\tvar productPrice;\n\tvar productQuantity;\n\tvar klasse;\n\tvar metric25 = '';  // Custom Metric GA: '(Product) Opbrengst-Kosten'\n\tvar pageStructure = _st.core.getPageStructureString();\n\tvar verkooptype = 'non-mp';\n\n\t\tswitch(eventName) {\n\t\t\tcase 'Verlengen':\n\t\t\t\t\torderId = ecom.orderId;\n\t\t\t\t\torderRevenue = ecom.transactionRevenue;\n\t\t\t\t\tproductProfit = ecom.productProfit || 0;\n\t\t\t\t\tplatformId = 'NS.nl';\n\t\t\t\t\tproductName = ecom.name;\n\t\t\t\t\tproductId = ecom.id;\n\t\t\t\t\tproductVariant = '';\n\t\t\t\t\tproductCategory = 'Abonnementen verlengen';\n\t\t\t\t\tproductPrice = ecom.price;\n\t\t\t\t\tproductQuantity = '1';\n\t\t\t\t\tsendSimpleTransaction(orderId, orderRevenue, platformId, productName, productId, productVariant, productCategory, productPrice, productProfit);\n\t        \tbreak;\n\t\t\tcase 'NS-Businesscard':\n\t\t\t\t\torderId = ecom.orderId;\n\t\t\t\t\torderRevenue = ecom.transactionRevenue;\n\t\t\t\t\tplatformId = 'NS.nl';\n\t\t\t\t\tsendComplexTransaction(orderId, orderRevenue, platformId, ecom.products);\t\n\t\t\t\tbreak;\n\t\t\tcase 'Abonnementen':\n\t\t\t\t\torderId = ecom.orderId;\n\t\t\t\t\torderRevenue = ecom.transactionRevenue;\n\t\t\t\t\tproductProfit = ecom.productProfit || 0;\n\t\t\t\t\tplatformId = 'NS.nl';\n\t\t\t\t\tproductName = ecom.name;\n\t\t\t\t\tproductId = ecom.id;\n\t\t\t\t\tproductVariant = ecom.variant;\n\t\t\t\t\tproductCategory = eventName;\n\t\t\t\t\tproductQuantity = '1';\n\t\t\t\t\tklasse = ecom.klasse;\n\t\t\t\t\tproductPrice = ecom.price;\n\t\t\t\t\tsendSimpleTransaction(orderId, orderRevenue, platformId, productName, productId, productVariant, productCategory, productPrice, productProfit);\n\t        \tbreak;\n\t\t\tcase 'NS-Extra':\n\t\t\t\t\torderId = ecom.orderId;\n\t\t\t\t\torderRevenue = ecom.transactionRevenue;\n\t\t\t\t\tproductProfit = ecom.transactionProfit || 0;\n\t\t\t\t\tplatformId = 'NS.nl';\n\t\t\t\t\tproductName = ecom.name;\n\t\t\t\t\tproductId = ecom.id;\n\t\t\t\t\tproductVariant = '';\n\t\t\t\t\tproductCategory = eventName;\n\t\t\t\t\tproductQuantity = '1';\n\t\t\t\t\tklasse = ecom.klasse;\n\t\t\t\t\tproductPrice = ecom.price;\n\t\t\t\t\tsendSimpleTransaction(orderId, orderRevenue, platformId, productName, productId, productVariant, productCategory, productPrice, productProfit);\n\t        \tbreak;\n\t\t\tcase 'NS-Flex':\n\t\t\t\t\torderId = ecom.orderId;\n\t\t\t\t\torderRevenue = ecom.transactionRevenue;\n\t\t\t\t\torderProfit = ecom.transactionProfit || 0;\n\t\t\t\t\tplatformId = 'NS.nl';\n\t\t\t\t\tverkooptype = 'excluded';\n\t\t\t\t\tsendComplexTransaction(orderId, orderRevenue, platformId, ecom.products);\t\n\t        \tbreak;\n\t\t\tcase 'NS-Flex-Overstappen':\n\t\t\t\t\torderId = ecom.orderId;\n\t\t\t\t\torderRevenue = ecom.transactionRevenue;\n\t\t\t\t\tplatformId = 'NS.nl';\n\t\t\t\t\tsendComplexTransaction(orderId, orderRevenue, platformId, ecom.products);\t\n\t        \tbreak;\n  \t\t\tdefault:\n    \t\t\treturn;\n\t}\n\t\n\tfunction sendSimpleTransaction(orderId, orderRevenue, platformId, productName, productId, productVariant, productCategory, productPrice,productProfit){\n\t\t_st.exec.delayed(function(){\n\t\t\t\tvar productsCT = {\n\t\t\t\t'id': productId,\n\t\t\t\t'name': productName,\n\t\t\t\t'category': productCategory,\n\t\t\t\t'variant': productVariant,\n\t\t\t\t'price': productPrice,\n\t\t\t\t'quantity': 1,\n\t\t\t\t'metric25': productProfit || '0.00' // Custom Metric GA: '(Product) Opbrengst-Kosten'\n\t\t};\n\t\t\n\t\tgtag('event', 'purchase', {\n\t\t\t\t\t\t'non_interaction': true,\n\t\t\t\t\t\t'event_category': 'Ecommerce',\n\t\t\t\t\t\t'event_label': productId + \"-\" + orderId,\n\t\t\t\t\t\t'transaction_id': orderId,\n\t\t\t\t\t\t'affiliation': 'NS.nl',\n\t\t\t\t\t\t'value': orderRevenue,\n\t\t\t\t\t\t'currency': \"EUR\",\n\t\t\t\t\t\t'tax': '0.00',\n\t\t\t\t\t\t'shipping': '0.00',\n\t\t\t\t\t\t'dimension46': verkooptype,\n\t\t\t\t\t\t'items': [productsCT]\t\t\t\t\t \n\t\t\t\t\t});\n\t\t\n\t\t},300);\n\t\t}\n\n\tfunction sendComplexTransaction(orderId, orderRevenue, platformId, products, productProfit){\n\t\t\n\t\tvar productsCT = [];\n\t\tfor(var x = 0; x < products.length; x++) {\n\t\t\n\t\t\tproductsCT.push({\n\t\t\t\t'name': products[x].name,\n\t\t\t\t'id': products[x].id,\n\t\t\t\t'category': products[x].category,\n\t\t\t\t'price': products[x].price,\n\t\t\t\t'variant': products[x].variant,\n\t\t\t\t'quantity': 1,\n\t\t\t\t'metric25': products[x].productProfit || '0.00'// Custom Metric GA: '(Product) Opbrengst-Kosten'\n\t\t\t});\t\t\n\t\t}\n\t\t\n\t\t\t\tgtag('event', 'purchase', {\n\t\t\t\t\t\t'non_interaction': true,\n\t\t\t\t\t\t'event_category': 'Ecommerce',\n\t\t\t\t\t\t'event_label': orderId,\n\t\t\t\t\t\t'transaction_id': orderId,\n\t\t\t\t\t\t'affiliation': 'NS.nl',\n\t\t\t\t\t\t'value': orderRevenue,\n\t\t\t\t\t\t'currency': \"EUR\",\n\t\t\t\t\t\t'tax': 0.00,\n\t\t\t\t\t\t'shipping': 0.00,\n\t\t\t\t\t\t'dimension46': verkooptype,\n\t\t\t\t\t\t'items': productsCT\n\t\t\t\t\t \n\t\t\t\t\t});\n\t\t\n\t}\t\n}));"},{"execValue2":"NS-Extra","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":610,"execValue":"Purchase","version":9,"content":"_st.inject.script(\"//www.googleadservices.com/pagead/conversion_async.js\", { callback: function() {\n\tif(window.google_trackConversion) {\n\t\tvar params = {};\n\t\twindow.google_trackConversion({\n\t\t\tgoogle_conversion_id: parseInt('849903506', 10),\n\t\t\tgoogle_remarketing_only: false,\n\t\t\tgoogle_conversion_language :\"en\",\n\t\t\tgoogle_conversion_format : \"3\",\n\t\t    google_conversion_color: \"ffffff\",\n\t\t\tgoogle_conversion_label : \"MgKQCJCo_HEQkv-hlQM\",\n\t\t\tgoogle_custom_params: params\n\n\t\t});\n\t}\n}});","exec":"event","group":3},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"r42.conditions":{"condition":{"nodeType":"AND","nodes":[{"nodeType":"AND","nodes":[{"nodeType":"CONCRETE","selectionName":"1062_75"}]}]},"cacheSeconds":5000},"selector":"head","id":627,"version":14,"content":"(function(){\n/*\n<!-- Google Code for NS|Studenten -->\n<!-- Google Code for Remarketing Tag -->\n<!--------------------------------------------------\nRemarketing tags may not be associated with personally identifiable information or placed on pages related to sensitive categories. See more information and instructions on how to setup the tag on: http://google.com/ads/remarketingsetup\n--------------------------------------------------->\n*/\n\t\n/* <![CDATA[ */\nvar google_conversion_id = 1068646378;\nvar google_conversion_label = \"MAcuCIXStX4Q6v_I_QM\";\nvar google_custom_params = window.google_tag_params;\nvar google_remarketing_only = true;\n/* ]]> */\n\n_st.inject.script('//www.googleadservices.com/pagead/conversion.js');\n\n})();      ","group":3},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"r42.conditions":{"condition":{"nodeType":"AND","nodes":[{"nodeType":"AND","nodes":[{"nodeType":"CONCRETE","selectionName":"1062_68"}]}]},"cacheSeconds":0},"selector":"head","id":628,"version":6,"content":"/*\n<!-- Google Code for NS|Zakelijk -->\n<!-- Google Code for Remarketing Tag -->\n<!--------------------------------------------------\nRemarketing tags may not be associated with personally identifiable information or placed on pages related to sensitive categories. See more information and instructions on how to setup the tag on: http://google.com/ads/remarketingsetup\n--------------------------------------------------->\n*/\n\t\n/* <![CDATA[ */\nvar google_conversion_id = 1068646378;\nvar google_conversion_label = \"HHDWCPXTtX4Q6v_I_QM\";\nvar google_custom_params = window.google_tag_params;\nvar google_remarketing_only = true;\n/* ]]> */\n\n_st.inject.script('//www.googleadservices.com/pagead/conversion.js');","group":3},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":697,"version":94,"content":"//Engagementscript Oogst 2018\n\n// Set Limits scrolls [sL], clicks [cL], pageviews [pL], timing [tL]\n(function(){\n\t\nvar cSCookie = _st.util.getCookie('cS');\n\n\tif(cSCookie === 'done'){\n\treturn;\n\t}\n\t\nif(typeof cSCookie === 'undefined' || cSCookie === 'undefined'){  \n  \t\t\t\t_st.util.setCookie('cS','0x0x0x0x0', (1/24));\n  \t  } else if (typeof cSCookie === 'string'){\n     \t\t_st.util.setCookie('cS','0x0x0x0x0', (1/24));\n   } \n\t/*Set Limits scrolls [sL], clicks [cL], pageviews [pL], timing [tL] */\n\n  var sL = 1;\n  var scrollFrequency = 10; //in %\n  var cL = 1;\n  var pL = 2;\n  var tL = 1;\n  var timeInterval = 7000; //in ms\n\n// Check cookieArray: [scrolls, clicks, pageviews, timing, on/off]\n\nvar cookieArray = cSCookie;\n\n   if(typeof cookieArray === 'undefined' || cookieArray === 'undefined'){ \n      \tcookieArray = [0,0,0,0,0];\n  } else if(typeof cookieArray === 'string' && cookieArray !== 'done'){ \n  \t\tcookieArray = cookieArray.split('x');\n  }\n      \n //console.log(cookieArray); \n\n  var s = parseInt(cookieArray[0]) || 0;\n  var c = parseInt(cookieArray[1]) || 0;\n  var p = parseInt(cookieArray[2]) || 0;\n  var t = parseInt(cookieArray[3]) || 0;\n  var o = parseInt(cookieArray[4]) || 0;\n\nif(o === 0){\n\n// Scroll counter\nvar all = _st.util.getElement('*');\nwindow.addEventListener(\"scroll\", function(){    \n\n          s++;\n\t\t\t\tif(_st.util.getCookie('cS') !== 'done'){\n\t\t\t\t\t_st.util.setCookie('cS',s+'x'+c+'x'+p+'x'+t+'x'+o , (1/24));\n\t\t\t\t}\n\t\t\t\t  if(s === sL){\n\t\t\t\t\teventTrigger('Scroll');\n\t\t\t\t\to++;\n\t\t\t\t\t   }\n\t\t\t});\n\n\n// Click counter \n\n_st.util.onEvent(all, \"click\", function(){\n\t\n\t\t\tc++;\n\t\t\tif(_st.util.getCookie('cS') !== 'done'){\n\t\t\t\t_st.util.setCookie('cS',s+'x'+c+'x'+p+'x'+t+'x'+o , (1/24));\n\t\t\t}\n\n\t\t\tif(c === cL){\n\t\t   \t\teventTrigger('Click');\n\t\t\t\to++;\n\t\t\t\t   }\n\t});\n\n// Pageview counter\n\n        p++;\n  \t\t\tif(_st.util.getCookie('cS') !== 'done'){\n          \t\t_st.util.setCookie('cS',s+'x'+c+'x'+p+'x'+t+'x'+o , (1/24));\n\t\t\t}\n\t\n      if(p === pL){\n          \teventTrigger('Page');\n        \to++;\n           }\n  \n// Timing counter\n_st.exec.delayed(function(){eventTrigger('Time');}, tL*timeInterval);\n  \n  // Set function i.e. Facebook Event \n  \nfunction eventTrigger(trigger){\n  //console.log(trigger);\n\t\n\tvar cookiecS = _st.util.getCookie('cS');\n\t\n\tif(cookiecS !== 'done'){\n\t  //console.log(cookiecS);\n\t\tvar data = {\n\t\t\t'scrolls': s,\n\t\t\t'clicks': c,\n\t\t\t'pageviews': p,\n\t\t\t'timer': t\n\t\t};\n\t\t\n_st('publishEvent', 'OogstEngagement', trigger, data);\n_st.tracking.sendEngagement('OogstEngagement');\n\n\n}\n}\n  \n} \n  }\n    )();","exec":"onload","group":3},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":736,"version":5,"content":"/* jshint expr: true */\n!function(e,t,n,s,u,a){e.twq||(s=e.twq=function(){s.exe?s.exe.apply(s,arguments):s.queue.push(arguments);\n},s.version='1.1',s.queue=[],u=t.createElement(n),u.async=!0,u.src='//static.ads-twitter.com/uwt.js',\na=t.getElementsByTagName(n)[0],a.parentNode.insertBefore(u,a));}(window,document,'script');\n// Insert Twitter Pixel ID and Standard Event data below\ntwq('init','o02os');\ntwq('track','PageView');\n        ","group":3},{"execValue2":"NS-Flex","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":739,"execValue":"Purchase","version":10,"content":"(function(){\n\nvar data = this.data;\n\nif(typeof data === 'object' && _st.util.gtagLoaded){\nvar tid = data.orderId;\nvar transactionRevenue = data.transactionRevenue || '00.00';\t\ngtag('event', 'conversion', { 'send_to': 'AW-870396615/E1SGCOnguW4Qx-WEnwM', 'value': transactionRevenue, 'currency': 'EUR', 'transaction_id': tid });\n}\n\n\n})();","exec":"event","group":3},{"execValue2":"","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":752,"execValue":"Purchase","version":35,"content":"\t\tvar data = this.data;\n\t\tvar name = this.matchedEvent;\n\t\tvar gtagInt = window.setInterval(gtagCallback, 500, data, name);\n\n\t\t\t\tfunction gtagCallback(data,name) {\n\t\t\t\t\tvar totalDC;\n\t\t\t\t\tvar dcEvent;\n\t\t\t\t\tvar dcParams = {};\n\t\t\t\t\t\t\t\tswitch(name){\n\t\t\t\t\t\t\t\t\tcase 'NS-Businesscard':\n\t\t\t\t\t\t\t\t\t\ttotalDC = 'DC-8893231/ns_bu0/ns-busin+unique';\n\t\t\t\t\t\t\t\t\t\tdcEvent = 'conversion';\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 'Abonnementen':\n\t\t\t\t\t\t\t\t\t\ttotalDC = 'DC-8893231/ns_sa0/ns-abo+transactions';\n\t\t\t\t\t\t\t\t\t\tdcEvent = 'purchase';\n\t\t\t\t\t\t\t\t\t\tdcParams.transaction_id = data.orderId;\n\t\t\t\t\t\t\t\t\t\tdcParams.value\t=\tdata.transactionRevenue;\n\t\t\t\t\t\t\t\t\t\tdcParams.u16\t=\tdata.name;\n\t\t\t\t\t\t\t\t\t\tdcParams.u17\t=\t'Abonnementen';\n\t\t\t\t\t\t\t\t\t\tdcParams.u18\t=\tdata.price;\n\t\t\t\t\t\t\t\t\t\tdcParams.u19\t=\t'1';\n\t\t\t\t\t\t\t\t\t\tdcParams.u20\t=\t'[beschikbaarheid]';\n\t\t\t\t\t\t\t\t\t\tdcParams.u21\t=\t'[boekingsperiode]';\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 'Losse Kaartjes':\n\t\t\t\t\t\t\t\t\t\ttotalDC = 'DC-8893231/ns_sa0/tickets+transactions';\n\t\t\t\t\t\t\t\t\t\tdcEvent = 'purchase';\n\t\t\t\t\t\t\t\t\t\tdcParams.transaction_id = data.orderId;\n\t\t\t\t\t\t\t\t\t\tdcParams.value\t=\tdata.transactionRevenue;\n\t\t\t\t\t\t\t\t\t\tdcParams.u16\t=\tdata.nameArray;\n\t\t\t\t\t\t\t\t\t\tdcParams.u17\t=\t'Losse Kaartjes';\n\t\t\t\t\t\t\t\t\t\tdcParams.u18\t=\tdata.productPricesArray;\n\t\t\t\t\t\t\t\t\t\tdcParams.u19\t=\tdata.productQuantityArray;\n\t\t\t\t\t\t\t\t\t\tdcParams.u20\t=\t'[beschikbaarheid]';\n\t\t\t\t\t\t\t\t\t\tdcParams.u21\t=\t'[boekingsperiode]';\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 'Losse Kaartjes|Mijn Tickets':\n\t\t\t\t\t\t\t\t\t\ttotalDC = 'DC-8893231/ns_sa0/tickets+transactions';\n\t\t\t\t\t\t\t\t\t\tdcEvent = 'purchase';\n\t\t\t\t\t\t\t\t\t\tdcParams.transaction_id = document.location.pathname.split('/')[2];\n\t\t\t\t\t\t\t\t\t\tdcParams.value\t=\t'00.00';\n\t\t\t\t\t\t\t\t\t\tdcParams.u17\t=\t'Losse Kaartjes|Mijn Tickets';\n\t\t\t\t\t\t\t\t\t\tdcParams.u20\t=\t'[beschikbaarheid]';\n\t\t\t\t\t\t\t\t\t\tdcParams.u21\t=\t'[boekingsperiode]';\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 'NS-Flex':\n\t\t\t\t\t\t\t\t\t\ttotalDC = 'DC-8893231/ns_sa0/ns-flex+transactions';\n\t\t\t\t\t\t\t\t\t\tdcEvent = 'purchase';\t\t\t\n\t\t\t\t\t\t\t\t\t\tdcParams.transaction_id = data.orderId;\n\t\t\t\t\t\t\t\t\t\tdcParams.value\t=\tdata.transactionRevenue;\n\t\t\t\t\t\t\t\t\t\tdcParams.u16\t=\t'[product]';\n\t\t\t\t\t\t\t\t\t\tdcParams.u17\t=\t'NS-Flex';\n\t\t\t\t\t\t\t\t\t\tdcParams.u18\t=\t'[product_prijs]';\n\t\t\t\t\t\t\t\t\t\tdcParams.u19\t=\t'[product_aantal]';\n\t\t\t\t\t\t\t\t\t\tdcParams.u20\t=\t'[beschikbaarheid]';\n\t\t\t\t\t\t\t\t\t\tdcParams.u21\t=\t'[boekingsperiode]';\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 'Spoordeelwinkel':\n\t\t\t\t\t\t\t\t\t\ttotalDC = 'DC-8893231/ns-sd0/ns-sdw+transactions';\n\t\t\t\t\t\t\t\t\t\tdcEvent = 'purchase';\t\t\n\t\t\t\t\t\t\t\t\t\tdcParams.transaction_id = data.transaction_id;\n\t\t\t\t\t\t\t\t\t\tdcParams.value\t=\tdata.value;\n\t\t\t\t\t\t\t\t\t\tdcParams.u16\t=\tdata.namesArr;\n\t\t\t\t\t\t\t\t\t\tdcParams.u17\t=\t'Uitje';\n\t\t\t\t\t\t\t\t\t\tdcParams.u18\t=\tdata.idsArr;\n\t\t\t\t\t\t\t\t\t\tdcParams.u19\t=\tdata.qtyArr;\n\t\t\t\t\t\t\t\t\t\tdcParams.u20\t=\t'[beschikbaarheid]';\n\t\t\t\t\t\t\t\t\t\tdcParams.u21\t=\t'[boekingsperiode]';\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 'SDW':\n\t\t\t\t\t\t\t\t\t\ttotalDC = 'DC-8893231/ns-sd0/ns-sdw+transactions';\n\t\t\t\t\t\t\t\t\t\tdcEvent = 'purchase';\t\t\n\t\t\t\t\t\t\t\t\t\tdcParams.transaction_id = data.orderID;\n\t\t\t\t\t\t\t\t\t\tdcParams.value\t=\tdata.revenue;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 'NS-Extra':\n\t\t\t\t\t\t\t\t\t\ttotalDC = 'DC-8893231/ns_ns0/ns-extra+unique';\n\t\t\t\t\t\t\t\t\t\tdcEvent = 'conversion';\t\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t  if(_st.util.gtagLoaded === true){\n\t\t\t\t\t\t\tdcParams.send_to = totalDC;\n\t\t\t\t\t  \t\tdcParams.allow_custom_scripts = true;\n\t\t\t\t\t  \n\t\t\t\t\t\t\t  \tgtag('event', dcEvent, dcParams);\t\t\n\t\t\t\t\t  \t\t\tclearInterval(gtagInt);\n\t\t\t\t  }\n\t\t\t}","exec":"event","group":3},{"execValue2":"","markerCondition":"[]","selector":"head","id":824,"execValue":"Purchase","version":10,"content":"/*Google Analytics Test script op Relay42 Purchase Event */\n\t\t\nvar data = this.data;\nvar name = this.matchedEvent;\n\n\t\t\t\t_st.util.gtagPush('ga', {\n\t\t\t\t\t\t'non_interaction': true,\n\t\t\t\t\t\t'event_category': 'TestPurchase',\n\t\t\t\t\t\t'event_action': name,\n\t\t\t\t\t\t'event_label': document.location.pathname\t\t\t\t \n\t\t\t\t\t});\n\t\t\n","exec":"event"},{"markerCondition":"[]","selector":"head","id":949,"version":77,"content":"(function () {\n    var abonnementenItems = [\n        {\n            title: 'Ik wil...',\n            items: [\n                {\n                    title: 'Direct bestellen',\n                    url: '/nsflex/webshop#/bestelling/producten'\n                },\n                {\n                    title: 'Alle abonnementen bekijken',\n                    url: '/ns-abonnementen/overzicht-abonnementen'\n                },\n                {\n                    title: 'Mijn abonnement wijzigen',\n                    url: '/selfservice/producten?0'\n                },\n                {\n                    title: 'Informatie over abonnementen',\n                    url: '/abonnementen'\n                }\n            ]\n        },\n        {\n            title: 'Direct naar',\n            items: [\n                {\n                    title: 'Vragen over mijn factuur',\n                    url: '/klantenservice/flex/factuur.html'\n                },\n                {\n                    title: 'Veelgestelde vragen',\n                    url: '/klantenservice/flex/'\n                }\n            ]\n        },\n        {\n            title: 'Speciale abonnementen',\n            items: [\n                {\n                    title: 'Kids Vrij',\n                    url: '/abonnementen/kids-vrij.html'\n                },\n                {\n                    title: 'Voordelig reizen na Kids Vrij',\n                    url: '/klantenservice/kids-vrij/voordelig-reizen-na-kids-vrij.html'\n                },\n                {\n                    title: 'Ex-studenten',\n                    url: '/studenten/aanbod-afgestudeerd'\n                },\n                {\n                    title: 'Zakelijke abonnementen',\n                    url: '/zakelijk/abonnementen'\n                }\n            ]\n        }\n    ];\n\n    var submenuAbonnementen = document.querySelector('#submenu-abonnementen .submenuList--root');\n    // bail if no menu is found\n    if (!submenuAbonnementen) return;\n    replaceSubmenuList(abonnementenItems, submenuAbonnementen);\n\n    function replaceSubmenuList(data, element) {\n        if (!data) return;\n        if (element && !(element instanceof HTMLElement)) {\n            console.warn('Element is not a HTML element.');\n            return;\n        }\n\n        // generate markup based on data\n        var markup = data.map(function(item) {\n            return '' +\n                '<li class=\"submenuItem\">' +\n                    '<span class=\"submenuItem__title\" id=\"customMenuItem\">' +\n                        item.title +\n                    '</span>' +\n                    '<ul class=\"submenuList\" data-type=\"level3\">' +\n                        item.items.map(function (subitem) {\n                            return '' +\n                            '<li class=\"submenuItem\">' +\n                                '<a href=\"' + subitem.url + '\" class=\"arrowLink submenuItem__link\" data-eventdata=\"{&quot;data&quot;:{&quot;link_location&quot;:&quot;header_menu&quot;,&quot;link_name&quot;:&quot;' + subitem.title + '&quot;,&quot;link_type&quot;:&quot;internal&quot;,&quot;link_value&quot;:&quot;' + subitem.url + '&quot;},&quot;event&quot;:&quot;link_click&quot;}\">' +\n                                    subitem.title +\n                                '</a>' +\n                            '</li>';\n                        }).join('') +\n                    '</ul>' +\n                '</li>';\n        }).join('');\n\n        // inject generated markup\n        element.innerHTML = markup;\n\n        // add event listeners to links\n        var links = element.querySelectorAll('a.submenuItem__link');\n        [].forEach.call(links, function(link) {\n            link.addEventListener('click', function(event) {\n                pushToDdq('click', event.target.innerText, false);\n            });\n        });\n    }\n\n    //////////////////////////\n    // Tracking events      //\n    //////////////////////////\n\t\n\tfunction pushToDdq(action, element, non_interaction) {\n\t\tif (!nsDataQueue) return;\n\n\t\tnsDataQueue.push({\n\t\t\tevent: \"experiments\",\n\t\t\texp_nr: \"EXP_19#52\",\n\t\t\tdescription: \"Flex hybrid\",\n\t\t\taction: action,\n\t\t\telement: element,\n\t\t\tnon_interaction: non_interaction,\n\t\t});\n\t}\n\n\t// send initialize event on page load\n\tpushToDdq(\"initialize\", \"menu\", true);\n\t\n\t\n})();","exec":"onready"},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":971,"version":23,"content":"try {\n\n\t(function(w, d, t, r, u) {\n    var f, n, i;\n    w[u] = w[u] || [];\n    f = function() {\n        var o = {\n            ti: '22018178'\n        };\n        o.q = w[u];\n        w[u] = new UET(o);\n        w[u].push(\"pageLoad\");\n    };\n    n = d.createElement(t);\n    n.src = r;\n    n.async = 1;\n    n.onload = n.onreadystatechange = function() {\n        var s = this.readyState;\n        if (!(s && s !== \"loaded\" && s !== \"complete\")) {\n            f();\n            n.onload = n.onreadystatechange = null;\n        }\n    };\n    i = d.getElementsByTagName(t)[0];\n    i.parentNode.insertBefore(n, i);\n})(window, document, \"script\", \"//bat.bing.com/bat.js\", \"uetq\");\n\t\n} catch(error){\n\n\t_st.debug.log(error);\n\t\n}","exec":"onload","group":3},{"markerCondition":"[]","selector":"head","id":979,"version":2,"content":"var flexAbonnementenData={data:{abonnementen:{zonder_abonnement:{naam:\"Flex Zonder abonnement\",type:\"flex\",betalen:\"Achteraf\",prijs:\"0\",prijs_periode:\"/ mnd\",list_items:[\"Geen korting op reiskosten\"],extra_message:\"\",linkToWebshop:\"/nsflex/webshop#/bestelling/producten/0\",objectProperties:{maandelijksAanpasbaar:!0,maandelijksOpzegbaar:!0,ovFiets:!0,minimumSaldo:\"Geen\",ovOverzicht:!0,switchClass:!0,autoCheckUit:!0,samenreisKorting:!0},korting:{\"40KortingInHetWeekend\":!1,\"40KortingBuitenDeSpits\":!1,\"20KortingInDeSpits\":!1,OnbeperktReizenInHetWeekend:!1,OnbeperktReizenBuitenDeSpits:!1,OnbeperktReizenInDeSpits:!1,OnbeperktReizenOpEenVastTraject:!1,\"40KortingInDeMiddagspits\":!1}},weekend_voordeel:{naam:\"Flex Weekend voordeel\",type:\"flex\",betalen:\"Achteraf\",prijs:\"2\",prijs_periode:\"/ mnd\",list_items:[\"40% korting in het weekend\"],extra_message:\"\",linkToWebshop:\"/nsflex/webshop#/bestelling/producten/1\",objectProperties:{maandelijksAanpasbaar:!0,maandelijksOpzegbaar:!0,ovFiets:!0,minimumSaldo:\"Geen\",ovOverzicht:!0,switchClass:!0,autoCheckUit:!0,samenreisKorting:!0},korting:{\"40KortingInHetWeekend\":!0,\"40KortingBuitenDeSpits\":!1,\"20KortingInDeSpits\":!1,OnbeperktReizenInHetWeekend:!1,OnbeperktReizenBuitenDeSpits:!1,OnbeperktReizenInDeSpits:!1,OnbeperktReizenOpEenVastTraject:!1,\"40KortingInDeMiddagspits\":!1}},dal_voordeel:{naam:\"Flex Dal voordeel\",type:\"flex\",betalen:\"Achteraf\",prijs:\"5\",prijs_periode:\"/ mnd\",list_items:[\"40% korting in het weekend\",\"40% korting buiten de spits\"],extra_message:'<span class=\"extra_message_span\">Als je ook <strong>af en toe doordeweeks</strong> reist</span>',linkToWebshop:\"/nsflex/webshop#/bestelling/producten/2\",objectProperties:{maandelijksAanpasbaar:!0,maandelijksOpzegbaar:!0,ovFiets:!0,minimumSaldo:\"Geen\",ovOverzicht:!0,switchClass:!0,autoCheckUit:!0,samenreisKorting:!0},korting:{\"40KortingInHetWeekend\":!0,\"40KortingBuitenDeSpits\":!0,\"20KortingInDeSpits\":!1,OnbeperktReizenInHetWeekend:!1,OnbeperktReizenBuitenDeSpits:!1,OnbeperktReizenInDeSpits:!1,OnbeperktReizenOpEenVastTraject:!1,\"40KortingInDeMiddagspits\":!1}},altijd_voordeel:{naam:\"Flex Altijd voordeel\",type:\"flex\",betalen:\"Achteraf\",prijs:\"24\",prijs_periode:\"/ mnd\",list_items:[\"40% korting in het weekend\",\"40% korting buiten de spits\",\"20% korting in de spits\"],extra_message:'<span class=\"extra_message_span\">Toch af en toe in de <strong>spits?</strong></span>',linkToWebshop:\"/nsflex/webshop#/bestelling/producten/3\",objectProperties:{maandelijksAanpasbaar:!0,maandelijksOpzegbaar:!0,ovFiets:!0,minimumSaldo:\"Geen\",ovOverzicht:!0,switchClass:!0,autoCheckUit:!0,samenreisKorting:!0},korting:{\"40KortingInHetWeekend\":!0,\"40KortingBuitenDeSpits\":!0,\"20KortingInDeSpits\":!0,OnbeperktReizenInHetWeekend:!1,OnbeperktReizenBuitenDeSpits:!1,OnbeperktReizenInDeSpits:!1,OnbeperktReizenOpEenVastTraject:!1,\"40KortingInDeMiddagspits\":!1}},weekend_vrij:{naam:\"Flex Weekend vrij\",type:\"flex\",betalen:\"Achteraf\",prijs:\"32\",prijs_periode:\"/ mnd\",list_items:[\"Onbeperkt reizen in het weekend\"],extra_message:'<span class=\"extra_message_span\">Als je <strong>vaker in het weekend</strong> reist</span>',linkToWebshop:\"/nsflex/webshop#/bestelling/producten/4\",objectProperties:{maandelijksAanpasbaar:!0,maandelijksOpzegbaar:!0,ovFiets:!0,minimumSaldo:\"Geen\",ovOverzicht:!0,switchClass:!0,autoCheckUit:!0,samenreisKorting:!0},korting:{\"40KortingInHetWeekend\":!1,\"40KortingBuitenDeSpits\":\"(3,-/maand extra)\",\"20KortingInDeSpits\":!1,OnbeperktReizenInHetWeekend:!0,OnbeperktReizenBuitenDeSpits:!1,OnbeperktReizenInDeSpits:!1,OnbeperktReizenOpEenVastTraject:!1,\"40KortingInDeMiddagspits\":!1}},dal_vrij:{naam:\"Flex Dal vrij\",type:\"flex\",betalen:\"Achteraf\",prijs:\"106\",prijs_periode:\"/ mnd\",list_items:[\"Onbeperkt reizen in het weekend\",\"Onbeperkt reizen buiten de spits\"],extra_message:'<span class=\"extra_message_span\">Als je <strong>veel reist buiten de spits</strong></span>',linkToWebshop:\"/nsflex/webshop#/bestelling/producten/5\",objectProperties:{maandelijksAanpasbaar:!0,maandelijksOpzegbaar:!0,ovFiets:!0,minimumSaldo:\"Geen\",ovOverzicht:!0,switchClass:!0,autoCheckUit:!0,samenreisKorting:!0},korting:{\"40KortingInHetWeekend\":!1,\"40KortingBuitenDeSpits\":!1,\"20KortingInDeSpits\":!1,OnbeperktReizenInHetWeekend:!0,OnbeperktReizenBuitenDeSpits:!0,OnbeperktReizenInDeSpits:!1,OnbeperktReizenOpEenVastTraject:!1,\"40KortingInDeMiddagspits\":!1}},altijd_vrij:{naam:\"Flex Altijd vrij\",type:\"flex\",betalen:\"Achteraf\",prijs:\"347\",prijs_periode:\"/ mnd\",list_items:[\"Onbeperkt reizen in het weekend\",\"Onbeperkt reizen buiten de spits\",\"Onbeperkt reizen in de spits\"],extra_message:'<span class=\"extra_message_span\">Als je veel in de <strong>spits</strong> reist</span>',linkToWebshop:\"/nsflex/webshop#/bestelling/producten/6\",objectProperties:{maandelijksAanpasbaar:!0,maandelijksOpzegbaar:!0,ovFiets:!0,minimumSaldo:\"Geen\",ovOverzicht:!0,switchClass:!0,autoCheckUit:!0,samenreisKorting:!0},korting:{\"40KortingInHetWeekend\":!1,\"40KortingBuitenDeSpits\":!1,\"20KortingInDeSpits\":!1,OnbeperktReizenInHetWeekend:!0,OnbeperktReizenBuitenDeSpits:!0,OnbeperktReizenInDeSpits:!0,OnbeperktReizenOpEenVastTraject:!1,\"40KortingInDeMiddagspits\":!1}},klassiek_dal_voordeel:{naam:\"Dal voordeel\",type:\"ros\",betalen:\"Op saldo\",prijs:\"4,33\",prijs_periode:\"/ mnd\",list_items:[\"40% korting in het weekend\",\"40% korting buiten de spits\"],extra_message:\"\",linkToWebshop:\"\",objectProperties:{maandelijksAanpasbaar:!1,maandelijksOpzegbaar:\"Na n jaar\",ovFiets:!1,minimumSaldo:\"10,-\",ovOverzicht:\"Alleen overzicht van treinreizen\",switchClass:!1,autoCheckUit:!1,samenreisKorting:!0},korting:{\"40KortingInHetWeekend\":!0,\"40KortingBuitenDeSpits\":!0,\"20KortingInDeSpits\":!1,OnbeperktReizenInHetWeekend:!1,OnbeperktReizenBuitenDeSpits:!1,OnbeperktReizenInDeSpits:!1,OnbeperktReizenOpEenVastTraject:!1,\"40KortingInDeMiddagspits\":!1}},klassiek_altijd_voordeel:{naam:\"Altijd voordeel\",type:\"ros\",betalen:\"Op saldo\",prijs:\"23\",prijs_periode:\"/ mnd\",list_items:[\"40% korting in het weekend\",\"40% korting buiten de spits\",\"20% korting in de spits\"],extra_message:\"\",linkToWebshop:\"\",objectProperties:{maandelijksAanpasbaar:!1,maandelijksOpzegbaar:\"Na n jaar\",ovFiets:!1,minimumSaldo:\"10,-\",ovOverzicht:\"Alleen overzicht van treinreizen\",switchClass:!1,autoCheckUit:!1,samenreisKorting:!0},korting:{\"40KortingInHetWeekend\":!0,\"40KortingBuitenDeSpits\":!0,\"20KortingInDeSpits\":!0,OnbeperktReizenInHetWeekend:!1,OnbeperktReizenBuitenDeSpits:!1,OnbeperktReizenInDeSpits:!1,OnbeperktReizenOpEenVastTraject:!1,\"40KortingInDeMiddagspits\":!1}},klassiek_weekend_vrij:{naam:\"Weekend vrij\",type:\"ros\",betalen:\"Op saldo\",prijs:\"34\",prijs_periode:\"/ mnd\",list_items:[\"Onbeperkt reizen in het weekend\"],extra_message:\"\",linkToWebshop:\"\",objectProperties:{maandelijksAanpasbaar:!1,maandelijksOpzegbaar:\"Na n jaar\",ovFiets:!1,minimumSaldo:\"10,-\",ovOverzicht:\"Alleen overzicht van treinreizen\",switchClass:!1,autoCheckUit:!1,samenreisKorting:!0},korting:{\"40KortingInHetWeekend\":!1,\"40KortingBuitenDeSpits\":!0,\"20KortingInDeSpits\":!1,OnbeperktReizenInHetWeekend:!0,OnbeperktReizenBuitenDeSpits:!1,OnbeperktReizenInDeSpits:!1,OnbeperktReizenOpEenVastTraject:!1,\"40KortingInDeMiddagspits\":!1}},klassiek_dal_vrij:{naam:\"Dal vrij\",type:\"ros\",betalen:\"Op saldo\",prijs:\"105\",prijs_periode:\"/ mnd\",list_items:[\"Onbeperkt reizen in het weekend\",\"Onbeperkt reizen buiten de spits\"],extra_message:\"\",linkToWebshop:\"\",objectProperties:{maandelijksAanpasbaar:!1,maandelijksOpzegbaar:\"Na n jaar\",ovFiets:!1,minimumSaldo:\"10,-\",ovOverzicht:\"Alleen overzicht van treinreizen\",switchClass:!1,autoCheckUit:!1,samenreisKorting:!0},korting:{\"40KortingInHetWeekend\":!1,\"40KortingBuitenDeSpits\":!1,\"20KortingInDeSpits\":!1,OnbeperktReizenInHetWeekend:!0,OnbeperktReizenBuitenDeSpits:!0,OnbeperktReizenInDeSpits:!1,OnbeperktReizenOpEenVastTraject:!1,\"40KortingInDeMiddagspits\":!1}},klassiek_altijd_vrij:{naam:\"Altijd vrij\",type:\"ros\",betalen:\"Op saldo\",prijs:\"346\",prijs_periode:\"/ mnd\",list_items:[\"Onbeperkt reizen in het weekend\",\"Onbeperkt reizen buiten de spits\",\"Onbeperkt reizen in de spits\"],extra_message:\"\",linkToWebshop:\"\",objectProperties:{maandelijksAanpasbaar:!1,maandelijksOpzegbaar:\"Na n jaar\",ovFiets:!1,minimumSaldo:\"10,-\",ovOverzicht:\"Alleen overzicht van treinreizen\",switchClass:!1,autoCheckUit:!1,samenreisKorting:!0},korting:{\"40KortingInHetWeekend\":!1,\"40KortingBuitenDeSpits\":!1,\"20KortingInDeSpits\":!1,OnbeperktReizenInHetWeekend:!0,OnbeperktReizenBuitenDeSpits:!0,OnbeperktReizenInDeSpits:!0,OnbeperktReizenOpEenVastTraject:!0,\"40KortingInDeMiddagspits\":!1}},traject_vrij:{naam:\"Traject Vrij\",type:\"ros\",betalen:\"Op saldo\",prijs:\"(varieert)\",prijs_periode:\"\",list_items:[\"Onbeperkt reizen op een vast traject\",\"40% korting op andere trajecten\"],extra_message:'<span class=\"extra_message_span\">Als je vaak op een <strong>vast traject</strong> reist</span>',linkToWebshop:\"/abonnementen/traject-vrij.html\",objectProperties:{maandelijksAanpasbaar:!1,maandelijksOpzegbaar:\"Na n jaar\",ovFiets:!1,minimumSaldo:\"10,-\",ovOverzicht:\"Alleen overzicht van treinreizen\",switchClass:!1,autoCheckUit:!1,samenreisKorting:!0},korting:{\"40KortingInHetWeekend\":!0,\"40KortingBuitenDeSpits\":!0,\"20KortingInDeSpits\":!1,OnbeperktReizenInHetWeekend:!1,OnbeperktReizenBuitenDeSpits:!1,OnbeperktReizenInDeSpits:!1,OnbeperktReizenOpEenVastTraject:!0,\"40KortingInDeMiddagspits\":!1}},voordeelurenabonnement:{naam:\"Voordeelurenabonnement\",type:\"ros\",betalen:\"Op saldo\",prijs:\"67\",prijs_periode:\"/ jaar\",list_items:[\"40% korting na 09.00\",\"40% korting in het weekend\"],extra_message:\"\",linkToWebshop:\"\",objectProperties:{maandelijksAanpasbaar:!1,maandelijksOpzegbaar:\"Na n jaar\",ovFiets:!1,minimumSaldo:\"10,-\",ovOverzicht:\"Alleen overzicht van treinreizen\",switchClass:!1,autoCheckUit:!1,samenreisKorting:!0},korting:{\"40KortingInHetWeekend\":!0,\"40KortingBuitenDeSpits\":!0,\"20KortingInDeSpits\":!1,OnbeperktReizenInHetWeekend:!1,OnbeperktReizenBuitenDeSpits:!1,OnbeperktReizenInDeSpits:!1,OnbeperktReizenOpEenVastTraject:!1,\"40KortingInDeMiddagspits\":!0}}}}};"},{"execValue2":"","markerCondition":"[]","selector":"head","id":981,"execValue":"ddq","version":43,"content":"//DDQ Event Listener Google Analytics\n\nvar data = this.data;\nvar event_name = this.matchedEvent;\n\nvar ga_category = data.event_category;\nvar ga_action\t= data.event_action;\nvar ga_label\t= data.event_label;\nvar ga_custom_dimensions = data.custom_dimensions || {};\nvar non_interaction = data.non_interaction;\n\nswitch(event_name) {\n  case 'website_interaction':\n\t\t\tif(data.interaction_location === 'header' || data.interaction_location === 'header_menu'){\n\t\t\t\t\t\t\t\t\t\t\t\tga_category = 'Hoofdmenu';\n\t\t\t\t\t\t\t\t\t\t\t\tga_action = data.interaction_action;\n\t\t\t\t\t\t\t\t\t\t\t\tga_label = data.interaction_name;\n\t\t\t\t\t\t\t\t\t\t\t\tnon_interaction = false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\tif(data.interaction_action === 'open' && data.interaction_type === 'livechat'){\n\t\t\t\t\t\t\t\t\t\t\t\tvar chatClient;\n\t\t\t\t\t\t\t\t\t\t\t\tif(_st.util.getElement('.eb-bs.eb-css')){\n\t\t\t\t\t\t\t\t\t\t\t\t\tchatClient = 'EnterpriseBot';\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\tchatClient = 'Parley';\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\tif(_st.data._userData.e['129']){\n\t\t\t\t\t\t\t\t\t\t\t\t\tif(_st.data._userData.e['129'].group === 132){\n\t\t\t\t\t\t\t\t\t\t\t\t\tga_custom_dimensions.dimension63 = 'EXP_19#43 - V1: EnterpriseBot';\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else if(_st.data._userData.e['129'].group === 131){\n\t\t\t\t\t\t\t\t\t\t\t\t\tga_custom_dimensions.dimension63 = 'EXP_19#43 - Control';\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tga_category = 'Contact';\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tga_action = 'Open Chat';\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tga_label = chatClient;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnon_interaction = false;\n\t\t\t\t\t\t\t\t\t}\n    break; \n\tcase 'link_click':\n\t\tif(data.link_location === 'footer_top' || data.link_location === 'footer_social' || data.link_location === 'footer_bottom' || data.link_location ==='body'){\n\t\t\t\t\t\t\t\t\t\t\t\t  ga_category = 'Footer';\n\t\t\t\t\t\t\t\t\t\t\t\t  ga_action = data.link_name;\n\t\t\t\t\t\t\t\t\t\t\t\t  ga_label = data.link_value;\n\t\t\t\t\t\t\t\t\t\t\t\t  non_interaction = false;\n\t\t\t\t\t\t\t\t\t\t}\n\t\tif(data.link_location === 'header_menu'){\n\t\t\t\t\t\t\t\t\t\t\t\t  ga_category = 'Hoofdmenu';\n\t\t\t\t\t\t\t\t\t\t\t\t  ga_action = data.event;\n\t\t\t\t\t\t\t\t\t\t\t\t  ga_label = data.link_value;\n\t\t\t\t\t\t\t\t\t\t\t\t  non_interaction = false;\n\t\t\t\t\t\t\t\t\t\t}\n\t\tif(data.link_location === 'contactblok'){\n\t\t\t\t\t\t\t\t\t\t\t\t  ga_category = 'Contact';\n\t\t\t\t\t\t\t\t\t\t\t\t  ga_action = data.link_name;\n\t\t\t\t\t\t\t\t\t\t\t\t  ga_label = data.link_value;\n\t\t\t\t\t\t\t\t\t\t\t\t  non_interaction = false;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t/*if(data.link_location === 'body'){\n\t\t\t\t\t\t\t\t\t\t\t\t  ga_category = 'Body';\n\t\t\t\t\t\t\t\t\t\t\t\t  ga_action = data.link_name;\n\t\t\t\t\t\t\t\t\t\t\t\t  ga_label = data.link_value;\n\t\t\t\t\t\t\t\t\t\t\t\t  non_interaction = false;\n\t\t\t\t\t\t\t\t\t\t}*/\n\t\tbreak;\n\tcase 'click_event':\n\t\tif(data.page_type === 'ns-flex keuzehulp'){\n\t\t\t\t\t\t\t\t\t\t\t\t  ga_category = 'Experiments|Team_CRO';\n\t\t\t\t\t\t\t\t\t\t\t\t  ga_action = 'click';\n\t\t\t\t\t\t\t\t\t\t\t\t  ga_label = data.textOfElement;\n\t\t\t\t\t\t\t\t\t\t\t\t  non_interaction = false;\n\t\t\t\t\t\t\t\t\t\t}\n\t\tbreak;\n\t case 'experiments':\n\t\t\t\tif(data.exp_nr !== '' || data.description !== ''){\n\t\t\t\t\t\t\t\t\t\t\t\t\tga_category = 'Experiments|Team_CRO';\n\t\t\t\t\t\t\t\t\t\t\t\t\tga_label = data.exp_nr +'|'+ data.description;\n\t\t\t\t\t\t\t\t\t\t\t\t\tga_action_element = ('|'+data.element) || '';\n\t\t\t\t\t\t\t\t\t\t\t\t\tga_action = data.action + ga_action_element;\n\t\t\t\t\t\t\t\t\t\t\t\t\tnon_interaction = false;\n\t\t\t\t\t\t\t\t\t\t\t\t\t//console.log('DDQ TEST:',ga_category,ga_label,ga_action);\n\t\t\t\t\t\t\t\t\t\t}\n\t\tbreak; \n\t  default: \n\n\t}\n\nif(typeof ga_category !== 'undefined' && typeof ga_action !== 'undefined' && typeof non_interaction !== 'undefined'){\n\n\t\tif(_st.util.gtagLoaded){\n\t\t\t\n\t\t\tvar ga_object = {\n\t\t\t\t\t\t'event_label': ga_label,\n\t\t\t\t\t\t'event_action': ga_action,\n\t\t\t\t\t\t'event_category': ga_category,\n\t\t\t\t\t\t'non_interaction': non_interaction,\n\t\t\t\t\t\t'send_to': _st.data.getProperty('ua_id')\n\t\t\t\t\t};\n\t\t\t\n\t\t\t\tObject.assign(ga_object,ga_custom_dimensions);\n\t\t\t\n\t\t\t\tgtag('event','select_content',ga_object);\n\t\t\t}\n\t\n}","exec":"event"},{"markerCondition":"[]","selector":"head","id":1027,"version":7,"content":"var showRelayEventsCheck = false;\n\ntry {\n\tvar environmentCheck = _st.data.getProperty(\"nsenvironment\");\n\tvar environmentArray = [\"dev-localhost\",\"test\"];\n\ttry {\n\t\tif (typeof sessionStorage === 'object') {\n\t\t\tvar showRelayEvents = localStorage.getItem(\"showRelayEvents\");\n\t\t\tif(showRelayEvents == \"true\"){\n\t\t\t\tconsole.log(\"\\\"showRelayEvents\\\" localstorage item found\");\n\t\t\t\tsubscribeToEvents();\n\t\t\t}\n\t\t} \t\n\t}\t\n\tcatch (e) {}\n\t\n\tfor(i=0; i<environmentArray.length; i++){\n\t\tif(environmentCheck.indexOf(environmentArray[i]) !== -1){\n\t\t\tconsole.log(\"localhost or test environment detected\");\n\t\t\tsubscribeToEvents();\n\t\t}\n\t}\n}\ncatch (e) {}\n\nfunction subscribeToEvents() {\n\tconsole.log(\"\\\"subscribeToEvents\\\" function called\");\n\tif(showRelayEventsCheck == false) {\n\t\tshowRelayEventsCheck = true;\n\t\t_st.event.subscribe('', '', function(category, name, data) {\n\t\tconsole.log(\"subscribing to events\");\n\t\ttry{\n\t\t\tconsole.log('---------------- Event triggered. Following 3 lines are 1.category, 2.name, 3.data 4.pagestructure');\n\t\t\tconsole.log(category);\n\t\t\tconsole.log(name);\n\t\t\tconsole.log(data);\n\t\t\tconsole.log(_st.core.getPageStructure());\n\t\t\tconsole.log('------------- End of event data');\n\t\t\tconsole.log('pageStructure:' + _st.core.getPageStructure());\n\t\t} \n\t\tcatch (e) {_st.debug.log('console.log() probably not supported. Data object:' + _st.util.encodeJson(data));}\n\t\t});\n\t}\n}\n"},{"execValue2":"link_click_temp","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":1054,"execValue":"ddq","version":7,"content":"//DDQ Event Listener Google Analytics\n\nvar data = this.data;\nvar event_name = this.matchedEvent;\n\nif(data.link_type === 'external' && typeof fbq === 'function'){\n\t\t\t\n\t\t\n\nswitch(data.link_name) {\n  case 'q-park.nl':\n\tfbq('trackCustom','InterestPR');\n    break;\n  case 'nszonetaxi.nl':\n\tfbq('trackCustom','NSZoneTaxi');\n    break;\n  case 'greenwheels.com':\n\tfbq('trackCustom','GreenWheels');\n    break; \n  default: \n\t\n}\n\t\n\t}","exec":"event","group":3},{"markerCondition":"[]","selector":"head","id":299,"version":64,"content":"(function () {\n    if (typeof window.usabilla_live === \"function\") {\n        var customData = {};\n\n        var cId = getcId();\n        if (typeof cId !== 'undefined') {\n            customData.cId = cId;\n        }\n\n        var experimentString = createExperimentString();\n        if (typeof experimentString !== 'undefined') {\n            customData.r42Experiment = experimentString;\n        }\n\n        if (Object.keys(customData).length !== 0) {\n            window.usabilla_live(\"data\", { custom: customData });\n        }\n    }\n\n    function getcId() {\n        var cId;\n        ga(function (tracker) {\n            cId = tracker.get('clientId');\n        });\n        return cId;\n    }\n\n    function createExperimentString() {\n        experimentString = \"\";\n\t\tactiveExperiments = 0;\n        if (typeof window.croData === 'object' && typeof window.croData.experimentMap === 'object') {\n            window.croData.experimentMap.forEach(function (experimentMapEntry, index) {\n                if(typeof experimentMapEntry.active === 'boolean' && experimentMapEntry.active === true) {\n                    if (activeExperiments !== 0) experimentString += \"|\";\n                    experimentString += experimentMapEntry.name + \"-\" + experimentMapEntry.activeVariant.name;\n\t\t\t\t\tactiveExperiments += 1;\n                }\n            });\n            return experimentString;\n        }\n        else return;\n    }\n})();\n","exec":"onload"},{"execValue2":"","markerCondition":"[]","selector":"head","id":479,"execValue":"Purchase","version":12,"content":"(function() {\n _st.tracking.sendEngagement('Purchase', this.data);\n})();\n        ","exec":"event"},{"execValue2":"","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":484,"execValue":"Purchase","version":65,"content":"var data = this.data;\n\nif (typeof fbq === 'function'){\n\tvar pSS = _st.core.getPageStructureString().toLowerCase();\n\tvar placement = data.name;\n\t/*\n\tif (window.location.href.indexOf(\"acc.ns.nl\") > -1) {\n\t\tplacement = \"acceptatie_\" + data.name;\n\t}\n\telse {\n\t\tplacement = data.name;\n\t}\n\t*/\n\tvar cType = 'product';\n\tif (pSS === 'applicatie|mijn ns|mijn producten|success'){\n\t\tcType = 'product verlengen';\n\t}                                \n\n\tif (_st.core.getPageStructure()[0] === 'Spoordeelwinkel.nl'){\n\t\n\t\tdata.price = data.revenue;\n\t\tdata.id = 'unknown';\t\t\t\n\t\tif(typeof data.products === 'object'){\n\t\t\tif( typeof data.products[0].sku !== 'undefined'){\n\t\t\t\t\tdata.id = data.products[0].sku;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\nfbq('track', 'Purchase', {\n\tcurrency: 'EUR', \n    value: data.price || '00.00',\n\tcontent_name: data.nameArray || data.name,\n\tcontent_ids: data.productIdsArray || data.id,\n\tcontent_type: 'product',\n\tcontent_category: cType,\n\tplacement: placement,\n\tpageStructure: \tpSS\t \n});\t\n} else if(typeof fbq !== 'function'){\n\t_st.counter.call('45');\n}   ","exec":"event","group":3},{"markerCondition":"[]","selector":"head","id":849,"version":20,"content":"var _stCookiePopup=function(){var b=function(a){_st.inject.script(\"//\"+_st.settings.tagsUrl+\"/lib/ut/1062/18/tag-permissions-325f6b23-80f0-4081-b550-910f4d567a0d.js\",{callback:function(){a(!0)}})};document.cookie=\"_stCookieTest\\x3dtrue\";var c=-1!=document.cookie.indexOf(\"_stCookieTest\\x3dtrue\");if(null==navigator.userAgent.match(\"Google Web Preview|Googlebot\")&&c){var c=_st.cookiepermission.getCookiePreferences(),d=!1;for(p in c)if(c.hasOwnProperty(p)){d=!0;break}d||b(function(){_stCookiePopup.showIfNotSet()})}return{showIfNotSet:function(a){a||\nb(function(){_stCookiePopup.showIfNotSet()})},showPopup:function(a){a||b(function(){_stCookiePopup.showPopup()})},showSettings:function(a){a||b(function(){_stCookiePopup.showSettings()})}}}();","exec":"onload"},{"markerCondition":"[]","selector":"head","id":931,"version":26,"content":"(function() {\n\tvar usedMijnNS = _st.util.getCookie(\"usedMijnNS\");\n\t//var usedMijnNS = sessionStorage.getItem(\"usedMijnNS\");\n\tvar whitelistAdresses = [\"Applicatie|Mijn NS|Uitgelogd\",\"Mijn NS|Login|\"];\n\tvar hideFlexPresentText = window.sessionStorage.getItem('hideFlexPresentText');\n\tvar pagestructure = _st.core.getPageStructureString();\n\tvar pagestructure_lowercase = pagestructure.toLowerCase();\n\t\n\t// Check if user visited MijnNS\n\tif(usedMijnNS == \"true\" && hideFlexPresentText !== \"true\") {\t\n\t\t// Check if user is not still within MijnNS\n\t\tif(pagestructure_lowercase.indexOf('mijn ns') > -1) {\n\t\t\t// Check for exceptions\n\t\t\tif(pagestructure == whitelistAdresses[0] || pagestructure == whitelistAdresses[1]) {\n\t\t\t\ttriggerCampaign();\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\ttriggerCampaign();\n\t\t}\n\t}\n\t\n\tfunction triggerCampaign() {\n\t\t_st.util.eraseCookie(\"usedMijnNS\");\n\t\tif(typeof(window.usabilla_live) === \"function\") {\n\t\t\tif(Math.random() <= 0.10) {\n\t\t\t\tvar randomNumber = Math.random();\n\t\t\t\t// Trigger schaduwmeting (10% of original traffic)\n\t\t\t\tif(randomNumber <= 0.1) {\n\t\t\t\t\twindow.usabilla_live('trigger', 'CPIMijnNS_Schaduwmeting_Controle');\n\t\t\t\t}\n\t\t\t\telse if(randomNumber > 0.1 && randomNumber <= 0.2 ) {\n\t\t\t\t\twindow.usabilla_live('trigger', 'CPIMijnNS_Schaduwmeting_Variant');\n\t\t\t\t} \n\t\t\t\telse {\n\t\t\t\t\twindow.usabilla_live('trigger', 'CPIMijnNSAB');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t}\n})();\n        "},{"markerCondition":"[]","selector":"head","id":14,"version":115,"content":"(function(){\n\ttry{\n\t\tfunction getHitTimeStamp(){\n\t\t\tvar now = new Date();\n\t\t\tvar tzo = -now.getTimezoneOffset();\n\t\t\tvar dif = tzo >= 0 ? '+' : '-';\n\t\t\tvar pad = function(num) {\n\t\t\t\tvar norm = Math.abs(Math.floor(num));\n\t\t\t\treturn (norm < 10 ? '0' : '') + norm;\n\t\t\t};\n\t\t\treturn now.getFullYear() + '-' + pad(now.getMonth() + 1) + '-' + pad(now.getDate()) + 'T' + pad(now.getHours()) + ':' + pad(now.getMinutes()) + ':' + pad(now.getSeconds()) + '.' + pad(now.getMilliseconds()) + dif + pad(tzo / 60) + ':' + pad(tzo % 60);\n\t\t}\n\t\tif (typeof jQuery != 'undefined') {\n\t\t\tjQuery(document).ready(function($) { \n\t\t\t\tvar filetypes = /\\.(zip|exe|pdf|doc*|xls*|ppt*|mp3)$/i;\n\t\t\t\tvar baseHref = '';\n\t\t\t\tif (jQuery('base').attr('href') !== undefined){\n\t\t\t\t\tbaseHref = jQuery('base').attr('href');}\n\t\t\t\tjQuery('a').each(function() { \n\t\t\t\t\tvar href = jQuery(this).attr('href'),\n\t\t\t\t\t\tclickedClass = jQuery(this).attr('class'),\n\t\t\t\t\t\tclickedElem = jQuery(this);\n\t\t\t\t\tif (href && (href.match(/^https?\\:/i)) && (!href.match(document.domain))) { //Tracks Uitgaande links\n\t\t\t\t\t\tjQuery(this).click(function() {\n\t\t\t\t\t\t\tvar extLink = href.match(/^https?:\\/\\/(www\\.)?([^/]+)/)[2].split('/')[0].split('?')[0];\n\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\tgtag('set', {'dimension5': getHitTimeStamp()});\n\t\t\t\t\t\t\t\tgtag('set', {'dimension4': new Date().getTime() + '.' + Math.random().toString(36).substring(5)});\n\t\t\t\t\t\t\t\tgtag('set', {'dimension3': ga.getAll()[0].get('clientId')});\n\t\t\t\t\t\t\t}catch(e){}\t\n\t\t\t\t\t\t\tnsDataQueue.push({event: \"link_click_temp\", link_location: \"\", link_name: extLink, link_type: \"external\", link_value: href});\n\t\t\t\t\t\t\tgtag('event',extLink,{'event_category' : 'Uitgaande links','event_label' : href});\n\t\t\t\t\t\t\tif (jQuery(this).attr('target') !== undefined && jQuery(this).attr('target').toLowerCase() != '_blank') {\n\t\t\t\t\t\t\t\tsetTimeout(function() { location.href = href; }, 500);\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}else if (href && href.match(/^mailto\\:/i) && href.replace(/%40/i, '@').match(/[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}/)) { //Tracks Mail-to's\n\t\t\t\t\t\tjQuery(this).click(function() {\n\t\t\t\t\t\t\tvar mailLink = href.replace(/^mailto\\:/i, '').replace(/%40/i, '@').toLowerCase();\n\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\tgtag('set', {'dimension5': getHitTimeStamp()});\n\t\t\t\t\t\t\t\tgtag('set', {'dimension4': new Date().getTime() + '.' + Math.random().toString(36).substring(5)});\n\t\t\t\t\t\t\t\tgtag('set', {'dimension3': ga.getAll()[0].get('clientId')});\n\t\t\t\t\t\t\t}catch(e){}\t\n\t\t\t\t\t\t\tnsDataQueue.push({event: \"link_click_temp\", link_location: \"\", link_name: mailLink, link_type: \"mailto\", link_value: href});\n\t\t\t\t\t\t\tgtag('event',mailLink,{'event_category' : 'Mail-to','event_label' : href});\n\t\t\t\t\t\t});\n\t\t\t\t\t}else if (href && href.match(filetypes)) { //Tracks Downloads\n\t\t\t\t\t\tjQuery(this).click(function() {\n\t\t\t\t\t\t\tvar extension = (/[.]/.exec(href)) ? /[^.]+$/.exec(href) : undefined;\n\t\t\t\t\t\t\tvar filePath = href;\n\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\tgtag('set', {'dimension5': getHitTimeStamp()});\n\t\t\t\t\t\t\t\tgtag('set', {'dimension4': new Date().getTime() + '.' + Math.random().toString(36).substring(5)});\n\t\t\t\t\t\t\t\tgtag('set', {'dimension3': ga.getAll()[0].get('clientId')});\n\t\t\t\t\t\t\t}catch(e){}\t\n\t\t\t\t\t\t\tnsDataQueue.push({event: \"link_click_temp\", link_location: \"\", link_name: extension.input.toLowerCase(), link_type: \"external\", link_value: filePath.toLowerCase()});\n\t\t\t\t\t\t\tgtag('event',extension.input.toLowerCase(),{'event_category' : 'Downloads','event_label' : filePath.toLowerCase()});\n\t\t\t\t\t\t\tif (jQuery(this).attr('target') !== undefined && jQuery(this).attr('target').toLowerCase() != '_blank') {\n\t\t\t\t\t\t\t\tsetTimeout(function() { location.href = baseHref + href; }, 500);\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}else if (clickedClass === 'pdf') { //Tracks E-ticket Downloads\n\t\t\t\t\t\tjQuery(this).click(function() {\n\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\tgtag('set', {'dimension5': getHitTimeStamp()});\n\t\t\t\t\t\t\t\tgtag('set', {'dimension4': new Date().getTime() + '.' + Math.random().toString(36).substring(5)});\n\t\t\t\t\t\t\t\tgtag('set', {'dimension3': ga.getAll()[0].get('clientId')});\n\t\t\t\t\t\t\t}catch(e){}\t\n\t\t\t\t\t\t\tnsDataQueue.push({event: \"link_click_temp\", link_location: \"\", link_name: clickedClass.toLowerCase(), link_type: \"external\", link_value: 'Download your e-ticket'});\n\t\t\t\t\t\t\tgtag('event',clickedClass.toLowerCase(),{'event_category' : 'Downloads','event_label' : 'Download your e-ticket'});\n\t\t\t\t\t\t\tif (jQuery(this).attr('target') !== undefined && jQuery(this).attr('target').toLowerCase() != '_blank') {\n\t\t\t\t\t\t\t\tsetTimeout(function() { location.href = baseHref + href; }, 500);\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}else if (clickedClass === 'faq-link' && _st.settings.pageStructure[1] === 'Product Detailpagina') { //Tracks Veelgestelde vragen\n\t\t\t\t\t\tjQuery(this).click(function() {\n\t\t\t\t\t\t\tvar faqAction;\n\t\t\t\t\t\t\tif (typeof(clickedElem.parent().attr('class')) === \"undefined\") {\n\t\t\t\t\t\t\t\tfaqAction = 'Uitklappen';\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfaqAction = 'Inklappen';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tnsDataQueue.push({event: \"link_click_temp\", link_location: \"\", link_name: faqAction, link_type: \"external\", link_value: clickedElem.text()});\n\t\t\t\t\t\t\tgtag('event',faqAction,{'event_category' : 'Veelgestelde vragen','event_label' : clickedElem.text()});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (_st.settings.pageStructure[1] === 'Product Detailpagina') {\t// Virtual Pageviews - Tabs PDP\n\t\t\t\t\tvar liList = _st.util.getElements('li');\n\t\t\t\t\t\tfor (var i = 0; i < liList.length; i++) {\n\t\t\t\t\t\tvar tabTitle = liList[i].getAttribute('data-title');\n\t\t\t\t\t\tvar tabClass = liList[i].classList;\n\t\t\t\t\t\tvar tabClassParent = liList[i].parentNode.classList;\n\t\t\t\t\t\t\t\t\t\t\t\tif(tabClass.contains('tab--item') || tabClassParent.contains('tab--item')) {\n\t\t\t\t\t\t\t\tif(tabClass==''){\n\t\t\t\t\t\t\t\t\ttabClass = tabClassParent;\n\t\t\t\t\t\t\t\t\ttabTitle = liList[i].parentNode.getAttribute('data-title');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tliList[i].addEventListener('click', sendVirtualPageview.bind(null,tabTitle));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}catch(e){}\t\n\t\n\tfunction sendVirtualPageview(tabTitle) {\n\t\ttry {\n\t\t\tgtag('set', {'dimension5': getHitTimeStamp()});\n\t\t\tgtag('set', {'dimension4': new Date().getTime() + '.' + Math.random().toString(36).substring(5)});\n\t\t\tgtag('set', {'dimension3': ga.getAll()[0].get('clientId')});\n\t\t} \n\t\tcatch (e) {}\n\t\tgtag('config', _st.data.getProperty('ua_id'),{'page_path' : window.location.pathname + '/' + tabTitle.replace(/ /g,'-').toLowerCase()});\n\t}\n\t\n})();","exec":"onready"},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":356,"version":36,"content":"(function(f,b){\n\tvar hotjarId = '416137';\n\tvar c;\n\tf.hj=f.hj||function(){(f.hj.q=f.hj.q||[]).push(arguments);};\n\tf._hjSettings={hjid:hotjarId, hjsv:hotjarId};\n\tc=b.createElement(\"script\");c.async=1;\n\tc.src=\"//static.hotjar.com/c/hotjar-\"+f._hjSettings.hjid+\".js?sv=\"+f._hjSettings.hjsv;\n\tb.getElementsByTagName(\"head\")[0].appendChild(c); \n})(window,document);","group":3},{"markerCondition":"[]","selector":"head","id":503,"version":83,"content":"(function() {\n\n\tvar pSS = _st.core.getPageStructure();\n\tvar pSS2 = (pSS[0]+\"|\"+pSS[1]).toLowerCase();\n\tvar AddToCartButton;\n\t\n\t// Productpagina Losse Tickets\n\n\tif(pSS2 === 'producten|propositie specificatie'){\n\t   \t\t//var product = _st.data.getProperty('detailView').detail.products[0];\n\t\t\t\t\n\t\t\tvar data = {\n\t\t\t\t\t\t//name: product.name,\n\t\t\t\t\t\t//id: product.id,\n\t\t\t\t\t\tcategory: 'Losse kaartjes'\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\tAddToCartButton = _st.util.getElements('.button--arrowRight');\n\t\t\tif(typeof AddToCartButton !== 'undefined'){\n\t\t\t\t\n\t\t\t_st.util.onEvent(AddToCartButton, 'click', function(){ AddToCartEvent('Losse kaartjes', data);});\n\t}\n\t\t\n\t   }  else if(pSS2 === 'detail|abonnementen'){\n\t\t  \tvar product = _st.data.getProperty('aboTable');\n\t\t    var data = {\n\t\t\t\t\t\tname: product.ecomName,\n\t\t\t\t\t\tid: product.skuCode,\n\t\t\t\t\t\tcategory: 'Abonnementen'\n\t\t\t\t\t};\n\t\t\t\t\t\t\n\t\t\tAddToCartButton = _st.util.getElements('.pricedetails__button');\n\t\t   if(typeof AddToCartButton !== 'undefined'){\n\t\t\t \t\t\t_st.util.onEvent(AddToCartButton, 'click', function(){ AddToCartEvent('Abonnementen',data);});\n\t\t   }\n\t\t   \n\t   } else if(pSS2 === 'applicatie|mijn ns zakelijk' || pSS2 === 'applicatie|nsbusinesscard'){\n\t   \n\t\t\t//Tijdelijk in tag: [UA] - Event - NS Businesscard\n\t\t   \n\t   }\n\t\n})();\n\nfunction AddToCartEvent(name,data){\n\n\t_st.event.publish('AddToCart',name, data);\n\t}","exec":"onload"},{"markerCondition":"[]","selector":"head","id":358,"version":20,"content":"(function() {\n\t\t\t\tvar cPref =\t_st.cookiepermission.getCookiePreferences();\n\t\t\t\tif(cPref[3] !== true){\n\t\t\t\t_st.util.fallbackHeader();\n\t\t}\t\n})();\n        ","exec":"onload"},{"markerCondition":"[]","selector":"head","id":91,"version":112,"content":"if(_st.util.gtagLoaded === true){\n\n\tvar  ua_id = _st.util.getGAID();\n\t\n\tgtag('set','dimension81','gtag');\n\t\n\t//Check for DDQ elements, enable GA Ecommerce\n\t\t\tif(_st.data.getProperty('products') !== '' && _st.data.getProperty('ns_shop') !== ''){\n\t\t\t\t\t_st.util.gtagSetEcommerce();\n\t\t\t}\n\t\n\tgtag('config',ua_id);\n\t//console.log('gtag_pv');\n} else {\n\tga('set','dimension81','ga');\n\tga('send', 'pageview');\n\t//console.log('ga_pv');\n}\n\nif(typeof _st.util.resetCM === 'function'){\n_st.util.resetCM();\n}"},{"markerCondition":"[]","selector":"head","id":251,"version":165,"content":"_st.event.subscribe('ReisadviesClick', '', function(category, name, data) {\n\tvar gaEventAction = data.gebruikersactie;\n\tvar gaEventLabel;\n\tvar gaTraject = data.traject;\n\tvar gaInternationaal = data.isInternationaal;\n\tvar gaVertrekstation = data.reis.vertrekinput;\n\tvar gaAankomststation = data.reis.aankomstinput;\n\tvar gaDagentotvertrek = data.reis.dagenTotVertrek;\n\tvar gaVertrekOfAankomst = data.reis.vertrekOfAankomst;\n\tvar gaViaStation = data.reis.viainput;\n\tvar gaUurVanDeDag = data.reis.tijd;\n\tvar gaGekozenSuggestie = data.gekozenSuggestie;\n\tvar gaEersteInteractie = data.timings.eersteInteractie;\n\tvar gaPlanTijd = data.timings.plannen;\n\tvar gaReisTypeVertrek = data.reis.vertrektype;\n\tvar gaReisTypeAankomst = data.reis.aankomsttype;\n\tvar gaReisType = gaReisTypeVertrek+\"-\"+ gaReisTypeAankomst;\n\tvar gaVoortransport = data.reis.voortransport;\n\tvar gaNatransport = data.reis.natransport;\n\tvar reisduur = 0;\n\tvar gaUurVanDeDagRound = \"\";\n\tvar gaUurVanDeDagSingle = \"\";\n\tvar vervoerder = \"\";\n\tvar crowdForecast = \"\";\n\tvar nonInteraction = false;\n\t\n//Check pageStructureString\nvar\tpSString = _st.core.getPageStructureString();\n\t\n// Mapping Variables\nvar gaEventCategory = 'Reisplanner Overig';\n\t\n\tif(pSString === \"Home\"){\n\t\t\tgaEventCategory = 'Reisplanner Home';\t\n\t} else if (pSString === \"Landing|reisinfo\"){\t\n\t\t\tgaEventCategory = 'Reisplanner Reisinfo';\n\t} else if (pSString === \"Applicatie|reisplanner|reisadvies-view\"){\n\t\t\tgaEventCategory = 'Reisplanner Adviespagina';\n\t} else if (pSString === \"Applicatie|reisplanner|reisvraag-view\"){\n\t\t\tgaEventCategory = 'Reisplanner Reisvraag';\n\t} else if (pSString === \"Applicatie|actuele-situatie-op-het-spoor\"){\n\t\t\tgaEventCategory = 'Reisplanner Actueel';\n}\t\n\n\t\nif(typeof data.reismogelijkheid === 'object') {\t\n\tvar vertrektijd = data.reismogelijkheid.vertrektijd.split('T') || 0;\n\tvar aankomsttijd = data.reismogelijkheid.aankomsttijd.split('T') || 0;\n\n\tvar vertrektijd_split = vertrektijd[1].split(':');\n\tvar vertrektijd_minutes = (+vertrektijd_split[0]) * 60 + (+vertrektijd_split[1]); \t\n\tvar aankomsttijd_split = aankomsttijd[1].split(':');\n\tvar aankomsttijd_minutes = (+aankomsttijd_split[0]) * 60 + (+aankomsttijd_split[1]); \n\t\n\treisduur = aankomsttijd_minutes - vertrektijd_minutes;\n\n\t\tcrowdForecast = data.reismogelijkheid.reisdelen[0].crowdForecast;\n\t\tvar length = data.reismogelijkheid.reisdelen.length;\n\t\tvar lengthForecast = length+'|'+crowdForecast;\n\t\t_st.util.setCookie('cFC',lengthForecast);\n\t\n\t// Custom test variable\n\tvar gaUurVanDeDag_split = gaUurVanDeDag.split(':');\n\tvar hour = gaUurVanDeDag_split[0];\n\tvar minute;\n\n\tif(gaUurVanDeDag_split[1] < 8) {\n\t\tminute = \"00\";\n\t}\n\telse if(gaUurVanDeDag_split[1] < 23) {\n\t\tminute = 15;\n\t}\n\telse if(gaUurVanDeDag_split[1] < 38) {\n\t\tminute = 30;\n\t}\n\telse if(gaUurVanDeDag_split[1] < 53) {\n\t\tminute = 45;\n\t}\n\telse if(gaUurVanDeDag_split[1] >=53 ) {\n\t\tminute = 59;\n\t}\n\n\tgaUurVanDeDagRound = (hour+\":\"+minute);\n\tgaUurVanDeDagSingle = (hour);\t\n\t\n\t// Vervoerder info\n\tvar reisdelen = data.reismogelijkheid.reisdelen;\n\tvar vervoerders = [];\n\n\tif(reisdelen.length > 1) {\n\t\tfor(i=0; i< reisdelen.length; i++) {\t \n\t\t\tvar vervoerder_sub = reisdelen[i].vervoerder;\n\t\t\tvar performcheck = checkNotInArray(vervoerder_sub);\n\t\t\tif(checkNotInArray(vervoerder_sub)) {\n\t\t\t\tvervoerders.push(vervoerder_sub);\n\t\t\t}\n\t\t}\n\t\tif( vervoerders.length == 1) {\n\t\t\tvervoerder = reisdelen[0].vervoerder;\n\t\t}\n\t\telse {\n\t\t\tvar combinedString = \"Gemengd: \";\n\t\t\tfor(i=0; i<vervoerders.length; i++) {\n\t\t\t\tif(i==0) {\n\t\t\t\t\tcombinedString += vervoerders[i];\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcombinedString += \"-\" + vervoerders[i] ;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvervoerder = combinedString;\n\t\t}\t\n\t}\n\telse {\n\t\tvervoerder = reisdelen[0].vervoerder;\n\t}\t\t\t\t\t\t\t\t\n}\n\t\n\t\nfunction checkNotInArray(vervoerder_sub) {\n\tvar notInArray = true;\n\tfor(j=0; j<vervoerders.length; j++){\n\t\tif(vervoerder_sub == vervoerders[j]) {\n\t\t\tnotInArray = false;\n\t\t\t//console.log(\"false\");\t\n\t\t}\n\t}\t\n\treturn notInArray;\n}\t\n\n// Set Custom Metrics\t\ngtag(\"set\", \"metric3\", \"Open reismogelijkheid\" === gaEventAction ? 1 : void 0); \ngtag(\"set\", \"metric4\", \"Toon stationsvoorzieningen\" === gaEventAction ? 1 : void 0); \ngtag(\"set\", \"metric5\", \"Toon trajectinformatie\" === gaEventAction ? 1 : void 0);\ngtag(\"set\", \"metric6\", \"Toon koopopties\" === gaEventAction ? 1 : void 0);\ngtag(\"set\", \"metric7\", \"Toon koopoverlay vanuit koop dialoog\" === gaEventAction ? 1 : void 0);\ngtag(\"set\", \"metric8\", \"Toon deelopties\" === gaEventAction ? 1 : void 0);\ngtag(\"set\", \"metric9\", \"Deel e-mail\" === gaEventAction ? 1 : void 0);\ngtag(\"set\", \"metric10\", \"Sla op in agenda\" === gaEventAction ? 1 : void 0); \ngtag(\"set\", \"metric11\", \"Print\" === gaEventAction ? 1 : void 0);\ngtag(\"set\", \"metric12\", \"Selecteer meer opties\" === gaEventAction ? 1 : void 0); \ngtag(\"set\", \"metric13\", \"Wijzig tijd\" === gaEventAction ? 1 : void 0);\ngtag(\"set\", \"metric14\", \"Wijzig datum\" === gaEventAction ? 1 : void 0); \ngtag(\"set\", \"metric15\", \"Haal eerdere reismogelijkheden op\" === gaEventAction ? 1 : void 0); \ngtag(\"set\", \"metric16\", \"Haal latere reismogelijkheden op\" === gaEventAction ? 1 : void 0); \ngtag(\"set\", \"metric17\", \"Wissel van/naar\" === gaEventAction ? 1 : void 0);\ngtag(\"set\", \"metric19\", \"Planknop klik\" === gaEventAction ? gaEersteInteractie : void 0);\ngtag(\"set\", \"metric20\", \"Planknop klik\" === gaEventAction ? gaPlanTijd : void 0);\n\t\n\t\n\n\tif(gaReisTypeVertrek === \"ADDRESS\" || gaReisTypeVertrek === \"GEO\"){\n\t\t\tvar checkVertrek = gaVertrekstation.match(/.*[1-9][0-9]{3}[a-z]{2}?,./i)[0];\n\t\t\t\tif(checkVertrek !== null){\n\t\t\t\t\tgaVertrekstation = gaReisTypeVertrek +\"|\"+ gaVertrekstation.split(checkVertrek)[1];\n\t\t\t\t\tgaTraject = gaVertrekstation +\"-\"+ gaAankomststation;\n\t\t\t\t}\n\t}\n\n\tif(gaReisTypeAankomst === \"ADDRESS\" || gaReisTypeAankomst === \"GEO\"){\n\t\t\tvar checkAankomst = gaAankomststation.match(/.*[1-9][0-9]{3}[a-z]{2}?,./i)[0];\n\t\t\t\tif(checkAankomst !== null){\n\t\t\t\t\tgaAankomststation = gaReisTypeAankomst +\"|\"+ gaAankomststation.split(checkAankomst)[1];\n\t\t\t\t\tgaTraject = gaVertrekstation +\"-\"+ gaAankomststation;\n\t\t\t\t}\n\t}\n\t\n\n// Set Custom Dimensions\t\ngtag(\"set\", \"dimension8\", \"undefined\" != typeof gaTraject ? gaTraject : void 0);\ngtag(\"set\", \"dimension12\", \"undefined\" != typeof gaVertrekstation ? gaVertrekstation : void 0);\ngtag(\"set\", \"dimension13\", \"undefined\" != typeof gaAankomststation ? gaAankomststation : void 0);\ngtag(\"set\", \"dimension14\", \"undefined\" != typeof gaDagentotvertrek ? gaDagentotvertrek : void 0);\ngtag(\"set\", \"dimension15\", \"undefined\" != typeof gaUurVanDeDag  ? gaUurVanDeDag  : void 0);\ngtag(\"set\", \"dimension16\", \"undefined\" != typeof gaVertrekOfAankomst ? gaVertrekOfAankomst : void 0);\ngtag(\"set\", \"dimension17\", \"undefined\" != typeof gaViaStation ? gaViaStation : void 0);\ngtag(\"set\", \"dimension18\", \"undefined\" != typeof gaGekozenSuggestie ? gaGekozenSuggestie : void 0);\ngtag(\"set\", \"dimension27\", \"undefined\" != typeof _st.util.getCookie('cFC') ? _st.util.getCookie('cFC') : void 0);\ngtag(\"set\", \"dimension34\", \"undefined\" != typeof gaReisType ? gaReisType : void 0);\ngtag(\"set\", \"dimension42\", \"undefined\" != typeof gaVoortransport ? gaVoortransport : void 0);\ngtag(\"set\", \"dimension43\", \"undefined\" != typeof gaNatransport ? gaNatransport : void 0);\ngtag(\"set\", \"dimension86\", \"undefined\" != typeof gaInternationaal ? gaInternationaal : void 0);\n\t\nif(typeof data.reismogelijkheid === 'object') {\t\n\t// Custom test variables\t\n\tgtag(\"set\", \"dimension40\", \"undefined\" != typeof gaUurVanDeDagRound ? gaUurVanDeDagRound : void 0);\t\n\tgtag(\"set\", \"dimension41\", \"undefined\" != typeof gaUurVanDeDagSingle ? gaUurVanDeDagSingle : void 0);\t\t\n\tgtag(\"set\", \"dimension62\", \"undefined\" != typeof reisduur ? reisduur : void 0);\t\n\tgtag(\"set\", \"dimension79\", \"undefined\" != typeof vervoerder ? vervoerder : void 0);\n\tgtag(\"set\", \"dimension85\", \"undefined\" != typeof vertrektijd[1] ? vertrektijd[1] : void 0);\n}\n\n\t\t\nif(gaEventAction !== undefined) {\n\t\n/*Edit vars based on data.gebruikersactie / exclude as GA-event */\n\tswitch(gaEventAction){\n\t\tcase 'Sluit tijd dropdown':\n\t\t\tbreak;\n\t\tcase 'Sluit datepicker overlay':\n\t\t\tbreak;\n\t\tcase 'Weergave reismogelijkheid':\n\t\t\tbreak;\t\n\t\tcase 'Click op datumknop':\n\t\t\tgaEventAction = 'Datumpicker - open';\n\t\t\tsendEvent();\n\t\t\tbreak;\n\t\tcase 'Planknop klik':\n\t\t\tgaEventAction = 'Planknop klik';\n\t\t\tsendEvent();\n\t\t\tbreak;\n\t\tcase 'Wijzig datum':\n\t\t\tgaEventAction = 'Datumpicker - Wijzig datum';\n\t\t\tsendEvent();\n\t\t\tbreak;\t\t\t\t\t\t\n\t\tcase 'Wijzig treinen met verplichte reservering':\n\t\t\tgaEventAction = 'Meer opties - Verplichte reservering';\n\t\t\tsendEvent();\n\t\t\tbreak;\t\n\t\tcase 'Wijzig onbeperkt reismogelijkheden':\n\t\t\tgaEventAction = 'Meer opties - Altijd vrij';\n\t\t\tsendEvent();\n\t\t\tbreak;\n\t\tcase 'Open reismogelijkheid':\n\t\t\tgaEventAction = 'Open reismogelijkheid';\n\t\t\tif(data.gekozenSuggestie === 0){nonInteraction = true;}\n\t\t\tsendEvent();\n\t\t\tbreak;\n\t\n\t\tdefault:\n\t\t\t\tsendEvent();\n\t\t\t  }\n\t}\n\t\nfunction sendEvent(){\nif(_st.util.gtagLoaded){\n\tgtag('event','select_content', {\n\t\t\t'event_label': gaReisType.toLowerCase(),\n\t\t\t'event_action': gaEventAction,\n\t\t\t'event_category': gaEventCategory,\n\t\t\t'non_interaction': nonInteraction\n\t\t});\n\n\tresetRPVars();\n}\n}\n});"},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":354,"version":42,"content":"var fbId = '258707104567623'; //ns account\n\nif(typeof fbq === 'undefined') {\n(function(f, b, e, v, n, t, s) {\n    if (f.fbq) return;\n    n = f.fbq = function() {\n\t\tif(n.callMethod) { \n            n.callMethod.apply(n, arguments);\n\t\t} else {\n\t\t\tn.queue.push(arguments);\n\t\t}\n    };\n    if (!f._fbq) f._fbq = n;\n    n.push = n;\n    n.loaded = !0;\n    n.version = '2.0';\n    n.queue = [];\n    t = b.createElement(e);\n    t.async = !0;\n    t.src = v;\n    s = b.getElementsByTagName(e)[0];\n    s.parentNode.insertBefore(t, s);\n})(window,document, 'script', '//connect.facebook.net/en_US/fbevents.js');\n//fbq('set', 'autoConfig', false, '258707104567623');\nfbq('init', fbId);\nfbq('track', 'PageView');\n}","group":3},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"r42.conditions":{"condition":{"nodeType":"AND","nodes":[{"nodeType":"AND","nodes":[{"nodeType":"CONCRETE","selectionName":"1062_93"}]}]},"cacheSeconds":0},"selector":"head","id":416,"version":17,"content":"if (typeof fbq === 'function'){\n\n(function() {\n_st.counter.call('22');\t\t\nfbq('trackCustom', 'Retargeting', {\n    placement:\t\t'Weekend-Vrij-Offer',\n\tpageStructure: \t_st.core.getPageStructureString()  \t \n\t\t }\n);\n})();\n} ","exec":"onload","group":3},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"r42.conditions":{"condition":{"nodeType":"AND","nodes":[{"nodeType":"AND","nodes":[{"nodeType":"CONCRETE","selectionName":"1062_92"}]}]},"cacheSeconds":0},"selector":"head","id":417,"version":15,"content":"if (typeof fbq === 'function'){\n\n(function() {\n_st.counter.call('22');\t\nfbq('trackCustom', 'Retargeting', {\n    placement:\t\t'Dal-Vrij-Offer',\n\tpageStructure: \t_st.core.getPageStructureString()  \t \n\t\t }\n);\n})();\n} ","exec":"onload","group":3},{"markerCondition":"[]","r42.conditions":{"condition":{"nodeType":"AND","nodes":[{"nodeType":"AND","nodes":[{"nodeType":"CONCRETE","selectionName":"1062_49"}]}]},"cacheSeconds":0},"selector":"head","id":472,"version":16,"content":"(function() {\n    var nsrId = _st.util.getCookie('nsr');\t\n\tif(typeof nsrId === 'undefined'){\n\t   _st.util.setCookie('nsr','userknown',90,'.ns.nl');\n\t   }\n})();\n        "},{"markerCondition":"[]","r42.conditions":{"condition":{"nodeType":"AND","nodes":[{"nodeType":"AND","nodes":[{"nodeType":"NOT","node":{"nodeType":"CONCRETE","selectionName":"1062_49"}}]}]},"cacheSeconds":0},"selector":"head","id":474,"version":12,"content":"(function() {\n    var nsrId = _st.util.getCookie('nsr');\t\n\tif(typeof nsrId === 'undefined'){\n\t   _st.util.setCookie('nsr','false',90,'.ns.nl');\n\t   }\n})();\n        "},{"execValue2":"","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":505,"execValue":"AddToCart","version":18,"content":"(function() {\nif (typeof fbq === 'function'){\n\n\tvar PurchaseData = this.data;\n\tvar pSS = _st.core.getPageStructureString().toLowerCase();\n\tif (_st.data.getProperty(\"nsenvironment\") === \"acc\") {\n\t\tplacement = PurchaseData.name + \"_acceptatie\";\n\t}\n\telse {\n\t\tplacement = PurchaseData.name;\n\t}\n\t\nfbq('track', 'AddToCart', {\n\tcurrency: 'EUR', \n\tcontent_name: PurchaseData.name,\n\tcontent_ids: PurchaseData.id,\n\tcontent_type: 'product',\n\tplacement: placement,\n\tpageStructure: \tpSS\t \n});\t\n\t\n}\t\n})();\n        ","exec":"event","group":3},{"execValue2":"","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":507,"execValue":"AddToCart","version":10,"content":"(function() {\nif (typeof ga === 'function'){\n\n\tvar ProductData = this.data;\n\tvar pSS = _st.core.getPageStructureString().toLowerCase();\n\n\t\n ga('ec:addProduct', {\n    'id': ProductData.id || '',\n    'name': ProductData.name || '',\n    'category': ProductData.category || '',\n    'brand': 'NS',\n    'variant': ProductData.variant || '',\n    'price': ProductData.price || '',\n    'quantity': ProductData.quantity || ''\n  });\n\t\n  ga('ec:setAction', 'add');\n  ga('send', 'event', 'Enhanced Ecommerce', 'click', 'addToCart');     // Send data using an event.\n}\t\n\t\n})();\n        ","exec":"event","group":3},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":625,"version":20,"content":"(function(){\n//check if pagestructure contains zakelijk\nvar pss = _st.core.getPageStructureString();\nvar spss = pss.toLowerCase();\nvar url = window.location.href;\n\nif (spss.indexOf('zakelijk') != -1 || spss.indexOf('business') != -1 || url.indexOf('zakelijk') != -1 || url.indexOf('business') != -1 ) {\n_linkedin_data_partner_id = \"220836\";\n//console.log('zakelijk');\n(function(){var s = document.getElementsByTagName(\"script\")[0];\nvar b = document.createElement(\"script\");\nb.type = \"text/javascript\";b.async = true;\nb.src = \"https://snap.licdn.com/li.lms-analytics/insight.min.js\";\ns.parentNode.insertBefore(b, s);})();\n}\n})();","group":3},{"execValue2":"","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":737,"execValue":"Purchase","version":12,"content":"if (typeof twq === 'function' && typeof twttr !== 'undefined'){\n\ttwttr.conversion.trackPid('o03ah', { tw_sale_amount: 0, tw_order_quantity: 0 });\n}","exec":"event","group":3},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"r42.conditions":{"condition":{"nodeType":"AND","nodes":[{"nodeType":"AND","nodes":[{"nodeType":"CONCRETE","selectionName":"1062_176"}]}]},"cacheSeconds":3600},"selector":"head","id":740,"version":15,"content":"(function() {\n\t\n\t\tif (_st.util.gtagLoaded === true) {\n\t\t\tgtag('event', 'conversion', {'send_to': 'AW-870396615/Br7xCKb00ocBEMflhJ8D'});\n\t\t}\n\t\n})();\n        ","exec":"onload","group":3},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"r42.conditions":{"condition":{"nodeType":"AND","nodes":[{"nodeType":"AND","nodes":[{"nodeType":"CONCRETE","selectionName":"1062_177"}]}]},"cacheSeconds":3600},"selector":"head","id":741,"version":16,"content":"(function() {\n\t\tif (_st.util.gtagLoaded === true) {\n\t\t\tgtag('event', 'conversion', {'send_to': 'AW-870396615/Jzc1CJz50ocBEMflhJ8D'}); \n\t\t}\n\t\n})();\n        ","group":3},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"r42.conditions":{"condition":{"nodeType":"AND","nodes":[{"nodeType":"AND","nodes":[{"nodeType":"CONCRETE","selectionName":"1062_175"}]}]},"cacheSeconds":3600},"selector":"head","id":742,"version":16,"content":"(function() {\n\n\t\tif (_st.util.gtagLoaded === true) {\n\t\t\tgtag('event', 'conversion', {'send_to': 'AW-870396615/8BbBCKWh4YcBEMflhJ8D'}); \n\t\t\t\t}\n})();\n        ","group":3},{"markerCondition":"[]","selector":"head","id":749,"version":40,"content":"_st.event.subscribe('userinteractie', '', function(category, name, data) {\t\n\t//console.log(\"userinteractie\")\n\tvar pSS = _st.core.getPageStructureString();\n\tvar gaEventCategory = 'User interaction';\n\tvar gaEventAction;\n\tvar gaEventLabel;\n\tvar gaEventValue;\n\tvar dataPosition;\n\t\n\tif(category == 'userinteractie/clicks/links/'){\n\t\tswitch (data.type) {\t\t\t\n\t\t\tcase 'linklijst':\n\t\t\t\tgaEventAction =\tdata.type;\n\t\t\t\tgaEventLabel = data.name +':'+ data.linkposition;\n\t\t\t\tgaEventValue = '0';\n\t\t\t\tdataPosition = data.linkposition;\n\t\t\t\tbreak;\n\t\t\tcase 'thema':\n\t\t\tcase 'banner':\t\n\t\t\t\tgaEventAction =\tdata.type;\n\t\t\t\tgaEventLabel = data.name +':'+ data.layout;\n\t\t\t\tgaEventValue = '0';\n\t\t\t\tdataPosition = data.layout;\n\t\t\t\tbreak;\n\t\t\tcase 'heroactieblokincarrousel':\t\n\t\t\t\tgaEventAction =\tdata.type;\n\t\t\t\tgaEventLabel = data.carouselitemname +':'+ data.carouselitemposition;\n\t\t\t\tgaEventValue = '0';\n\t\t\t\tdataPosition = data.carouselitemposition;\n\t\t\t\tbreak;\n\t\t\tcase 'tekstenmedia':\n\t\t\t\tgaEventAction =\tdata.linktype;\n\t\t\t\tgaEventLabel = data.linkname;\n\t\t\t\tgaEventValue = '0';\n\t\t\t\tdataPosition = '';\n\t\t\t\tbreak;\n\t\t\tcase null:\n\t\t\tcase undefined: \n\t\t\t\tgaEventAction =\tdata.linktype || \"not_set\";\n\t\t\t\tgaEventLabel = data.linkname || \"not_set\";\n\t\t\t\tgaEventValue = '0';\n\t\t\t\tdataPosition = '';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tgaEventAction =\tdata.type;\n\t\t\t\tgaEventLabel = data.name || \"\";\n\t\t\t\tgaEventValue = '0';\n\t\t\t\tdataPosition = '';\n\t\t}\n\t\tsendEvents();\n\t}\n\telse if(category == 'userinteractie/clicks/button/'){\n\t\t//console.log(\"userinteractie/clicks/button/\")\n\t\tswitch (data.type || '') {\t\t\t\n\t\t\tcase 'toggle':\n\t\t\t\tgaEventAction =\tdata.type;\n\t\t\t\tgaEventLabel = data.name;\n\t\t\t\tgaEventValue = '0';\n\t\t\t\tbreak;\n\t\t\tcase 'chevron':\n\t\t\t\tgaEventAction =\tdata.type;\n\t\t\t\tgaEventLabel = data.name;\n\t\t\t\tgaEventValue = '0';\n\t\t\t\tbreak;\n\t\t\tcase 'product':\n\t\t\t\t/*\n\t\t\t\t\tdata.product = {\n\t\t\t\t\t\tproduct_name: Dal Voordeel\n\t\t\t\t\t\tproduct_id: DVD\n\t\t\t\t\t\tproduct_price: 50 (in EUR)\n\t\t\t\t\t}\n\t\t\t\t*/\n\t\t\t\tgaEventAction =\tdata.type;\n\t\t\t\tgaEventLabel = data.product.product_name;\n\t\t\t\tgaEventValue = '0';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\t//console.log(\"default\")\n\t\t\t\tgaEventAction =\tdata.type || \"button\";\n\t\t\t\tgaEventLabel = data.name || \"no_label\";\n\t\t\t\tgaEventValue = '0';\n\t\t\t\tdataPosition = '';\n\t\t}\n\t\tsendEvents();\n\t}\n\telse if(category == 'userinteractie/sort/') {\n\t\tif(name == 'sort') {\n\t\t\tif (data.sortValue === \"\") {\n\t\t\t\tdata.sortValue = \"Toon alles\";\n\t\t\t}\n\t\t\tgaEventAction =\t'filteractie - gebruiker';\n\t\t\tgaEventLabel = data.sortValue;\n\t\t\tsendEvents();\n\t\t}\n\t\telse if(name == 'init' && data.sortValue !== \"\") {\n\t\t\tgaEventAction =\t'filteractie - pagina';\n\t\t\tgaEventLabel = data.sortValue;\n\t\t\tsendEvents();\n\t\t}\n\t}\n\telse if(category == 'userinteractie/form/updateConditionalField/') {\n\t\tgaEventAction =\tdata.name + \"-\" + data.trigger;\n\t\tgaEventLabel = data.values[0].value;\n\t\tsendEvents();\n\t}\n\telse if(category == 'userinteractie/collapsible/expand/') {\n\t\tgaEventAction =\t\"Goed om te weten\";\n\t\tgaEventLabel = data.trigger;\n\t\tsendEvents();\n\t}\n\t\n\tfunction sendEvents() {\n\t\tif(gaEventCategory !== 'none' && typeof gtag === 'function'){\n\t\t\t\n\t\t\tgtag('event','click', {\n\t\t\t\t'event_label': gaEventLabel,\n\t\t\t\t'event_action': gaEventAction,\n\t\t\t\t'event_category': gaEventCategory\n\t\t\t});\n\t\t\t\n\t\t}\t\n\t}\n\t\n\t});\t"},{"markerCondition":"[]","selector":"head","id":504,"version":21,"content":"(function() {\n\tvar url = document.referrer;\n    var substring = \"ns.nl/formulieren/bel-me-terug.html\";\n    if(url.indexOf(substring) !== -1) {\n\t\tif(_st.util.getUrlParam(\"r18_r1:u_u_i_d\") == \"\") {\n\t\t\tif(typeof(_st.util.getElement(\".tile--alert\")) !== \"object\") {\n\t\t\t\tsendSizmek(\"1080254\");\n\t\t\t\tsendAdform(\"NSBC_bel_me_terug_niet_verstuurd\");\n\t\t\t\tsendFacebook(\"Belterug_niet_verstuurd\");\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tif(typeof(_st.util.getElement(\".tile--alert\")) !== \"object\") {\n\t\t\t\tsendSizmek(\"1073434\");\n\t\t\t\tsendAdform(\"NSBC_Verstuurbutton_bel_me_terug\");\n\t\t\t\tsendFacebook(\"Buttonbelterug\");\n\t\t\t}\n\t\t}\n\t}\n})();\n\nfunction sendSizmek(id) {\t\n  var ebRand = Math.random() + \"\";\n  ebRand = ebRand * 1000000;\n\n  var url = '//bs.serving-sys.com/BurstingPipe/ActivityServer.bs?cn=as';\n  url += '&ActivityID='+id;\n  url += '&rnd=' + ebRand;\n  _st.inject.script(url);\n}\n\nfunction sendAdform(pagename) {\t\n    if (window.adf) {\n\t\tadf.ClickTrack(this,761117,pagename,{});\n\t}\n}\n\nfunction sendFacebook(placement) {\t\n\tif (typeof fbq === 'function'){\n\t\tvar _eventParams = {\n\t\t\tplacement:\t\tplacement\n\t\t};\n\t\tfbq('track', 'PageView', _eventParams);\n\t}\n}","exec":"onload"},{"execValue2":"Einde","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":395,"execValue":"businesscardaanvragen","version":11,"content":"_st.inject.script(\"//www.googleadservices.com/pagead/conversion_async.js\", { callback: function() {\n\tif(window.google_trackConversion) {\n\t\tvar params = {};\n\t\twindow.google_trackConversion({\n\t\t\tgoogle_conversion_id: parseInt('1016885057', 10),\n\t\t\tgoogle_remarketing_only: true,\n\t\t\tgoogle_conversion_language :\"en\",\n\t\t\tgoogle_conversion_format : \"3\",\n\t\t    google_conversion_color: \"ffffff\",\n\t\t\tgoogle_conversion_label : \"BAFsCISo7WwQwd7x5AM\",\n\t\t\tgoogle_custom_params: params\n\n\t\t});\n\t}\n}});","exec":"event","group":3},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":449,"version":23,"content":"(function() {\n\nvar pSS = _st.core.getPageStructureString().toLowerCase();\nvar pS = _st.core.getPageStructure();\nvar referrerNS = document.referrer.length;\nvar zK;\n\t\nif(document.location.pathname.indexOf('zakelijk') > 0){\n\tzK = ' Zakelijk';\n} else {\n\tzK = '';\n}\t\n\t\nif(pSS === 'producten|selfservicepagina' && referrerNS > 0){\nreturn;\n} else if(pSS === 'producten|product detailpagina'){\n fbq('trackCustom', 'Retargeting', {\n    placement:_st.data.getProperty('detailView').detail.products[0].name + zK,\n\tpageStructure: _st.core.getPageStructureString()  \n});\n\t\n}\telse if(pSS === 'producten|winkelwagen'){\n fbq('trackCustom', 'Retargeting', {\n    placement:_st.data.getProperty('cartView').products[0].name,\n\tpageStructure: _st.core.getPageStructureString()  \n});\n\t\n} else if(pSS === 'thema|zakelijk|ns-business-card-bestellen' || 'detail|uitgelicht|acties'){\n fbq('trackCustom', 'Retargeting', {\n    placement: _st.data.getProperty('name'),\n\tpageStructure: _st.core.getPageStructureString()  \n});\n\t\n} \n\t\t\n/*function fbPurchase(){\n\n\tvar checkTrans = _st.data.getProperty('transactionBlock');\n\t\t\tif(typeof _st.data.getProperty('ecommerce') === 'object' && checkTrans !== 'true'){\n\t\t\tvar products = _st.data.getProperty('ecommerce').purchase.products;\n\t\t\tvar productNames = [];\n\t\t\tvar productIds = [];\n\t\t\tvar tRevenue =  _st.data.getProperty('ecommerce').purchase.actionField.revenue;\t\n\t\t\tvar tId =  _st.data.getProperty('ecommerce').purchase.actionField.id;\t\n\n\t\t\tif (typeof products === 'undefined' || !products){\n\t\t\t\treturn;\n\t\t\t\t} else {\t\n\n\t\t\tfor (i = 0; i < products.length; i++) { \n\t\t\t productNames.push(products[i].name);\n\t\t\t productIds.push(products[i].id);\n\t\t\t}\n\nfbq('track', 'Purchase', {\n\tcurrency: 'EUR', \n    value: tRevenue,\n\tcontent_name: productNames,\n\tcontent_ids: productIds,\n\tcontent_type: 'product',\n\ttransaction_id: tId,\n\tplacement:\t\tproductNames[0],\n\tpageStructure: \t_st.core.getPageStructureString()\n});\n     }\n}\n}*/\n})();","exec":"onload","group":3},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"r42.conditions":{"condition":{"nodeType":"AND","nodes":[{"nodeType":"AND","nodes":[{"nodeType":"CONCRETE","selectionName":"1062_104"}]}]},"cacheSeconds":0},"selector":"head","id":558,"version":33,"content":"var ssNSi = _st.util.nsSSR('nsi');\n\nif(ssNSi === false){\n_st.inject.script(\"//www.googleadservices.com/pagead/conversion_async.js\", { callback: function() {\n\tif(window.google_trackConversion) {\n\t\tvar params = {};\n\t\t_st.util.nsSSW('nsi');\n\t\twindow.google_trackConversion({\n\t\t\tgoogle_conversion_id: parseInt('1068646378', 10),\n\t\t\tgoogle_conversion_label: 'ZbCtCIuQ4XkQ6v_I_QM',\n\t\t\tgoogle_remarketing_only: true,\n\t\t\tgoogle_custom_params: params\n\t\t});\n\t}\n}});\n}","exec":"onready","group":3},{"markerCondition":"[]","selector":"head","id":183,"version":9,"content":"(function() {\n    \n\t\n\tfunction formatName(name) {\n        if (!name) return null;\n        return name.replace(/[^A-Z0-9]+/ig, \"-\").toLowerCase();\n    }\n\n    function promotionClickDelegate(slide) {\n        return function() {\n            promotionClick(slide);\n        };\n    }\n\n    function promotionClick(suggestion) {\n        if (typeof suggestion.id !== 'undefined') {\n            ga('ec:addPromo', {\n                'id': suggestion.id,\n                'name': suggestion.name,\n                'creative': suggestion.creative,\n                'position': suggestion.position\n            });\n\t\t\tga('ec:setAction', 'promo_click');\n            ga('send', 'event', 'promotions-clicks', 'suggestions', slide.id);\n        }\n    }\n\t\n\ttry {\n\t\tvar suggestions = document.querySelectorAll(\".hst-container .hst-container-item[data-type^=cms-ArticleBannerTegelBlokje]\");\n\t\tvar suggestionItems = [];\n\t\t\n\t\t// Suggestions\n\t\tfor (i = 0; i < suggestions.length; i++) {\n\t\t\t\n\t\t\t/*\n\t\t\tvar item = formatName(tabs[i].querySelector(\"a\").textContent.trim()) || '';\n\t\t\tvar links = carousel[s].querySelectorAll(\"a\");\n\t\t\tvar clickItem = carouselItems[s];\n\t\t\tfor (x = 0; x < links.length; x++) {\n\t\t\t\tlinks[x].addEventListener(\"click\", promotionClickDelegate(clickItem), false);\n\t\t\t}\n\t\t\t*/\n\t\t\t\n\t\t\tif (item !== '') {\n\t\t\t\tsuggestionItems.push({\n\t\t\t\t\t'id': item,\n\t\t\t\t\t'name': item,\n\t\t\t\t\t'creative': 'suggestions',\n\t\t\t\t\t'position': 'tile_' + (i + 1)\n\t\t\t\t});\n\t\t\t\tga('ec:addPromo', {\n\t\t\t\t\t'id': item,\n\t\t\t\t\t'name': item,\n\t\t\t\t\t'creative': 'suggestions',\n\t\t\t\t\t'position': 'tile_' + (i + 1)\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t//ga('send', 'event', 'promotions-impressions', 'suggestions');\n\t\t\n\t} catch(err) {\n\t\t//_st.counter.call('13');\t\n\t}\n\t\n})();","exec":"onload"},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"r42.conditions":{"condition":{"nodeType":"AND","nodes":[{"nodeType":"AND","nodes":[{"nodeType":"NOT","node":{"nodeType":"CONCRETE","selectionName":"1062_87"}}]}]},"cacheSeconds":0},"selector":"head","id":413,"version":32,"content":"(function() {\n\n\tvar nsE = _st.util.nsSSR('nsE');\n\t\n    if (nsE === false && typeof fbq == 'function') {\n\t\t\t_st.util.nsSSW('nsE');\n\t\t\n\t\t\t\t\t\tfbq('trackCustom','NS-Extra-Target');\n\n\t\t}\n })();","exec":"onload","group":3},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"r42.conditions":{"condition":{"nodeType":"AND","nodes":[{"nodeType":"AND","nodes":[{"nodeType":"CONCRETE","selectionName":"1062_111"}]}]},"cacheSeconds":0},"selector":"head","id":473,"version":22,"content":"(function() {\n\n\tvar dPro = _st.util.nsSSR('dPro');\n    if (dPro === false && typeof fbq == 'function') {\n       _st.util.nsSSW('dPro');\n\t\t\t\t\t\tfbq('trackCustom','DVD-Promo', {\n\t\t\t\t\t\t'placement': '>1 aankoop 90d'\n\t\t\t\t\t\t});\n   }\n})();","exec":"onload","group":3},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"r42.conditions":{"condition":{"nodeType":"AND","nodes":[{"nodeType":"AND","nodes":[{"nodeType":"CONCRETE","selectionName":"1062_104"}]}]},"cacheSeconds":3600},"selector":"head","id":481,"version":29,"content":"(function() {\n\nvar aboH = _st.util.nsSSR('aboH');\n\n    if (aboH === false && typeof fbq == 'function') {\n       \t_st.util.nsSSW('aboH');\n        fbq('trackCustom', 'ExcludeCustomer', {\n            placement: 'AbonnementhoudersNew',\n            pageStructure: _st.core.getPageStructureString()\n        });\n    }\n})();","exec":"onload","group":3},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"r42.conditions":{"condition":{"nodeType":"AND","nodes":[{"nodeType":"AND","nodes":[{"nodeType":"CONCRETE","selectionName":"1062_75"}]}]},"cacheSeconds":0},"selector":"head","id":483,"version":11,"content":"(function() {\n\n\tvar stD = _st.util.nsSSR('stD');\n\n    if (stD === false && typeof fbq == 'function') {\n       \t_st.util.nsSSW('stD');\n        fbq('trackCustom', 'StudentISP');\n    }\n})();","exec":"onload","group":3},{"execValue2":"","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":524,"execValue":"OogstEngagement","version":13,"content":"(function() {\n\nfbq('trackCustom','OogstEngagement');\n\n })();","exec":"event","group":3},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"r42.conditions":{"condition":{"nodeType":"AND","nodes":[{"nodeType":"AND","nodes":[{"nodeType":"CONCRETE","selectionName":"1062_134"}]}]},"cacheSeconds":0},"selector":"head","id":566,"version":10,"content":"(function() {\n\n\t\tvar hFR = _st.util.nsSSR('hFR');\n\n    \tif(hFR === false && typeof fbq == 'function') {\n       \t_st.util.nsSSW('hFR');\n        fbq('trackCustom', 'HF-Reiziger');\n\t\t}\n})();","exec":"onload","group":3},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"r42.conditions":{"condition":{"nodeType":"AND","nodes":[{"nodeType":"AND","nodes":[{"nodeType":"CONCRETE","selectionName":"1062_139"}]}]},"cacheSeconds":0},"selector":"head","id":594,"version":7,"content":"(function() {\n\n\tvar grpR = _st.util.nsSSR('grpR');\n\t\n    if (grpR === false && typeof fbq == 'function') {\n\t\t\t_st.util.nsSSW('grpR');\n\t\t\n\t\t\t\t\t\tfbq('trackCustom','GroepsretourTarget');\n\n\t\t}\n })();","exec":"onload","group":3},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"r42.conditions":{"condition":{"nodeType":"AND","nodes":[{"nodeType":"AND","nodes":[{"nodeType":"CONCRETE","selectionName":"1062_121"}]}]},"cacheSeconds":0},"selector":"head","id":595,"version":7,"content":"(function() {\n\n\tvar avAb = _st.util.nsSSR('avAb');\n\t\n    if (avAb === false && typeof fbq == 'function') {\n\t\t\t_st.util.nsSSW('avAb');\n\t\t\n\t\t\t\t\t\tfbq('trackCustom','Altijd-|OV-Vrij');\n\n\t\t}\n })();","exec":"onload","group":3},{"markerCondition":"[]","selector":"head","id":690,"version":50,"content":"_st.exec.delayed(function(){\n\n\t//0. Check if optimizely object is available\n\t\t\tif(typeof optimizely === 'object'){\n\t\t\t\tif (typeof optimizely.get === 'function'){\n\t//1. get active ids of experiments on page\n\n\tvar optimizelyIds = optimizely.get('state').getActiveExperimentIds();\n    if (optimizelyIds.length > 0){\n      for (var i = 0; i < optimizelyIds.length; i++) {\n        var ids = optimizelyIds[i];\n//2. get data for active experiment\n        var actieveExperimenten = optimizely.get('state').getExperimentStates({\"isActive\":true});\n\n//3. get variables per experiment id\n        var exp = actieveExperimenten[ids];\n        var expName = exp.experimentName;\n        var expId = exp.id;\n        var variationName = exp.variation.name;\n        var gaExperimentNaam = '|'+expId + ':' + variationName + '|';\n\n//4. send event to ga\n\t_st.util.gtagPush('ga',{\n                'event_category': 'Optimizely',\n                'event_action': gaExperimentNaam,\n                'event_label': expName,\n\t\t\t\t'non_interaction': 1\n\n        });\t  \n    }\n  }\n\t}\n}\n},500);","exec":"onload"},{"markerCondition":"[]","selector":"head","id":692,"version":8,"content":"(function() {\n   //check if error message element is available\n\tvar elementTester = document.querySelector(\".formErrorSummary__intro\");\nif (elementTester){\n  //send event to Google Analytics\n\t\n\tif(_st.util.gtagLoaded){\n\t\t\t\tgtag('event','select_content', {\n\t\t\t\t\t\t'event_label': window.location.pathname,\n\t\t\t\t\t\t'event_action': elementTester.innerText,\n\t\t\t\t\t\t'event_category': 'Error',\n\t\t\t\t\t\t'non_interaction': true,\n\t\t\t\t\t\t'send_to': _st.data.getProperty('ua_id')\n\t\t\t\t\t});\n\t\t\t}\n}\n})();\n        ","exec":"onload"},{"execValue2":"","markerCondition":"[]","selector":"head","id":713,"execValue":"OogstEngagement","version":40,"content":"(function(){\n\n\t\t\t\t  \n\tif (_st.util.gtagLoaded){\n\t\t/*gtag('event', this.matchedEvent, {\n  \t\t\t\t\t\t\t\t'event_category': 'OogstEngagement',\n\t\t\t \t\t\t\t\t'nonInteraction': true\n\t\t\t\t\t\t\t\t});*/\n\t}\n\tif (typeof twq == 'function' && typeof twttr === 'object'){\n\t\ttwttr.conversion.trackPid('o03af', { tw_sale_amount: 0, tw_order_quantity: 0 });\n\t}\n\tif (_st.util.getCookie('cS') !== 'done'){\n\t\t_st.util.gtagPush('AW-870396615/nvPFCK6-6ocBEMflhJ8D');\n\t\t_st.util.gtagPush('DC-8893231/ns_en0/ns-engag+per_session');\n\t}\n\t\t\t\n\t\n_st.util.setCookie('cS','done',(1/24));\n\n//LinkedIn pixel\n\t_st.inject.pixel(\"https://dc.ads.linkedin.com/collect/?pid=220836&conversionId=683236&fmt=gif\");\n\t\n})();","exec":"event"},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":989,"version":24,"content":"(function() {\n\t\n\tvar subcat = 'rtg';\n\tvar name = 'ns_zakelijk_funnel_step1';\n\tvar fbObj = {};\n\t\n\tif(typeof fbq === 'function' && _st.util.sessionStorageSupport()){\n\t\n\t\tvar nsFBQ = _st.util.SS('fbq') || {};\n\t\t\n\tif(Object.keys(nsFBQ).length === 0 && nsFBQ.constructor === Object){\n\t\t\t\t//console.log('fbq is no object');\n\t\t\t\t_st.util.SS('fbq',subcat,name);\n\t\t\t\tfbq('trackCustom',name,fbObj);\n\t} else if(Object.keys(nsFBQ).length > 0){\n\n\t\t\t\tif(!(subcat in nsFBQ)){\n\t\t\t\t\t\t//console.log('fbq is object but no match subcat');\n                        _st.util.SS('fbq',subcat,name);\n                        fbq('trackCustom',name,fbObj);\t\n\t\t\t\t} else if(subcat in nsFBQ){\n\t\t\t\t\tif(!(name in nsFBQ[subcat])){\n\t\t\t\t\t\t//console.log('fbq is object, match subcat but no match name');\n\t\t\t\t\t\t_st.util.SS('fbq',subcat,name);\n                        fbq('trackCustom',name,fbObj);\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t} \n\t\n\t\tif(!_st.util.sessionStorageSupport()){fbq('trackCustom',name,fbObj);}\n\t\t\n\t}\n\t\n })();","exec":"onload","group":3},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":132,"version":15,"content":"_st.tracking.syncPartner(0);","group":3},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":230,"version":18,"content":"(function(){\n    var r42Cookie = _st.tracking.getUserIdentifier();\n    var trackUrl = _st.settings.trackUrl;\n    var clientId = '6d62b101-809f-402f-9156-a9845087a09f';\n    var siteId = 'e8c820f2-72ec-4b5c-9974-5027fc1d58a8';\n    \n\tvar uData = _st.data.getUserData();\n\tvar now = new Date().getTime();\n\tuData.p = uData.p || {};\n\t\n\tif(!uData.p[4242] || uData.p[4242] < (now - 3600000)) {\n    \tvar img = new Image();\n    \timg.src='//' + trackUrl + '/collect/' + clientId + '/sync/' + siteId + '/' + r42Cookie;\n\t\tuData.p[4242] = now;\n\t\t_st.data.saveUserData();\n\t}\n})();","group":3},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":869,"version":9,"content":"_st.tracking.syncPartner(7);","group":3},{"markerCondition":"[]","selector":"head","id":922,"version":75,"content":"(function() {\n\n// Set products for Usabilla\nvar ostProducts = ['nsflex'];\nvar ostConfirmationPages = {nsflex:'nsflex-webshop|bevestiging'};//test: nsflex-webshop|bestelling|producten\nvar cleanedPageString = _st.core.getPageStructureString().toLowerCase().split('?')[0];\n\nif (sessionStorage.productstage) {\n\tvar ostInterestLog = _st.util.decodeJson(sessionStorage.productstage);\n\t}\n\telse {\n\t\tvar ostInterestLog = {};\n\t}\n\n// fill sessionstorage | product: visited, left, sale, sent\n\nvar ostCurrentInterest = _st.data.getProperty('funnelType');\n\n// Log visit IF Current page is of a product to handle\nif(ostProducts.indexOf(ostCurrentInterest) >= 0){\n\tif(ostInterestLog[ostCurrentInterest]){\t\n\t\tostInterestLog[ostCurrentInterest][0] = 1;\n\t}\n\telse{\n\t\tostInterestLog[ostCurrentInterest] = [1,0,1,1];\t\n\t}\n}\n\n// Log exit\nfor (var i = 0; i < ostProducts.length; i++) {\n\tif(ostCurrentInterest !== ostProducts[i] && ostInterestLog[ostProducts[i]]){\n\t\tostInterestLog[ostProducts[i]][1] = 1;\n}}\n\n// log sale\nif(cleanedPageString == ostConfirmationPages[ostCurrentInterest]){\n\tif(ostInterestLog[ostCurrentInterest]){\n\t\tostInterestLog[ostCurrentInterest][2] = 0;\n\t}\n\telse{\n\tostInterestLog[ostCurrentInterest] = [1,0,0,1];\n\t}\n}\n\t\nostSetLocalStorage();\t\n\n// Send to Usabilla?\nfor (var i = 0; i < ostProducts.length; i++) {\n\tif(ostInterestLog[ostProducts[i]]){\n\t\tif(ostInterestLog[ostProducts[i]][0] == 1 && ostInterestLog[ostProducts[i]][1] == 1 && ostInterestLog[ostProducts[i]][2] == 1 && ostInterestLog[ostProducts[i]][3] == 1){\n\t\t\tostUsabillaTrigger(ostProducts[i]);\n\t\t\tostInterestLog[ostProducts[i]][3] = 0;\n\t\t\tostSetLocalStorage();\n\t\t}\n\t}\n}\n\t\n\n\nfunction ostSetLocalStorage(){\n\t\tif (typeof(Storage) !== \"undefined\") {\n\t\t\tsessionStorage.productstage = _st.util.encodeJson(ostInterestLog);\n\n\t\t} else {\n\t\t\t//No Web Storage support\n\t\t}\n\t}\n\nfunction ostUsabillaTrigger(name){\n\twindow.usabilla_live('trigger', name);\n\t}\n\t\n})();\n        \n\n","exec":"onready"},{"markerCondition":"[]","selector":"head","id":898,"version":26,"content":"(function(){\n\tvar page_structure = _st.core.getPageStructureString().toLowerCase();\n\tvar reg_flex = new RegExp(/flex/); \n\tvar check_flex =reg_flex.test(page_structure);\n\tif (check_flex) {\n\t  \tvar size;\n\tvar screen_cookie = _st.util.getCookie('screen');\n \tvar hj_trigger =\tfunction getScreensize() {\nvar w = window,\n    d = document,\n    e = d.documentElement,\n    g = d.getElementsByTagName('body')[0],\n    x = w.innerWidth || e.clientWidth || g.clientWidth,\n    y = w.innerHeight|| e.clientHeight|| g.clientHeight;\n\n\tvar size = (x + '  ' + y);\n\t\t_st.util.setCookie('screen',size);\n\t\tif ( size === '360  640' || size === '320  568') { \n\t\t\t//x =  special mark in sizes\n\t\t\t// hotjar not implemented on all pages\n\t\t\t\n\t\tif (typeof hj === 'function') {\n\t\t\thj('trigger', 'special_screen');\n\t\t}\n\t\t//console.log('very special flex screen');\n\t\t}\n};\n\n\tif (!screen_cookie){\n\thj_trigger();\n\t}\n\t}\n})();"}],"experiments":[{"id":129,"groups":[{"id":130,"weight":60},{"id":131,"weight":20},{"id":132,"weight":20}]},{"id":66,"groups":[{"id":67,"weight":500},{"id":68,"weight":500},{"id":69,"weight":1}]},{"id":133,"groups":[{"id":134,"weight":1},{"id":135,"weight":1},{"id":136,"weight":1}]},{"id":137,"groups":[{"id":138,"weight":1},{"id":139,"weight":1},{"id":140,"weight":1}]},{"id":10,"groups":[{"id":11,"weight":1},{"id":12,"weight":1000000}]},{"id":76,"groups":[{"id":77,"weight":500},{"id":78,"weight":500},{"id":79,"weight":1}]},{"id":141,"groups":[{"id":142,"weight":8},{"id":143,"weight":2}]},{"id":144,"groups":[{"id":145,"weight":1},{"id":146,"weight":1},{"id":147,"weight":1}]},{"id":80,"groups":[{"id":81,"weight":25},{"id":82,"weight":25},{"id":83,"weight":50}]},{"id":148,"groups":[{"id":149,"weight":99999999},{"id":150,"weight":1},{"id":151,"weight":1},{"id":152,"weight":1}]},{"id":84,"groups":[{"id":85,"weight":750},{"id":86,"weight":250},{"id":87,"weight":1}]},{"id":88,"groups":[{"id":89,"weight":10},{"id":90,"weight":90}]},{"id":91,"groups":[{"id":92,"weight":1},{"id":93,"weight":4}]},{"id":94,"groups":[{"id":95,"weight":95},{"id":96,"weight":5}]},{"id":97,"groups":[{"id":98,"weight":1},{"id":99,"weight":1}]},{"id":35,"groups":[{"id":36,"weight":1},{"id":37,"weight":1}]},{"id":38,"groups":[{"id":39,"weight":1},{"id":40,"weight":2},{"id":41,"weight":1}]},{"id":103,"groups":[{"id":104,"weight":1},{"id":105,"weight":1},{"id":106,"weight":1}]},{"id":42,"groups":[{"id":43,"weight":1},{"id":44,"weight":1},{"id":45,"weight":1}]},{"id":107,"groups":[{"id":108,"weight":1},{"id":109,"weight":1},{"id":110,"weight":1}]},{"id":111,"groups":[{"id":112,"weight":1},{"id":113,"weight":1},{"id":114,"weight":1}]},{"id":49,"groups":[{"id":50,"weight":1},{"id":51,"weight":1},{"id":52,"weight":1}]},{"id":115,"groups":[{"id":116,"weight":99},{"id":117,"weight":1}]},{"id":53,"groups":[{"id":54,"weight":1},{"id":55,"weight":1}]},{"id":56,"groups":[{"id":57,"weight":1000},{"id":58,"weight":1000},{"id":59,"weight":1}]},{"id":122,"groups":[{"id":123,"weight":1},{"id":124,"weight":1},{"id":125,"weight":1}]},{"id":60,"groups":[{"id":61,"weight":1},{"id":62,"weight":1}]}],"dataCollectionRate":500});
/*! NS Digital Data Queue v1.0.0 - License information can be found in scripts/ddq.bundle.js.LICENSE */
!function(n){var r={};function o(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=n,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=2)}([function(t,e){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,n){e&&r(t.prototype,e),n&&r(t,n)}(t,[{key:"transformHandler",value:function(){if(void 0!==_st.util&&void 0!==_st.util.ddqTransform)return _st.util.ddqTransform}},{key:"eventHandler",value:function(t,e,n){var r="environment";if(void 0!==e.event)switch(e.event){case"page":if(_st){_st("resetTags");var o=e.page_structure;void 0!==o&&_st.apply(this,[].concat("setPageStructure",o)),void 0!==e[r]&&_st("setEnvironment",e[r]),_st("addTagProperties",e),_st("loadTags"),_st.debug.log('digital-data-queue: Event : "'+e.event+'" to loadTags()')}break;default:_st&&(_st.event.publish("ddq",e.event,e),_st.debug.log('digital-data-queue: Event : "'+e.event+'" to event.publish()'))}}}]),t}();t.exports=new n},function(r,o,i){var a,u;!function(t){if(void 0===(u="function"==typeof(a=t)?a.call(o,i,o,r):a)||(r.exports=u),!0,r.exports=t(),!!0){var e=window.Cookies,n=window.Cookies=t();n.noConflict=function(){return window.Cookies=e,n}}}(function(){function b(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}return function t(d){function y(t,e,n){var r;if("undefined"!=typeof document){if(1<arguments.length){if("number"==typeof(n=b({path:"/"},y.defaults,n)).expires){var o=new Date;o.setMilliseconds(o.getMilliseconds()+864e5*n.expires),n.expires=o}n.expires=n.expires?n.expires.toUTCString():"";try{r=JSON.stringify(e),/^[\{\[]/.test(r)&&(e=r)}catch(t){}e=d.write?d.write(e,t):encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var i="";for(var a in n)n[a]&&(i+="; "+a,!0!==n[a]&&(i+="="+n[a]));return document.cookie=t+"="+e+i}t||(r={});for(var u=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,s=0;s<u.length;s++){var c=u[s].split("="),f=c.slice(1).join("=");this.json||'"'!==f.charAt(0)||(f=f.slice(1,-1));try{var p=c[0].replace(l,decodeURIComponent);if(f=d.read?d.read(f,p):d(f,p)||f.replace(l,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch(t){}if(t===p){r=f;break}t||(r[p]=f)}catch(t){}}return r}}return(y.set=y).get=function(t){return y.call(y,t)},y.getJSON=function(){return y.apply({json:!0},[].slice.call(arguments))},y.defaults={},y.remove=function(t,e){y(t,"",b(e,{expires:-1}))},y.withConverter=t,y}(function(){})})},function(t,e,n){t.exports=n(3)},function(t,e,n){"use strict";n.r(e);n(4);var r=n(0),o=n.n(r),i=n(1),a=n.n(i);function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ddqCookieName="ddq_debug"}return function(t,e,n){e&&u(t.prototype,e),n&&u(t,n)}(t,[{key:"initialize",value:function(){var t=o.a.transformHandler(),e={};t&&(e={transform:!0,transformHandler:t}),this.instance=new DigitalDataQueue(window.nsDataQueue,"ddq-ns",[o.a.eventHandler],e)}},{key:"enableDebug",value:function(){a.a.set(this.ddqCookieName,"true")}},{key:"disableDebug",value:function(){a.a.remove(this.ddqCookieName)}}]),t}();window.nsDDQ=new l,window.connectRelay42=function(t){window.nsDDQ.initialize()}},function(t,e,n){(function(e){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n,r,b=b||{};function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}b.scope={},b.ASSUME_ES5=!1,b.ASSUME_NO_NATIVE_MAP=!1,b.ASSUME_NO_NATIVE_SET=!1,b.defineProperty=b.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},b.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:void 0!==e&&null!=e?e:t},b.global=b.getGlobal(this),b.SYMBOL_PREFIX="jscomp_symbol_",b.initSymbol=function(){b.initSymbol=function(){},b.global.Symbol||(b.global.Symbol=b.Symbol)},b.symbolCounter_=0,b.Symbol=function(t){return b.SYMBOL_PREFIX+(t||"")+b.symbolCounter_++},b.initSymbolIterator=function(){b.initSymbol();var t=b.global.Symbol.iterator;t||(t=b.global.Symbol.iterator=b.global.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&b.defineProperty(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return b.arrayIterator(this)}}),b.initSymbolIterator=function(){}},b.arrayIterator=function(t){var e=0;return b.iteratorPrototype(function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}})},b.iteratorPrototype=function(t){return b.initSymbolIterator(),(t={next:t})[b.global.Symbol.iterator]=function(){return this},t},b.makeIterator=function(t){b.initSymbolIterator();var e=t[Symbol.iterator];return e?e.call(t):b.arrayIterator(t)},b.arrayFromIterator=function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n},b.arrayFromIterable=function(t){return t instanceof Array?t:b.arrayFromIterator(b.makeIterator(t))},b.owns=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},b.polyfill=function(t,e,n,r){if(e){for(n=b.global,t=t.split("."),r=0;r<t.length-1;r++){var o=t[r];o in n||(n[o]={}),n=n[o]}(e=e(r=n[t=t[t.length-1]]))!=r&&null!=e&&b.defineProperty(n,t,{configurable:!0,writable:!0,value:e})}},b.polyfill("Object.assign",function(t){return t||function(t,e){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var o in r)b.owns(r,o)&&(t[o]=r[o])}return t}},"es6","es3"),b.iteratorFromArray=function(e,n){b.initSymbolIterator(),e instanceof String&&(e+="");var r=0,o={next:function(){if(r<e.length){var t=r++;return{value:n(t,e[t]),done:!1}}return o.next=function(){return{done:!0,value:void 0}},o.next()}};return o[Symbol.iterator]=function(){return o},o},b.polyfill("Array.prototype.keys",function(t){return t||function(){return b.iteratorFromArray(this,function(t){return t})}},"es6","es3"),r={},i.m=n=[function(t,e,n){function s(t,e){var n={},r=n;t=t.split(".");for(var o=0;o<t.length-1;o++)r=r[t[o]]={};return r[t[t.length-1]]=e,n}function c(t){return"function"==typeof Array.isArray&&Array.isArray(t)||"[object Array]"===Object.prototype.toString.call(t)}function f(t){return"function"==typeof t||"[object Function]"===Object.prototype.toString.call(t)}function p(t){return null!==t&&"object"==o(t)&&t.__proto__===Object.prototype}function d(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(Object(t),n)){var r=t[n];c(r)?(c(e[n])||(e[n]=[]),d(r,e[n])):p(r)?(p(e[n])||(e[n]={}),d(r,e[n])):e[n]=r}}function y(t){return null!==t&&"object"==o(t)?JSON.parse(JSON.stringify(t)):{}}function u(t){return(t=document.cookie.match("(^|;) ?"+t+"=([^;]*)(;|$)"))?t[2]:null}function l(t,e,n){console.log("%c(digital-data-queue)","color: blue; font-weight: bold;"),console.log(" EVENTDATA (TRANSFORMED) %o",e),console.log(" EVENTDATA (SOURCE) %o",n),console.log(" MODELSTATE %o",t),f(window.ddqDebugger)&&window.ddqDebugger(t,e,n)}n.r(e),(t=function(r,t,e,n){var o=this;e=void 0===e?[]:e,n=void 0===n?{}:n,this.queue=t,this.version="1.0",this.digitalData=r,this.model={},this.listeners=e,t={history:!0,debug:!1,flattenThreshold:200,transform:!1,transformHandler:function(t){return t}};var i=Object.assign({},t,n);this.options={},Object.keys(t).forEach(function(t){o.options[t]=i[t]}),"true"==u("ddq_debug")&&(this.options.debug=!0),!0===this.options.debug&&this.listeners.push(l),this._exec=!1,this._unprocessed=[],this._transformed=[],this._listeners=this.listeners.length,this.processEvents(r,!this.options.history);var a=r.push;r.push=function(t){for(var e=[],n=0;n<arguments.length;++n)e[n-0]=arguments[n];return o.processEvents(e),a.apply(r,e)}}).prototype.get=function(t){var e=this.model;t=t.split(".");for(var n=0;n<t.length;n++){if(void 0===e[t[n]])return;e=e[t[n]]}return e},t.prototype.set=function(t,e){d(s(t,e),this.model)},t.prototype.clone=function(t){return y(t)},t.prototype.getCookie=function(t){return u(t)},t.prototype.setCookie=function(t,e,n){var r=new Date;r.setTime(r.getTime()+864e5*n),document.cookie=t+"="+e+";path=/;expires="+r.toGMTString()},t.prototype.flatten=function(){this.digitalData.splice(0,this.digitalData.length),this.digitalData[0]={},d(this.model,this.digitalData[0]),this.transform&&(this._transformed.splice(0,this._transformed.length),this._transformed[0]={},d(this.model,this._transformed[0]))},t.prototype.processEvents=function(t,e){for(this._unprocessed.push.apply(this._unprocessed,[].concat(b.arrayFromIterable(t)));!1===this._exec&&0<this._unprocessed.length;){t=this._unprocessed.shift();var n=this.options.transform?this.options.transformHandler(y(t)):t;if(this._transformed.push(n),c(n))t:{var r=this.model,o=n[0];if("string"==typeof o||"[object String]"===Object.prototype.toString.call(o)){for(var i=(o=n[0].split(".")).pop(),a=n.slice(1),u=0;u<o.length;u++){if(void 0===r[o[u]])break t;r=r[o[u]]}r[i].apply(null,[].concat(b.arrayFromIterable(a)))}}else if(!f(n)){if(!p(n))continue;for(var l in n)d(s(l,n[l]),this.model)}if(!e){if(this._exec=!0,c(this.listeners))for(o=0;o<this._listeners;o++)f(this.listeners[o])&&this.listeners[o](y(this.model),y(n),y(t));this._exec=!1}}},window.DigitalDataQueue=t}],i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){b.initSymbol(),b.initSymbol(),"undefined"!=typeof Symbol&&Symbol.toStringTag&&(b.initSymbol(),Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t||4&t&&"object"==o(e)&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}).call(this,n(5))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n}]);
//# sourceMappingURL=ddq.bundle.js.map